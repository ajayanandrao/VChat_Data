/*! For license information please see main.63477374.js.LICENSE.txt */
!function(){var e={861:function(e,t,n){"use strict";var r=n(456),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=f(n,y);try{l(t,y,g)}catch(k){}}}}return t}},229:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return b(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||b(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===g||e.$$typeof===k||e.$$typeof===_||e.$$typeof===y)},t.typeOf=b},456:function(e,t,n){"use strict";e.exports=n(229)},534:function(e,t,n){"use strict";var r=n(313),i=n(224);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case x:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Se=null;function xe(e){if(e=ki(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Te(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Ee||null!==Se)&&(Ne(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Et,St,xt,Tt=!1,Ct=[],It=null,Nt=null,Pt=null,Rt=new Map,At=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void xt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Tt=!1,null!==It&&Ut(It)&&(It=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==Pt&&Ut(Pt)&&(Pt=null),Rt.forEach(jt),At.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==Pt&&zt(Pt,e),Rt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Ht=_.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Kt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Gt(e,t,n,r){if(qt){var i=$t(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&bt(a),null===(a=$t(e,t,n,r))&&qr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),hn=F({},ln,{view:0,detail:0}),fn=an(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},hn,{relatedTarget:0})),yn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),_n=an(F({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function xn(){return Sn}var Tn=F({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Rn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function $n(e){if(G(_i(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,be(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Er={},Sr={};function xr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Tr=xr("animationend"),Cr=xr("animationiteration"),Ir=xr("animationstart"),Nr=xr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Pr.set(e,t),u(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Tr,"onAnimationEnd"),Ar(Cr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=be(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case Cr:case Ir:u=yn;break;case Nr:u=Pn;break;case"scroll":u=fn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Ae(p,f))&&c.push(Wr(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(h=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:_i(u),d=null==l?s:_i(l),(s=new c(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,v=c),h=v,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=f;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==h&&Qr(o,h,l,c,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(qn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?_i(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,_r(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ae(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Ae(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var wi=[],Ei=-1;function Si(e){return{current:e}}function xi(e){0>Ei||(e.current=wi[Ei],wi[Ei]=null,Ei--)}function Ti(e,t){Ei++,wi[Ei]=e.current,e.current=t}var Ci={},Ii=Si(Ci),Ni=Si(!1),Pi=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){xi(Ni),xi(Ii)}function Di(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ti(Ii,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=Ii.current,Ti(Ii,e),Ti(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,xi(Ni),xi(Ii),Ti(Ii,e)):xi(Ni),Ti(Ni,n)}var Ui=null,ji=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var Hi=_.ReactCurrentBatchConfig;function qi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=Si(null),Ki=null,Gi=null,Qi=null;function $i(){Qi=Gi=Ki=null}function Yi(e){var t=Wi.current;xi(Wi),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Ki=e,Qi=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===Ki)throw Error(a(308));Gi=e,Ki.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tl(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=F({},h,f);break e;case 2:ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ou|=o,e.lanes=o,e.memoizedState=h}}function la(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ca=(new r.Component).refs;function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xu(),i=Ju(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xu(),i=Ju(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xu(),r=Ju(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zu(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function pa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Ai(t)?Pi:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ca,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Ai(t)?Pi:Ii.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ha(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fa.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,_a=0,ba=[],wa=0,Ea=null,Sa=1,xa="";function Ta(e,t){ya[ga++]=_a,ya[ga++]=ka,ka=e,_a=t}function Ca(e,t,n){ba[wa++]=Sa,ba[wa++]=xa,ba[wa++]=Ea,Ea=e;var r=Sa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else Sa=1<<a|n<<i|r,xa=e}function Ia(e){null!==e.return&&(Ta(e,1),Ca(e,1,0))}function Na(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,_a=ya[--ga],ya[ga]=null;for(;e===Ea;)Ea=ba[--wa],ba[wa]=null,xa=ba[--wa],ba[wa]=null,Sa=ba[--wa],ba[wa]=null}var Pa=null,Ra=null,Aa=!1,Oa=null;function Da(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Pa=e,Ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Pa=e,Ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ea?{id:Sa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Pa=e,Ra=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Aa){var t=Ra;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=li(n.nextSibling);var r=Pa;t&&La(e,t)?Da(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Pa=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Pa=e}}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Pa=e}function ja(e){if(e!==Pa)return!1;if(!Aa)return Ua(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Ra)){if(Ma(e)){for(e=Ra;e;)e=li(e.nextSibling);throw Error(a(418))}for(;t;)Da(e,t),t=li(t.nextSibling)}if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ra=null}}else Ra=Pa?li(e.stateNode.nextSibling):null;return!0}function Va(){Ra=Pa=null,Aa=!1}function za(e){null===Oa?Oa=[e]:Oa.push(e)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ca&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Al(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&qa(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Dl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ml(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case w:return(t=Fl(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Dl(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,h=m}if(v===s.length)return n(i,h),Aa&&Ta(i,v),l;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===c?l=h:c.sibling=h,c=h);return Aa&&Ta(i,v),l}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),Aa&&Ta(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===h?c=k:h.sibling=k,h=k,v=y}if(g.done)return n(i,v),Aa&&Ta(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=f(i,g.value,l))&&(s=o(g,s,m),null===h?c=g:h.sibling=g,h=g);return Aa&&Ta(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===h?c=g:h.sibling=g,h=g);return e&&v.forEach((function(e){return t(i,e)})),Aa&&Ta(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===A&&qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ba(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Dl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ol(o.type,o.key,o.props,null,r.mode,u)).ref=Ba(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(o,r.mode,u)).return=r,r=a}return s(r);case A:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ml(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ka=Wa(!0),Ga=Wa(!1),Qa={},$a=Si(Qa),Ya=Si(Qa),Xa=Si(Qa);function Ja(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Ti(Xa,t),Ti(Ya,e),Ti($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi($a),Ti($a,t)}function eo(){xi($a),xi(Ya),xi(Xa)}function to(e){Ja(Xa.current);var t=Ja($a.current),n=ue(t,e.type);t!==n&&(Ti(Ya,e),Ti($a,n))}function no(e){Ya.current===e&&(xi($a),xi(Ya))}var ro=Si(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=_.ReactCurrentDispatcher,uo=_.ReactCurrentBatchConfig,lo=0,co=null,ho=null,fo=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(lo=o,co=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,fo=ho=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(vo)}if(so.current=ns,t=null!==ho&&null!==ho.next,lo=0,fo=ho=co=null,po=!1,t)throw Error(a(300));return e}function bo(){var e=0!==mo;return mo=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fo?co.memoizedState=fo=e:fo=fo.next=e,fo}function Eo(){if(null===ho){var e=co.alternate;e=null!==e?e.memoizedState:null}else e=ho.next;var t=null===fo?co.memoizedState:fo.next;if(null!==t)fo=t,ho=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ho=e).memoizedState,baseState:ho.baseState,baseQueue:ho.baseQueue,queue:ho.queue,next:null},null===fo?co.memoizedState=fo=e:fo=fo.next=e}return fo}function So(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ho,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var h=c.lane;if((lo&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,co.lanes|=h,Ou|=h}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,co.lanes|=o,Ou|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function Io(e,t){var n=co,r=Eo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,jo(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==fo&&1&fo.memoizedState.tag){if(n.flags|=2048,Do(9,Po.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(a(349));0!==(30&lo)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Zu(e,1,-1)}function Ro(e,t,n){return n((function(){Ao(t)&&Zu(e,1,-1)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Oo(e){var t=wo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,co,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return Eo().memoizedState}function Mo(e,t,n,r){var i=wo();co.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==ho){var o=ho.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}co.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function Uo(e,t){return Mo(8390656,8,e,t)}function jo(e,t){return Fo(2048,8,e,t)}function Vo(e,t){return Fo(4,2,e,t)}function zo(e,t){return Fo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Bo.bind(null,t,e),n)}function qo(){}function Wo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&lo)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),co.lanes|=n,Ou|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{kt=n,uo.transition=r}}function $o(){return Eo().memoizedState}function Yo(e,t,n){var r=Ju(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(es(e,t,n),null!==(e=Zu(e,r,n=Xu()))&&ts(e,t,r))}function Xo(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{es(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o))return}catch(u){}null!==(e=Zu(e,r,n=Xu()))&&ts(e,t,r)}}function Jo(e){var t=e.alternate;return e===co||null!==t&&t===co}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tl(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ns={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},rs={readContext:Zi,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=wo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,co,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:Oo,useDebugValue:qo,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Qo.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=co,i=wo();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tu)throw Error(a(349));0!==(30&lo)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wo(),t=Tu.identifierPrefix;if(Aa){var n=xa;t=":"+t+"R"+(n=(Sa&~(1<<32-ot(Sa)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:jo,useImperativeHandle:Ho,useInsertionEffect:Vo,useLayoutEffect:zo,useMemo:Ko,useReducer:xo,useRef:Lo,useState:function(){return xo(So)},useDebugValue:qo,useDeferredValue:function(e){return Go(Eo(),ho.memoizedState,e)},useTransition:function(){return[xo(So)[0],Eo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Io,useId:$o,unstable_isNewReconciler:!1},as={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:jo,useImperativeHandle:Ho,useInsertionEffect:Vo,useLayoutEffect:zo,useMemo:Ko,useReducer:To,useRef:Lo,useState:function(){return To(So)},useDebugValue:qo,useDeferredValue:function(e){var t=Eo();return null===ho?t.memoizedState=e:Go(t,ho.memoizedState,e)},useTransition:function(){return[To(So)[0],Eo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Io,useId:$o,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,ls,cs,hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zu||(zu=!0,Bu=r),ss(0,t)},n}function ds(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ys(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ks(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(t),null;case 1:case 17:return Ai(t.type)&&Oi(),gs(t),null;case 3:return r=t.stateNode,eo(),xi(Ni),xi(Ii),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ja(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Oa&&(al(Oa),Oa=null))),gs(t),null;case 5:no(t);var i=Ja(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)ls(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gs(t),null}if(e=Ja($a.current),ja(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,us(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",e):null!=c&&k(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gs(t),null;case 6:if(e&&null!=t.stateNode)cs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Xa.current),Ja($a.current),ja(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=Pa))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return gs(t),null;case 13:if(xi(ro),r=t.memoizedState,Aa&&null!==Ra&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ra;r;)r=li(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=ja(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[fi]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gs(t),null}return null!==Oa&&(al(Oa),Oa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?ja(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Ru&&(Ru=3):pl())),null!==t.updateQueue&&(t.flags|=4),gs(t),null);case 4:return eo(),null===e&&Br(t.stateNode.containerInfo),gs(t),null;case 10:return Yi(t.type._context),gs(t),null;case 19:if(xi(ro),null===(o=t.memoizedState))return gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)ys(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,ys(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>ju&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ys(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Aa)return gs(t),null}else 2*Xe()-o.renderingStartTime>ju&&1073741824!==n&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,Ti(ro,r?1&n|2:1&n),t):(gs(t),null);case 22:case 23:return cl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(gs(t),6&t.subtreeFlags&&(t.flags|=8192)):gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja($a.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},cs=function(e,t,n,r){n!==r&&(t.flags|=4)};var _s=_.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ga(t,null,n,r):Ka(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=_o(e,t,n,r,a,i),n=bo(),null===e||bs?(Aa&&n&&Ia(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Al(a,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Pu,Nu),Nu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Pu,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Pu,Nu),Nu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Pu,Nu),Nu|=r;return ws(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ai(n)?Pi:Ii.current;return a=Ri(t,a),Ji(t,i),n=_o(e,t,n,r,a,i),r=bo(),null===e||bs?(Aa&&r&&Ia(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ns(e,t,n,r,i){if(Ai(n)){var a=!0;Mi(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Zi(l):l=Ri(t,l=Ai(n)?Pi:Ii.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&va(t,o,r,l),ta=!1;var f=t.memoizedState;o.state=f,ua(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ni.current||ta?("function"===typeof c&&(ha(t,n,c,r),u=t.memoizedState),(s=ta||da(t,n,s,r,f,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:qi(t.type,s),o.props=l,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Zi(u):u=Ri(t,u=Ai(n)?Pi:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&va(t,o,r,u),ta=!1,f=t.memoizedState,o.state=f,ua(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Ni.current||ta?("function"===typeof d&&(ha(t,n,d,r),p=t.memoizedState),(l=ta||da(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),qs(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Za(e,t.containerInfo)}function As(e,t,n,r,i){return Va(),za(i),t.flags|=256,ws(e,t,n,r),t.child}var Os={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ms(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Ll(o,i,0,null),e=Dl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Os,e):Fs(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Vs(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Ll({mode:"visible",children:i.children},o,0,null),(s=Dl(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ka(t,e.child,null,n),t.child.memoizedState=Ds(n),t.memoizedState=Os,s);if(0===(1&t.mode))t=Vs(e,t,n,null);else if("$!"===r.data)t=Vs(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),bs||i){if(null!==(i=Tu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,Zu(e,i,-1))}pl(),t=Vs(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ra=li(r.nextSibling),Pa=t,Aa=!0,Oa=null,null!==n&&(ba[wa++]=Sa,ba[wa++]=xa,ba[wa++]=Ea,Sa=n.id,xa=n.overflow,Ea=t),(t=Fs(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=js(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ds(n):Ls(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Os,i):(n=Us(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=js(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ds(n):Ls(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Os,i):(n=Us(e,t,i.children,n),t.memoizedState=null,n)}function Fs(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){var i=e.child;return e=i.sibling,n=Al(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function js(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Al(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Al(o,r):(r=Dl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vs(e,t,n,r){return null!==r&&za(r),Ka(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ou|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Al(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Al(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){switch(Na(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),xi(Ni),xi(Ii),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(xi(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(ro),null;case 4:return eo(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return cl(),null;default:return null}}var Ks=!1,Gs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,$s=null;function Ys(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function Xs(e,t,n){try{n()}catch(r){El(e,t,r)}}var Js=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xs(t,n,a)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function lu(e,t,n){for(n=n.child;null!==n;)cu(e,t,n),n=n.sibling}function cu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Gs||Ys(n,t);case 6:var r=su,i=uu;su=null,lu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,lu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xs(n,t,o),i=i.next}while(i!==r)}lu(e,t,n);break;case 1:if(!Gs&&(Ys(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){El(n,t,s)}lu(e,t,n);break;case 21:lu(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,lu(e,t,n),Gs=r):lu(e,t,n);break;default:lu(e,t,n)}}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(a(160));cu(o,s,i),su=null,uu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){El(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)du(t,e),t=t.sibling}function du(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fu(t,e),pu(e),4&r){try{Zs(3,e,e.return),eu(3,e)}catch(v){El(e,e.return,v)}try{Zs(5,e,e.return)}catch(v){El(e,e.return,v)}}break;case 1:fu(t,e),pu(e),512&r&&null!==n&&Ys(n,n.return);break;case 5:if(fu(t,e),pu(e),512&r&&null!==n&&Ys(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){El(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var c=ke(u,o);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):k(i,h,f,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){El(e,e.return,v)}}break;case 6:if(fu(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(a(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(v){El(e,e.return,v)}}break;case 3:if(fu(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){El(e,e.return,v)}break;case 4:default:fu(t,e),pu(e);break;case 13:fu(t,e),pu(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Uu=Xe()),4&r&&hu(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(h=Gs)||c,fu(t,e),Gs=h):fu(t,e),pu(e),8192&r){h=null!==e.memoizedState;e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,h?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(v){El(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(v){El(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}if(h&&!c&&0!==(1&e.mode))for($s=e,e=e.child;null!==e;){for(c=$s=e;null!==$s;){switch(f=(h=$s).child,h.tag){case 0:case 11:case 14:case 15:Zs(4,h,h.return);break;case 1:if(Ys(h,h.return),"function"===typeof(o=h.stateNode).componentWillUnmount){d=h,p=h.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){El(d,p,v)}}break;case 5:Ys(h,h.return);break;case 22:if(null!==h.memoizedState){gu(c);continue}}null!==f?(f.return=h,$s=f):gu(c)}e=e.sibling}}break;case 19:fu(t,e),pu(e),4&r&&hu(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ou(e,iu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,iu(e),o);break;default:throw Error(a(161))}}catch(s){El(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){$s=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Gs;s=Ks;var l=Gs;if(Ks=o,(Gs=u)&&!l)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?ku(i):null!==u?(u.return=o,$s=u):ku(i);for(;null!==a;)$s=a,mu(a,t,n),a=a.sibling;$s=i,Ks=s,Gs=l}yu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):yu(e)}}function yu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&la(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}la(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(a(163))}Gs||512&t.flags&&tu(t)}catch(d){El(t,t.return,d)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function gu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function ku(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){El(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){El(t,i,u)}}var a=t.return;try{tu(t)}catch(u){El(t,a,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){El(t,o,u)}}}catch(u){El(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var _u,bu=Math.ceil,wu=_.ReactCurrentDispatcher,Eu=_.ReactCurrentOwner,Su=_.ReactCurrentBatchConfig,xu=0,Tu=null,Cu=null,Iu=0,Nu=0,Pu=Si(0),Ru=0,Au=null,Ou=0,Du=0,Lu=0,Mu=null,Fu=null,Uu=0,ju=1/0,Vu=null,zu=!1,Bu=null,Hu=null,qu=!1,Wu=null,Ku=0,Gu=0,Qu=null,$u=-1,Yu=0;function Xu(){return 0!==(6&xu)?Xe():-1!==$u?$u:$u=Xe()}function Ju(e){return 0===(1&e.mode)?1:0!==(2&xu)&&0!==Iu?Iu&-Iu:null!==Hi.transition?(0===Yu&&(Yu=vt()),Yu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Zu(e,t,n){if(50<Gu)throw Gu=0,Qu=null,Error(a(185));var r=el(e,t);return null===r?null:(yt(r,t,n),0!==(2&xu)&&r===Tu||(r===Tu&&(0===(2&xu)&&(Du|=t),4===Ru&&ol(r,Iu)),nl(r,n),1===t&&0===xu&&0===(1&e.mode)&&(ju=Xe()+500,ji&&Bi())),r)}function el(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tl(e){return(null!==Tu||null!==ea)&&0!==(1&e.mode)&&0===(2&xu)}function nl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Tu?Iu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(sl.bind(null,e)):zi(sl.bind(null,e)),oi((function(){0===xu&&Bi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Il(n,rl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rl(e,t){if($u=-1,Yu=0,0!==(6&xu))throw Error(a(327));var n=e.callbackNode;if(bl()&&e.callbackNode!==n)return null;var r=ft(e,e===Tu?Iu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=xu;xu|=2;var o=dl();for(Tu===e&&Iu===t||(Vu=null,ju=Xe()+500,hl(e,t));;)try{yl();break}catch(u){fl(e,u)}$i(),wu.current=o,xu=i,null!==Cu?t=0:(Tu=null,Iu=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=il(e,i))),1===t)throw n=Au,hl(e,0),ol(e,r),nl(e,Xe()),n;if(6===t)ol(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(o=pt(e))&&(r=o,t=il(e,o))),1===t))throw n=Au,hl(e,0),ol(e,r),nl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_l(e,Fu,Vu);break;case 3:if(ol(e,r),(130023424&r)===r&&10<(t=Uu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Fu,Vu),t);break}_l(e,Fu,Vu);break;case 4:if(ol(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bu(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Fu,Vu),r);break}_l(e,Fu,Vu);break;default:throw Error(a(329))}}}return nl(e,Xe()),e.callbackNode===n?rl.bind(null,e):null}function il(e,t){var n=Mu;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Fu,Fu=n,null!==t&&al(t)),e}function al(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function ol(e,t){for(t&=~Lu,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sl(e){if(0!==(6&xu))throw Error(a(327));bl();var t=ft(e,0);if(0===(1&t))return nl(e,Xe()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Au,hl(e,0),ol(e,t),nl(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Fu,Vu),nl(e,Xe()),null}function ul(e,t){var n=xu;xu|=1;try{return e(t)}finally{0===(xu=n)&&(ju=Xe()+500,ji&&Bi())}}function ll(e){null!==Wu&&0===Wu.tag&&0===(6&xu)&&bl();var t=xu;xu|=1;var n=Su.transition,r=kt;try{if(Su.transition=null,kt=1,e)return e()}finally{kt=r,Su.transition=n,0===(6&(xu=t))&&Bi()}}function cl(){Nu=Pu.current,xi(Pu)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Cu)for(n=Cu.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:eo(),xi(Ni),xi(Ii),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:xi(ro);break;case 10:Yi(r.type._context);break;case 22:case 23:cl()}n=n.return}if(Tu=e,Cu=e=Al(e.current,null),Iu=Nu=t,Ru=0,Au=null,Lu=Du=Ou=0,Fu=Mu=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function fl(e,t){for(;;){var n=Cu;try{if($i(),so.current=ns,po){for(var r=co.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(lo=0,fo=ho=co=null,vo=!1,mo=0,Eu.current=null,null===n||null===n.return){Ru=1,Au=t,Cu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Iu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&ps(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ps(o,c,t),pl();break e}l=Error(a(426))}else if(Aa&&1&u.mode){var y=vs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),za(l);break e}}o=l,4!==Ru&&(Ru=2),null===Mu?Mu=[o]:Mu.push(o),l=os(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,sa(u,fs(0,l,t));break e;case 1:o=l;var g=u.type,k=u.stateNode;if(0===(128&u.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hu||!Hu.has(k)))){u.flags|=65536,t&=-t,u.lanes|=t,sa(u,ds(u,o,t));break e}}u=u.return}while(null!==u)}kl(n)}catch(_){t=_,Cu===n&&null!==n&&(Cu=n=n.return);continue}break}}function dl(){var e=wu.current;return wu.current=ns,null===e?ns:e}function pl(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Tu||0===(268435455&Ou)&&0===(268435455&Du)||ol(Tu,Iu)}function vl(e,t){var n=xu;xu|=2;var r=dl();for(Tu===e&&Iu===t||(Vu=null,hl(e,t));;)try{ml();break}catch(i){fl(e,i)}if($i(),xu=n,wu.current=r,null!==Cu)throw Error(a(261));return Tu=null,Iu=0,Ru}function ml(){for(;null!==Cu;)gl(Cu)}function yl(){for(;null!==Cu&&!$e();)gl(Cu)}function gl(e){var t=_u(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?kl(e):Cu=t,Eu.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ks(n,t,Nu)))return void(Cu=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Cu=n);if(null===e)return Ru=6,void(Cu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cu=t);Cu=t=e}while(null!==t);0===Ru&&(Ru=5)}function _l(e,t,n){var r=kt,i=Su.transition;try{Su.transition=null,kt=1,function(e,t,n,r){do{bl()}while(null!==Wu);if(0!==(6&xu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Tu&&(Cu=Tu=null,Iu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qu||(qu=!0,Il(tt,(function(){return bl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Su.transition,Su.transition=null;var s=kt;kt=1;var u=xu;xu|=4,Eu.current=null,function(e,t){if(ei=qt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:qi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var _=t.stateNode.containerInfo;if(1===_.nodeType)_.textContent="";else if(9===_.nodeType){var b=_.body;null!=b&&(b.textContent="")}break;default:throw Error(a(163))}}catch(w){El(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=Js,Js=!1}(e,n),du(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vu(n,e,i),Ye(),xu=u,kt=s,Su.transition=o}else e.current=n;if(qu&&(qu=!1,Wu=e,Ku=i),0===(o=e.pendingLanes)&&(Hu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(zu)throw zu=!1,e=Bu,Bu=null,e;0!==(1&Ku)&&0!==e.tag&&bl(),0!==(1&(o=e.pendingLanes))?e===Qu?Gu++:(Gu=0,Qu=e):Gu=0,Bi()}(e,t,n,r)}finally{Su.transition=i,kt=r}return null}function bl(){if(null!==Wu){var e=_t(Ku),t=Su.transition,n=kt;try{if(Su.transition=null,kt=16>e?16:e,null===Wu)var r=!1;else{if(e=Wu,Wu=null,Ku=0,0!==(6&xu))throw Error(a(331));var i=xu;for(xu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($s=c;null!==$s;){var h=$s;switch(h.tag){case 0:case 11:case 15:Zs(8,h,o)}var f=h.child;if(null!==f)f.return=h,$s=f;else for(;null!==$s;){var d=(h=$s).sibling,p=h.return;if(nu(h),h===c){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$s=g;break e}$s=o.return}}var k=e.current;for($s=k;null!==$s;){var _=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,$s=_;else e:for(s=k;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(w){El(u,u.return,w)}if(u===s){$s=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,$s=b;break e}$s=u.return}}if(xu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{kt=n,Su.transition=t}}return!1}function wl(e,t,n){aa(e,t=fs(0,t=os(n,t),1)),t=Xu(),null!==(e=el(e,1))&&(yt(e,1,t),nl(e,t))}function El(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){aa(t,e=ds(t,e=os(n,e),1)),e=Xu(),null!==(t=el(t,1))&&(yt(t,1,e),nl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xu(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(Iu&n)===n&&(4===Ru||3===Ru&&(130023424&Iu)===Iu&&500>Xe()-Uu?hl(e,0):Lu|=n),nl(e,t)}function xl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Xu();null!==(e=el(e,t))&&(yt(e,t,n),nl(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),xl(e,n)}function Il(e,t){return Ge(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Nl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Al(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Dl(n.children,i,o,t);case S:s=8,i|=8;break;case x:return(e=Pl(12,n,t,2|i)).elementType=x,e.lanes=o,e;case N:return(e=Pl(13,n,t,i)).elementType=N,e.lanes=o,e;case P:return(e=Pl(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return Ll(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case I:s=11;break e;case R:s=14;break e;case A:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dl(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Ml(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jl(e,t,n,r,i,a,o,s,u){return e=new Ul(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Vl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zl(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Li(e,n,t)}return t}function Bl(e,t,n,r,i,a,o,s,u){return(e=jl(n,r,!0,e,0,a,0,s,u)).context=zl(null),n=e.current,(a=ia(r=Xu(),i=Ju(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nl(e,r),e}function Hl(e,t,n,r){var i=t.current,a=Xu(),o=Ju(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zu(i,o,a))&&oa(e,i,o),o}function ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),Va();break;case 5:to(t);break;case 1:Ai(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Ti(ro,1&ro.current),null!==(e=qs(e,t,n))?e.sibling:null);Ti(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return qs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,Aa&&0!==(1048576&t.flags)&&Ca(t,_a,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ri(t,Ii.current);Ji(t,n),i=_o(null,t,r,e,i,n);var o=bo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=fa,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,Aa&&o&&Ia(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=qi(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,qi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=As(e,t,r,n,i=Error(a(424)));break e}for(Ra=li(t.stateNode.containerInfo.firstChild),Pa=t,Aa=!0,Oa=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Ms(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(Wi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=ia(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Xi(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Xi(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=qi(r=t.type,t.pendingProps),Ss(e,t,r,i=qi(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Mi(t)):e=!1,Ji(t,n),pa(t,r,i),ma(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ts(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function Zl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=ql(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=ql(o);a.call(e)}}var o=Bl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),ll(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=ql(u);s.call(e)}}var u=jl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),ll((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return ql(o)}$l.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},$l.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ll((function(){Hl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(gt(t,1|n),nl(t,Xe()),0===(6&xu)&&(ju=Xe()+500,Bi()))}break;case 13:var r=Xu();ll((function(){return Zu(e,1,r)})),Kl(e,1)}},wt=function(e){13===e.tag&&(Zu(e,134217728,Xu()),Kl(e,134217728))},Et=function(e){if(13===e.tag){var t=Xu(),n=Ju(e);Zu(e,n,t),Kl(e,n)}},St=function(){return kt},xt=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ul,Ne=ll;var ec={usingClientEntryPoint:!1,Events:[ki,_i,bi,Te,Ce,ul]},tc={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return Vl(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ll(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(a(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(a(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(a(40));return!!e._reactRootContainer&&(ll((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zl(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},739:function(e,t,n){"use strict";var r=n(168);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},918:function(e,t,n){"use strict";var r=n(313),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},306:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var _=k.prototype=new g;_.constructor=k,v(_,y.prototype),_.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,b(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",b(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.1.0"},313:function(e,t,n){"use strict";e.exports=n(306)},417:function(e,t,n){"use strict";e.exports=n(918)},95:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function b(e){if(m=!1,_(e),!v)if(null!==r(l))v=!0,O(w);else{var t=r(c);null!==t&&D(b,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(_(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!N());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),_(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&D(b,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,x=null,T=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function P(){if(null!==x){var e=t.unstable_now();I=e;var n=!0;try{n=x(!0,e)}finally{n?E():(S=!1,x=null)}}else S=!1}if("function"===typeof k)E=function(){k(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=P,E=function(){A.postMessage(null)}}else E=function(){y(P,0)};function O(e){x=e,S||(S=!0,E())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(T),T=-1):m=!0,D(b,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},224:function(e,t,n){"use strict";e.exports=n(95)},61:function(e,t,n){var r=n(698).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},l=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(t){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof k?t:k,a=Object.create(i.prototype),o=new A(r||[]);return s(a,"_invoke",{value:I(e,n,o)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var v="suspendedStart",m="executing",y="completed",g={};function k(){}function _(){}function b(){}var w={};f(w,l,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(O([])));S&&S!==a&&o.call(S,l)&&(w=S);var x=b.prototype=k.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,s,u){var l=p(e[i],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==r(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function I(e,n,r){var i=v;return function(a,o){if(i===m)throw new Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=N(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===v)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var l=p(e,n,r);if("normal"===l.type){if(i=r.done?y:"suspendedYield",l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=y,r.method="throw",r.arg=l.arg)}}}function N(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,N(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=p(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function O(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return _.prototype=b,s(x,"constructor",{value:b,configurable:!0}),s(b,"constructor",{value:_,configurable:!0}),_.displayName=f(b,h,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,f(e,h,"GeneratorFunction")),e.prototype=Object.create(x),e},n.awrap=function(e){return{__await:e}},T(C.prototype),f(C.prototype,c,(function(){return this})),n.AsyncIterator=C,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new C(d(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(x),f(x,h,"Generator"),f(x,l,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:function(e,t,n){var r=n(61)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".87965f17.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="new-app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/VChat_Data/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunknew_app=self.webpackChunknew_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(313),r=n.t(t,2),i=n(739),a=JSON.parse('[{"id":1,"name":"thor","company":"Marval Studio","language":"English / Hindi","s1":"1","s2":"2","s3":"3","s4":"4"},{"id":2,"name":"loki","company":"Marval Studio","language":"English / Hindi","s1":"1","s2":"2","s3":"3","s4":"4"},{"id":3,"name":"iron man","company":"Marval Studio","language":"English / Hindi","s1":"1","s2":"2","s3":"3","s4":"4"},{"id":5,"name":"avenger","company":"Marval Studio","language":"English / Hindi","s1":"1","s2":"2","s3":"3","s4":"4"},{"id":5,"name":"avatar","company":"Marval Studio","language":"English / Hindi","s1":"1","s2":"2","s3":"3","s4":"4"},{"id":6,"name":"capton marval","company":"Marval Studio","language":"English / Hindi","s1":"1","s2":"2","s3":"3","s4":"4"},{"id":7,"name":"transformar","company":"Marval Studio","language":"English / Hindi","s1":"1","s2":"2","s3":"3","s4":"4"},{"id":8,"name":"game of thron","company":"Marval Studio","language":"English / Hindi","s1":"1","s2":"2","s3":"3","s4":"4"}]'),o=n(417);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var h=function(e){return e};var f="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,t.createContext)(null);var _=(0,t.createContext)(null);var b=(0,t.createContext)({outlet:null,matches:[]});function w(e,t){if(!e)throw new Error(t)}function E(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=S(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=I(i[o],r);return a}function S(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||w(!1),a.relativePath=a.relativePath.slice(r.length));var o=R([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&w(!1),S(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:s})})),t}var x=/^:\w+$/,T=function(e){return"*"===e};function C(e,t){var n=e.split("/"),r=n.length;return n.some(T)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!T(e)})).reduce((function(e,t){return e+(x.test(t)?3:""===t?1:10)}),r)}function I(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=N({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var h=s.route;a.push({params:r,pathname:R([i,c.pathname]),pathnameBase:A(R([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=R([i,c.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Bk){return e}}(c[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var R=function(e){return e.join("/").replace(/\/\/+/g,"/")},A=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")};function O(){return null!=(0,t.useContext)(_)}function D(){return O()||w(!1),(0,t.useContext)(_).location}function L(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(b.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function M(e){w(!1)}function F(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,l=void 0===u?e.Pop:u,c=n.navigator,h=n.static,f=void 0!==h&&h;O()&&w(!1);var d=A(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof s&&(s=g(s));var v=s,m=v.pathname,y=void 0===m?"/":m,b=v.search,E=void 0===b?"":b,S=v.hash,x=void 0===S?"":S,T=v.state,C=void 0===T?null:T,I=v.key,N=void 0===I?"default":I,R=(0,t.useMemo)((function(){var e=P(y,d);return null==e?null:{pathname:e,search:E,hash:x,state:C,key:N}}),[d,y,E,x,C,N]);return null==R?null:(0,t.createElement)(k.Provider,{value:p},(0,t.createElement)(_.Provider,{children:o,value:{location:R,navigationType:l}}))}function U(e){var n=e.children,r=e.location;return function(e,n){O()||w(!1);var r,i=(0,t.useContext)(b).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,D());if(n){var l,c="string"===typeof n?g(n):n;"/"===s||(null==(l=c.pathname)?void 0:l.startsWith(s))||w(!1),r=c}else r=u;var h=r.pathname||"/",f=E(e,{pathname:"/"===s?h:h.slice(s.length)||"/"});return L(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:R([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:R([s,e.pathnameBase])})})),i)}(j(n),r)}function j(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==M&&w(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=j(e.props.children)),n.push(r)}else n.push.apply(n,j(e.props.children))})),n}function V(n){var r=n.basename,i=n.children,a=n.window,o=(0,t.useRef)();null==o.current&&(o.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,h({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)b.call(o),o=null;else{var t=e.Pop,n=a(),r=n[0],i=n[1];if(b.length){if(null!=r){var s=l-r;s&&(o={action:t,location:i,retry:function(){C(-1*s)}},C(s))}}else T(t)}}));var s=e.Pop,u=a(),l=u[0],k=u[1],_=v(),b=v();function w(e){return"string"===typeof e?e:y(e)}function E(e,t){return void 0===t&&(t=null),h(c({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},w(e)]}function x(e,t,n){return!b.length||(b.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();l=t[0],k=t[1],_.call({action:s,location:k})}function C(e){i.go(e)}null==l&&(l=0,i.replaceState(c({},i.state,{idx:l}),""));var I={get action(){return s},get location(){return k},createHref:w,push:function t(n,a){var o=e.Push,s=E(n,a);if(x(o,s,(function(){t(n,a)}))){var u=S(s,l+1),c=u[0],h=u[1];try{i.pushState(c,"",h)}catch(Bk){r.location.assign(h)}T(o)}},replace:function t(n,r){var a=e.Replace,o=E(n,r);if(x(a,o,(function(){t(n,r)}))){var s=S(o,l),u=s[0],c=s[1];i.replaceState(u,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return _.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&r.addEventListener(f,p),function(){t(),b.length||r.removeEventListener(f,p)}}};return I}({window:a}));var s=o.current,u=l((0,t.useState)({action:s.action,location:s.location}),2),k=u[0],_=u[1];return(0,t.useLayoutEffect)((function(){return s.listen(_)}),[s]),(0,t.createElement)(F,{basename:r,children:i,location:k.location,navigationType:k.action,navigator:s})}var z=function(){var e=function(){var e=(0,t.useContext)(b).matches,n=e[e.length-1];return n?n.params:{}}().id,n=l((0,t.useState)(null),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){return function(){var t=a.find((function(t){return t.id==e}));try{t?i(t):console.log("movie list not found")}catch(n){console.log("movie list not found")}}}),[e]),(0,o.jsx)("div",{className:"movie-container",children:r?(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"movie-tailer"}),(0,o.jsxs)("div",{className:"movei-detail-div",children:[(0,o.jsx)("div",{className:"movie-title",children:r.name}),(0,o.jsx)("div",{className:"movie-company",children:r.company}),(0,o.jsxs)("div",{className:"movie-company",children:["Language: ",r.language]})]}),(0,o.jsx)("div",{className:"movie-screenShot-center",children:(0,o.jsxs)("div",{className:"movie-screen-shots-grid",children:[(0,o.jsx)("div",{className:"movie-screenShots-img",children:r.s1}),(0,o.jsx)("div",{className:"movie-screenShots-img",children:r.s2}),(0,o.jsx)("div",{className:"movie-screenShots-img",children:r.s3}),(0,o.jsx)("div",{className:"movie-screenShots-img",children:r.s4})]})}),(0,o.jsx)("div",{className:"download-btn",children:"Download"})]}):"loading..."})};function B(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Bk){return void n(Bk)}s.done?t(u):Promise.resolve(u).then(r,i)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){B(a,r,i,o,s,"next",e)}function s(e){B(a,r,i,o,s,"throw",e)}o(void 0)}))}}var q=n(687),W=n.n(q),K=n.p+"static/media/logo192.052f2e1cfd165966b477.png";function G(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function Y(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$(t)?t:String(t)}function X(e,t,n){return(t=Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function ee(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function re(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function oe(e,t){if(t&&("object"===$(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}function se(e){var t=ae();return function(){var n,r=ie(e);if(t){var i=ie(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oe(this,n)}}function ue(e,t,n){return ue=ae()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ne(i,n.prototype),i},ue.apply(null,arguments)}function le(e){var t="function"===typeof Map?new Map:void 0;return le=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ue(e,arguments,ie(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ne(n,e)},le(e)}var ce=!1,he=!1,fe="${JSCORE_VERSION}",de=function(e,t){if(!e)throw pe(t)},pe=function(e){return new Error("Firebase Database ("+fe+") INTERNAL ASSERT FAILED: "+e)},ve=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ve(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new ye;var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ye=function(e){re(n,e);var t=se(n);function n(){var e;return J(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return ee(n)}(le(Error)),ge=function(e){var t=ve(e);return me.encodeByteArray(t,!0)},ke=function(e){return ge(e).replace(/\./g,"")},_e=function(e){try{return me.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function be(e){return we(void 0,e)}function we(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=we(e[n],t[n]));return e}var Ee=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Se=function(){try{return Ee()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/VChat_Data",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&_e(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},xe=function(e){var t,n;return null===(n=null===(t=Se())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Te=function(e){var t=xe(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Ce=function(){var e;return null===(e=Se())||void 0===e?void 0:e.config},Ie=function(e){var t;return null===(t=Se())||void 0===t?void 0:t["_".concat(e)]},Ne=function(){function e(){var t=this;J(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ee(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Pe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(a)),""].join(".")}function Re(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function Oe(){var e,t=null===(e=Se())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function De(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Le(){return!0===ce||!0===he}function Me(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Fe=function(e){re(n,e);var t=se(n);function n(e,r,i){var a;return J(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(te(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(te(a),Ue.prototype.create),a}return ee(n)}(le(Error)),Ue=function(){function e(t,n,r){J(this,e),this.service=t,this.serviceName=n,this.errors=r}return ee(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?je(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Fe(n,a,t);return o}}]),e}();function je(e,t){return e.replace(Ve,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ve=/\{\$([^}]+)}/g;function ze(e){return JSON.parse(e)}function Be(e){return JSON.stringify(e)}var He=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=ze(_e(a[0])||""),n=ze(_e(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function We(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ke(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ge(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Qe(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if($e(s)&&$e(u)){if(!Qe(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var h=c[l];if(!n.includes(h))return!1}return!0}function $e(e){return null!==e&&"object"===typeof e}function Ye(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Xe(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Je(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ze=function(){function e(){J(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return ee(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^c&(h^f),u=1518500249):(s=c^h^f,u=1859775393):p<60?(s=c&h|f&(c|h),u=2400959708):(s=c^h^f,u=3395469782);var v=(l<<5|l>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var et=function(){function e(t,n){var r=this;J(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ee(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Q(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=tt),void 0===r.error&&(r.error=tt),void 0===r.complete&&(r.complete=tt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function tt(){}function nt(e,t){return"".concat(e," failed: ").concat(t," argument ")}var rt=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function it(e){return e&&e._delegate?e._delegate:e}var at=function(){function e(t,n,r){J(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ee(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ot="[DEFAULT]",st=function(){function e(t,n){J(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ee(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ne;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ot})}catch(u){}var t,n=Q(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=H(q.mark((function e(){var t;return q.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(G(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),G(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Q(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],h=this.normalizeInstanceIdentifier(u);r===h&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ut(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.component?this.component.multipleInstances?e:ot:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function ut(e){return e===ot?void 0:e}var lt,ct,ht=function(){function e(t){J(this,e),this.name=t,this.providers=new Map}return ee(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new st(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ft=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ct||(ct={}));var dt={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},pt=ct.INFO,vt=(X(lt={},ct.DEBUG,"log"),X(lt,ct.VERBOSE,"log"),X(lt,ct.INFO,"info"),X(lt,ct.WARN,"warn"),X(lt,ct.ERROR,"error"),lt),mt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=vt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},yt=function(){function e(t){J(this,e),this.name=t,this._logLevel=pt,this._logHandler=mt,this._userLogHandler=null,ft.push(this)}return ee(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ct))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?dt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ct.DEBUG].concat(t)),this._logHandler.apply(this,[this,ct.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ct.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ct.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ct.INFO].concat(t)),this._logHandler.apply(this,[this,ct.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ct.WARN].concat(t)),this._logHandler.apply(this,[this,ct.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ct.ERROR].concat(t)),this._logHandler.apply(this,[this,ct.ERROR].concat(t))}}]),e}();function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _t,bt;var wt=new WeakMap,Et=new WeakMap,St=new WeakMap,xt=new WeakMap,Tt=new WeakMap;var Ct={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Et.get(e);if("objectStoreNames"===t)return e.objectStoreNames||St.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function It(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(bt||(bt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rt(this),n),Pt(wt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pt(e.apply(Rt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Rt(this),t].concat(r));return St.set(a,t.sort?t.sort():[t]),Pt(a)}}function Nt(e){return"function"===typeof e?It(e):(e instanceof IDBTransaction&&function(e){if(!Et.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Et.set(e,t)}}(e),t=e,(_t||(_t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ct):e);var t}function Pt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Pt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&wt.set(t,e)})).catch((function(){})),Tt.set(t,e),t}(e);if(xt.has(e))return xt.get(e);var t=Nt(e);return t!==e&&(xt.set(e,t),Tt.set(t,e)),t}var Rt=function(e){return Tt.get(e)};var At,Ot,Dt=["get","getKey","getAll","getAllKeys","count"],Lt=["put","add","delete","clear"],Mt=new Map;function Ft(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Mt.get(t))return Mt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Lt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Dt.includes(n))){var a=function(){var e=H(q.mark((function e(t){var a,o,s,u,l,c,h=arguments;return q.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=h[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Mt.set(t,a),a}}}Ct=function(e){return kt(kt({},e),{},{get:function(t,n,r){return Ft(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ft(t,n)||e.has(t,n)}})}(Ct);var Ut=function(){function e(t){J(this,e),this.container=t}return ee(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var jt="@firebase/app",Vt="0.9.19",zt=new yt("@firebase/app"),Bt="[DEFAULT]",Ht=(X(At={},jt,"fire-core"),X(At,"@firebase/app-compat","fire-core-compat"),X(At,"@firebase/analytics","fire-analytics"),X(At,"@firebase/analytics-compat","fire-analytics-compat"),X(At,"@firebase/app-check","fire-app-check"),X(At,"@firebase/app-check-compat","fire-app-check-compat"),X(At,"@firebase/auth","fire-auth"),X(At,"@firebase/auth-compat","fire-auth-compat"),X(At,"@firebase/database","fire-rtdb"),X(At,"@firebase/database-compat","fire-rtdb-compat"),X(At,"@firebase/functions","fire-fn"),X(At,"@firebase/functions-compat","fire-fn-compat"),X(At,"@firebase/installations","fire-iid"),X(At,"@firebase/installations-compat","fire-iid-compat"),X(At,"@firebase/messaging","fire-fcm"),X(At,"@firebase/messaging-compat","fire-fcm-compat"),X(At,"@firebase/performance","fire-perf"),X(At,"@firebase/performance-compat","fire-perf-compat"),X(At,"@firebase/remote-config","fire-rc"),X(At,"@firebase/remote-config-compat","fire-rc-compat"),X(At,"@firebase/storage","fire-gcs"),X(At,"@firebase/storage-compat","fire-gcs-compat"),X(At,"@firebase/firestore","fire-fst"),X(At,"@firebase/firestore-compat","fire-fst-compat"),X(At,"fire-js","fire-js"),X(At,"firebase","fire-js-all"),At),qt=new Map,Wt=new Map;function Kt(e,t){try{e.container.addComponent(t)}catch(n){zt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Gt(e){var t=e.name;if(Wt.has(t))return zt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Wt.set(t,e);var n,r=Q(qt.values());try{for(r.s();!(n=r.n()).done;){Kt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Qt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var $t=(X(Ot={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),X(Ot,"bad-app-name","Illegal App name: '{$appName}"),X(Ot,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),X(Ot,"app-deleted","Firebase App named '{$appName}' already deleted"),X(Ot,"no-options","Need to provide options, when not being deployed to hosting via source."),X(Ot,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),X(Ot,"invalid-log-argument","First argument to `onLog` must be null or a function."),X(Ot,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),X(Ot,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),X(Ot,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),X(Ot,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ot),Yt=new Ue("app","Firebase",$t),Xt=function(){function e(t,n,r){var i=this;J(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new at("app",(function(){return i}),"PUBLIC"))}return ee(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Yt.create("app-deleted",{appName:this._name})}}]),e}(),Jt="10.4.0";function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Yt.create("bad-app-name",{appName:String(a)});if(n||(n=Ce()),!n)throw Yt.create("no-options");var o=qt.get(a);if(o){if(Qe(n,o.options)&&Qe(i,o.config))return o;throw Yt.create("duplicate-app",{appName:a})}var s,u=new ht(a),l=Q(Wt.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;u.addComponent(c)}}catch(f){l.e(f)}finally{l.f()}var h=new Xt(n,i,u);return qt.set(a,h),h}function en(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=qt.get(e);if(!t&&e===Bt&&Ce())return Zt();if(!t)throw Yt.create("no-app",{appName:e});return t}function tn(e,t,n){var r,i=null!==(r=Ht[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void zt.warn(s.join(" "))}Gt(new at("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var nn="firebase-heartbeat-store",rn=null;function an(){return rn||(rn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Pt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Pt(s.result),e.oldVersion,e.newVersion,Pt(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(nn)}}).catch((function(e){throw Yt.create("idb-open",{originalErrorMessage:e.message})}))),rn}function on(e){return sn.apply(this,arguments)}function sn(){return sn=H(q.mark((function e(t){var n,r,i;return q.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an();case 3:return n=e.sent,e.next=6,n.transaction(nn).objectStore(nn).get(cn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Fe?zt.warn(e.t0.message):(i=Yt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),zt.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),sn.apply(this,arguments)}function un(e,t){return ln.apply(this,arguments)}function ln(){return ln=H(q.mark((function e(t,n){var r,i,a,o;return q.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an();case 3:return r=e.sent,i=r.transaction(nn,"readwrite"),a=i.objectStore(nn),e.next=8,a.put(n,cn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Fe?zt.warn(e.t0.message):(o=Yt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),zt.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),ln.apply(this,arguments)}function cn(e){return"".concat(e.name,"!").concat(e.options.appId)}var hn=function(){function e(t){var n=this;J(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new vn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ee(e,[{key:"triggerHeartbeat",value:function(){var e=H(q.mark((function e(){var t,n,r;return q.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=fn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=H(q.mark((function e(){var t,n,r,i,a;return q.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=fn(),n=dn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ke(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fn(){return(new Date).toISOString().substring(0,10)}function dn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Q(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),mn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),mn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var pn,vn=function(){function e(t){J(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ee(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=H(q.mark((function e(){return q.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Me()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Bk){t(Bk)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=H(q.mark((function e(){var t;return q.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,on(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=H(q.mark((function e(t){var n,r;return q.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",un(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=H(q.mark((function e(t){var n,r;return q.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",un(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(G(r.heartbeats),G(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mn(e){return ke(JSON.stringify({version:2,heartbeats:e})).length}pn="",Gt(new at("platform-logger",(function(e){return new Ut(e)}),"PRIVATE")),Gt(new at("heartbeat",(function(e){return new hn(e)}),"PRIVATE")),tn(jt,Vt,pn),tn(jt,Vt,"esm2017"),tn("fire-js","");function yn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ie(e)););return e}function gn(){return gn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=yn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},gn.apply(this,arguments)}tn("firebase","10.4.0","app");function kn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var _n;Object.create;function bn(e){return void 0!==e&&void 0!==e.enterprise}var wn=ee((function e(t){if(J(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function En(){return X({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Sn=En,xn=new Ue("auth","Firebase",En()),Tn=new yt("@firebase/auth");function Cn(e){if(Tn.logLevel<=ct.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tn.warn.apply(Tn,["Auth (".concat(Jt,"): ").concat(e)].concat(n))}}function In(e){if(Tn.logLevel<=ct.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tn.error.apply(Tn,["Auth (".concat(Jt,"): ").concat(e)].concat(n))}}function Nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw An.apply(void 0,[e].concat(n))}function Pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return An.apply(void 0,[e].concat(n))}function Rn(e,t,n){var r=Object.assign(Object.assign({},Sn()),X({},t,n));return new Ue("auth","Firebase",r).create(t,{appName:e.name})}function An(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=G(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(G(o)))}return xn.create.apply(xn,[e].concat(n))}function On(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw An.apply(void 0,[t].concat(r))}}function Dn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw In(t),new Error(t)}function Ln(e,t){e||Dn(t)}function Mn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fn(){return"http:"===Un()||"https:"===Un()}function Un(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function jn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fn()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Vn=function(){function e(t,n){J(this,e),this.shortDelay=t,this.longDelay=n,Ln(n>t,"Short delay should be less than long delay!"),this.isMobile=Ae()||De()}return ee(e,[{key:"get",value:function(){return jn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function zn(e,t){Ln(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Bn=function(){function e(){J(this,e)}return ee(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Hn=(X(_n={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),X(_n,"MISSING_CUSTOM_TOKEN","internal-error"),X(_n,"INVALID_IDENTIFIER","invalid-email"),X(_n,"MISSING_CONTINUE_URI","internal-error"),X(_n,"INVALID_PASSWORD","wrong-password"),X(_n,"MISSING_PASSWORD","missing-password"),X(_n,"EMAIL_EXISTS","email-already-in-use"),X(_n,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),X(_n,"INVALID_IDP_RESPONSE","invalid-credential"),X(_n,"INVALID_PENDING_TOKEN","invalid-credential"),X(_n,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),X(_n,"MISSING_REQ_TYPE","internal-error"),X(_n,"EMAIL_NOT_FOUND","user-not-found"),X(_n,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),X(_n,"EXPIRED_OOB_CODE","expired-action-code"),X(_n,"INVALID_OOB_CODE","invalid-action-code"),X(_n,"MISSING_OOB_CODE","internal-error"),X(_n,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),X(_n,"INVALID_ID_TOKEN","invalid-user-token"),X(_n,"TOKEN_EXPIRED","user-token-expired"),X(_n,"USER_NOT_FOUND","user-token-expired"),X(_n,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),X(_n,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),X(_n,"INVALID_CODE","invalid-verification-code"),X(_n,"INVALID_SESSION_INFO","invalid-verification-id"),X(_n,"INVALID_TEMPORARY_PROOF","invalid-credential"),X(_n,"MISSING_SESSION_INFO","missing-verification-id"),X(_n,"SESSION_EXPIRED","code-expired"),X(_n,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),X(_n,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),X(_n,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),X(_n,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),X(_n,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),X(_n,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),X(_n,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),X(_n,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),X(_n,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),X(_n,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),X(_n,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),X(_n,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),X(_n,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),X(_n,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),X(_n,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),X(_n,"MISSING_CLIENT_TYPE","missing-client-type"),X(_n,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),X(_n,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),X(_n,"INVALID_REQ_TYPE","invalid-req-type"),_n),qn=new Vn(3e4,6e4);function Wn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Kn(e,t,n,r){return Gn.apply(this,arguments)}function Gn(){return Gn=H(W().mark((function e(t,n,r,i){var a,o=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Qn(t,a,H(W().mark((function e(){var a,o,s,u;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ye(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Bn.fetch()(Jn(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Gn.apply(this,arguments)}function Qn(e,t,n){return $n.apply(this,arguments)}function $n(){return $n=H(W().mark((function e(t,n,r){var i,a,o,s,u,c,h,f,d,p;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Hn),n),e.prev=2,a=new Zn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw er(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),h=l(c,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw er(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw er(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw er(t,"user-disabled",s);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Rn(t,p,d);case 34:Nn(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Fe)){e.next=41;break}throw e.t0;case 41:Nn(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),$n.apply(this,arguments)}function Yn(e,t,n,r){return Xn.apply(this,arguments)}function Xn(){return Xn=H(W().mark((function e(t,n,r,i){var a,o,s=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Kn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Nn(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Xn.apply(this,arguments)}function Jn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?zn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Zn=function(){function e(t){var n=this;J(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Pn(n.auth,"network-request-failed"))}),qn.get())}))}return ee(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function er(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Pn(e,t,r);return i.customData._tokenResponse=n,i}function tr(e,t){return nr.apply(this,arguments)}function nr(){return nr=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kn(t,"GET","/v2/recaptchaConfig",Wn(t,n)));case 1:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}function rr(e,t){return ir.apply(this,arguments)}function ir(){return ir=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}function ar(e,t){return or.apply(this,arguments)}function or(){return or=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}function sr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ur(){return ur=H(W().mark((function e(t){var n,r,i,a,o,s,u=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=it(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,On((a=cr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:sr(lr(a.auth_time)),issuedAtTime:sr(lr(a.iat)),expirationTime:sr(lr(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ur.apply(this,arguments)}function lr(e){return 1e3*Number(e)}function cr(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return In("JWT malformed, contained fewer than 3 sections"),null;try{var a=_e(r);return a?JSON.parse(a):(In("Failed to decode base64 JWT payload"),null)}catch(o){return In("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function hr(e,t){return fr.apply(this,arguments)}function fr(){return fr=H(W().mark((function e(t,n){var r=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Fe&&dr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),fr.apply(this,arguments)}function dr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var pr=function(){function e(t){J(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ee(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(H(W().mark((function t(){return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),vr=function(){function e(t,n){J(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ee(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function mr(e){return yr.apply(this,arguments)}function yr(){return yr=H(W().mark((function e(t){var n,r,i,a,o,s,u,l,c,h,f;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,hr(t,ar(r,{idToken:i}));case 6:On(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?_r(o.providerUserInfo):[],u=kr(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!l&&c,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vr(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}function gr(){return(gr=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=it(t),e.next=3,mr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(G(n),G(t))}function _r(e){return e.map((function(e){var t=e.providerId,n=kn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function br(e,t){return wr.apply(this,arguments)}function wr(){return wr=H(W().mark((function e(t,n){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(t,{},H(W().mark((function e(){var r,i,a,o,s,u;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ye({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Jn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Bn.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}var Er=function(){function e(){J(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ee(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){On(e.idToken,"internal-error"),On("undefined"!==typeof e.idToken,"internal-error"),On("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=cr(e);return On(t,"internal-error"),On("undefined"!==typeof t.exp,"internal-error"),On("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=H(W().mark((function e(t){var n,r=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],On(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=H(W().mark((function e(t,n){var r,i,a,o;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,br(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Dn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(On("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(On("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(On("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Sr(e,t){On("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var xr=function(){function e(t){J(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=kn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?G(a.providerData):[],this.metadata=new vr(a.createdAt||void 0,a.lastLoginAt||void 0)}return ee(e,[{key:"getIdToken",value:function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(On(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ur.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return gr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(On(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){On(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=H(W().mark((function e(t){var n,r,i=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,mr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=H(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,hr(this,rr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,_=n.emailVerified,b=n.isAnonymous,w=n.providerData,E=n.stsTokenManager;On(k&&E,t,"internal-error");var S=Er.fromJSON(this.name,E);On("string"===typeof k,t,"internal-error"),Sr(h,t.name),Sr(f,t.name),On("boolean"===typeof _,t,"internal-error"),On("boolean"===typeof b,t,"internal-error"),Sr(d,t.name),Sr(p,t.name),Sr(v,t.name),Sr(m,t.name),Sr(y,t.name),Sr(g,t.name);var x=new e({uid:k,auth:t,email:f,emailVerified:_,displayName:h,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(x.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(x._redirectEventId=m),x}},{key:"_fromIdTokenResponse",value:function(){var t=H(W().mark((function t(n,r){var i,a,o,s=arguments;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Er).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,mr(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Tr=new Map;function Cr(e){Ln(e instanceof Function,"Expected a class definition");var t=Tr.get(e);return t?(Ln(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Tr.set(e,t),t)}var Ir=function(){function e(){J(this,e),this.type="NONE",this.storage={}}return ee(e,[{key:"_isAvailable",value:function(){var e=H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ir.type="NONE";var Nr=Ir;function Pr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Rr=function(){function e(t,n,r){J(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Pr(this.userKey,a.apiKey,o),this.fullPersistenceKey=Pr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ee(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=H(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?xr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=H(W().mark((function t(n,r){var i,a,o,s,u,l,c,h,f,d,p,v=arguments;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Cr(Nr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Cr(Nr),s=Pr(i,n.config.apiKey,n.name),u=null,l=Q(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return h=c.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=xr._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ar(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Or(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ur(t))return"Blackberry";if(jr(t))return"Webos";if(Dr(t))return"Safari";if((t.includes("chrome/")||Lr(t))&&!t.includes("edge/"))return"Chrome";if(Fr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/firefox\//i.test(e)}function Dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/crios\//i.test(e)}function Mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/iemobile/i.test(e)}function Fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/android/i.test(e)}function Ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/blackberry/i.test(e)}function jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/webos/i.test(e)}function Vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function zr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return Vr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Br(){return function(){var e=Re();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return Vr(e)||Fr(e)||jr(e)||Ur(e)||/windows phone/i.test(e)||Mr(e)}function qr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ar(Re());break;case"Worker":t="".concat(Ar(Re()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Jt,"/").concat(r)}var Wr=function(){function e(t){J(this,e),this.auth=t,this.queue=[]}return ee(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=H(W().mark((function e(t){var n,r,i,a,o,s,u;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Q(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Q(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(l){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Kr(e){return Gr.apply(this,arguments)}function Gr(){return Gr=H(W().mark((function e(t){var n,r=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Kn(t,"GET","/v2/passwordPolicy",Wn(t,n)));case 2:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}var Qr=function(){function e(t){var n,r,i,a;J(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return ee(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),$r=function(){function e(t,n,r,i){J(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xr(this),this.idTokenSubscription=new Xr(this),this.beforeStateQueue=new Wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return ee(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Cr(t)),this._initializationPromise=this.queue(H(W().mark((function r(){var i,a;return W().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Rr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=H(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=H(W().mark((function e(t){var n,r,i,a,o,s,u;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return On(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?it(t):null)&&On(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=H(W().mark((function e(t){var n,r=this,i=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&On(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(H(W().mark((function n(){return W().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Cr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=H(W().mark((function e(){var t,n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr(this);case 2:t=e.sent,n=new Qr(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ue("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=H(W().mark((function e(t,n){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return On(n=t&&Cr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Rr.create(this,[Cr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=H(W().mark((function e(t){var n,r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=H(W().mark((function e(t){var n=this;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(On(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var l=e.addObserver(t);return function(){o=!0,l()}}},{key:"directlySetCurrentUser",value:function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return On(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=H(W().mark((function e(){var t,n,r,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=X({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=H(W().mark((function e(){var t,n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Cn("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yr(e){return it(e)}var Xr=function(){function e(t){var n=this;J(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new et(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return ee(e,[{key:"next",get:function(){return On(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Jr(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Pn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Zr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ei="https://www.google.com/recaptcha/enterprise.js?render=",ti="NO_RECAPTCHA",ni=function(){function e(t){J(this,e),this.type="recaptcha-enterprise",this.auth=Yr(t)}return ee(e,[{key:"verify",value:function(){var e=H(W().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;bn(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n(ti)}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=H(W().mark((function e(n,r){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new wn(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&bn(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Jr(ei+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ri(e,t,n){return ii.apply(this,arguments)}function ii(){return ii=H(W().mark((function e(t,n,r){var i,a,o,s,u=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new ni(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),ii.apply(this,arguments)}function ai(e,t){var n=Qt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Qe(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Nn(r,"already-initialized")}return n.initialize({options:t})}function oi(e,t,n){var r=Yr(e);On(r._canInitEmulator,r,"emulator-config-failed"),On(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=si(t),o=function(e){var t=si(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ui(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:ui(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function si(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ui(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var li=function(){function e(t,n){J(this,e),this.providerId=t,this.signInMethod=n}return ee(e,[{key:"toJSON",value:function(){return Dn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Dn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Dn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Dn("not implemented")}}]),e}();function ci(e,t){return hi.apply(this,arguments)}function hi(){return hi=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),hi.apply(this,arguments)}function fi(e,t){return di.apply(this,arguments)}function di(){return di=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yn(t,"POST","/v1/accounts:signInWithPassword",Wn(t,n)));case 1:case"end":return e.stop()}}),e)}))),di.apply(this,arguments)}function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yn(t,"POST","/v1/accounts:signInWithEmailLink",Wn(t,n)));case 1:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function mi(e,t){return yi.apply(this,arguments)}function yi(){return yi=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yn(t,"POST","/v1/accounts:signInWithEmailLink",Wn(t,n)));case 1:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}var gi=function(e){re(n,e);var t=se(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return J(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ee(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=H(W().mark((function e(t){var n,r,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,ri(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",fi(t,i));case 11:return e.abrupt("return",fi(t,r).catch(function(){var e=H(W().mark((function e(n){var i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,ri(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",fi(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",pi(t,{email:this._email,oobCode:this._password}));case 13:Nn(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ci(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",mi(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Nn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(li);function ki(e,t){return _i.apply(this,arguments)}function _i(){return _i=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yn(t,"POST","/v1/accounts:signInWithIdp",Wn(t,n)));case 1:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}var bi=function(e){re(n,e);var t=se(n);function n(){var e;return J(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ee(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ki(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ki(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ki(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ye(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=kn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(li);function wi(e,t){return Ei.apply(this,arguments)}function Ei(){return Ei=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kn(t,"POST","/v1/accounts:sendVerificationCode",Wn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function Si(){return Si=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yn(t,"POST","/v1/accounts:signInWithPhoneNumber",Wn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Si.apply(this,arguments)}function xi(){return xi=H(W().mark((function e(t,n){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yn(t,"POST","/v1/accounts:signInWithPhoneNumber",Wn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw er(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),xi.apply(this,arguments)}var Ti=X({},"USER_NOT_FOUND","user-not-found");function Ci(){return Ci=H(W().mark((function e(t,n){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Yn(t,"POST","/v1/accounts:signInWithPhoneNumber",Wn(t,r),Ti));case 2:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}var Ii=function(e){re(n,e);var t=se(n);function n(e){var r;return J(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ee(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Si.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return xi.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ci.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(li);var Ni=function(){function e(t){var n,r,i,a,o,s;J(this,e);var u=Xe(Je(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);On(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return ee(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Xe(Je(e)).link,n=t?Xe(Je(t)).deep_link_id:null,r=Xe(Je(e)).deep_link_id;return(r?Xe(Je(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Pi=function(){function e(){J(this,e),this.providerId=e.PROVIDER_ID}return ee(e,null,[{key:"credential",value:function(e,t){return gi._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ni.parseLink(t);return On(n,"argument-error"),gi._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Pi.PROVIDER_ID="password",Pi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Pi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ri=function(){function e(t){J(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ee(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ai=function(e){re(n,e);var t=se(n);function n(){var e;return J(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ee(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return G(this.scopes)}}]),n}(Ri),Oi=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.apply(this,arguments)}return ee(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return On(e.idToken||e.accessToken,"argument-error"),bi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return On("providerId"in t&&"signInMethod"in t,"argument-error"),bi._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(l){return null}}}]),n}(Ai),Di=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.call(this,"facebook.com")}return ee(n,null,[{key:"credential",value:function(e){return bi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Ai);Di.FACEBOOK_SIGN_IN_METHOD="facebook.com",Di.PROVIDER_ID="facebook.com";var Li=function(e){re(n,e);var t=se(n);function n(){var e;return J(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ee(n,null,[{key:"credential",value:function(e,t){return bi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Ai);Li.GOOGLE_SIGN_IN_METHOD="google.com",Li.PROVIDER_ID="google.com";var Mi=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.call(this,"github.com")}return ee(n,null,[{key:"credential",value:function(e){return bi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Ai);Mi.GITHUB_SIGN_IN_METHOD="github.com",Mi.PROVIDER_ID="github.com";var Fi=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.call(this,"twitter.com")}return ee(n,null,[{key:"credential",value:function(e,t){return bi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Ai);Fi.TWITTER_SIGN_IN_METHOD="twitter.com",Fi.PROVIDER_ID="twitter.com";var Ui=function(){function e(t){J(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ee(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=H(W().mark((function t(n,r,i){var a,o,s,u,l=arguments;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,xr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=ji(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=H(W().mark((function t(n,r,i){var a;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ji(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ji(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Vi=function(e){re(n,e);var t=se(n);function n(e,r,i,a){var o,s;return J(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(te(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ee(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Fe);function zi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Vi._fromErrorAndOperation(e,n,t,r);throw n}))}function Bi(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=H(W().mark((function e(t,n){var r,i,a=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=hr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ui._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function qi(e,t){return Wi.apply(this,arguments)}function Wi(){return Wi=H(W().mark((function e(t,n){var r,i,a,o,s,u,l=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,hr(t,zi(i,a,n,t),r);case 6:return On((o=e.sent).idToken,i,"internal-error"),On(s=cr(o.idToken),i,"internal-error"),u=s.sub,On(t.uid===u,i,"user-mismatch"),e.abrupt("return",Ui._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Nn(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Wi.apply(this,arguments)}function Ki(e,t){return Gi.apply(this,arguments)}function Gi(){return Gi=H(W().mark((function e(t,n){var r,i,a,o,s=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,zi(t,i,n);case 4:return a=e.sent,e.next=7,Ui._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Qi(e,t,n,r){return it(e).onIdTokenChanged(t,n,r)}function $i(e,t,n){return it(e).beforeAuthStateChanged(t,n)}function Yi(e,t){return Kn(e,"POST","/v2/accounts/mfaEnrollment:start",Wn(e,t))}function Xi(e,t){return Kn(e,"POST","/v2/accounts/mfaEnrollment:start",Wn(e,t))}function Ji(e,t){return Kn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Wn(e,t))}new WeakMap;var Zi="__sak",ea=function(){function e(t,n){J(this,e),this.storageRetriever=t,this.type=n}return ee(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Zi,"1"),this.storage.removeItem(Zi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ta=function(e){re(n,e);var t=se(n);function n(){var e;return J(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Re();return Dr(e)||Vr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Hr(),e._shouldAllowMigration=!0,e}return ee(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Br()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=H(W().mark((function e(t,r){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn(ie(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=H(W().mark((function e(t){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn(ie(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn(ie(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ea);ta.type="LOCAL";var na=ta,ra=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ee(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ea);ra.type="SESSION";var ia=ra;function aa(e){return Promise.all(e.map(function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var oa=function(){function e(t){J(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ee(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=H(W().mark((function e(t){var n,r,i,a,o,s,u,l;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,aa(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function sa(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}oa.receivers=[];var ua=function(){function e(t){J(this,e),this.target=t,this.handlers=new Set}return ee(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=H(W().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=sa("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function la(){return window}function ca(e){la().location.href=e}function ha(){return"undefined"!==typeof la().WorkerGlobalScope&&"function"===typeof la().importScripts}function fa(){return da.apply(this,arguments)}function da(){return(da=H(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function pa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var va="firebaseLocalStorageDb",ma="firebaseLocalStorage",ya="fbase_key",ga=function(){function e(t){J(this,e),this.request=t}return ee(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ka(e,t){return e.transaction([ma],t?"readwrite":"readonly").objectStore(ma)}function _a(){var e=indexedDB.deleteDatabase(va);return new ga(e).toPromise()}function ba(){var e=indexedDB.open(va,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ma,{keyPath:ya})}catch(r){n(r)}})),e.addEventListener("success",H(W().mark((function n(){var r;return W().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ma)){n.next=12;break}return r.close(),n.next=5,_a();case 5:return n.t0=t,n.next=8,ba();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function wa(e,t,n){return Ea.apply(this,arguments)}function Ea(){return Ea=H(W().mark((function e(t,n,r){var i,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ka(t,!0).put((X(i={},ya,n),X(i,"value",r),i)),e.abrupt("return",new ga(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Sa(e,t){return xa.apply(this,arguments)}function xa(){return xa=H(W().mark((function e(t,n){var r,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ka(t,!1).get(n),e.next=3,new ga(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function Ta(e,t){var n=ka(e,!0).delete(t);return new ga(n).toPromise()}var Ca=function(){function e(){J(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ee(e,[{key:"_openDb",value:function(){var e=H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ba();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=H(W().mark((function e(t){var n,r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ha()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=H(W().mark((function e(){var t=this;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=oa._getInstance(ha()?self:null),this.receiver._subscribe("keyChanged",function(){var e=H(W().mark((function e(n,r){var i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=H(W().mark((function e(){var t,n,r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ua(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&pa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=H(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ba();case 5:return t=e.sent,e.next=8,wa(t,Zi,"1");case 8:return e.next=10,Ta(t,Zi);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=H(W().mark((function e(t,n){var r=this;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return wa(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Sa(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=H(W().mark((function e(t){var n=this;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ta(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=H(W().mark((function e(){var t,n,r,i,a,o,s,u,l,c,h;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ka(e,!1).getAll();return new ga(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Q(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)h=c[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(H(W().mark((function t(){return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ca.type="LOCAL";var Ia=Ca;function Na(e,t){return Kn(e,"POST","/v2/accounts/mfaSignIn:start",Wn(e,t))}function Pa(e,t){return Kn(e,"POST","/v2/accounts/mfaSignIn:finalize",Wn(e,t))}Zr("rcb"),new Vn(3e4,6e4);var Ra="recaptcha";function Aa(e,t,n){return Oa.apply(this,arguments)}function Oa(){return Oa=H(W().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,f;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,On("string"===typeof a,t,"argument-error"),On(r.type===Ra,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return On("enroll"===s.type,t,"internal-error"),e.next=13,Yi(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return On("signin"===s.type,t,"internal-error"),On(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Na(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,wi(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Oa.apply(this,arguments)}var Da=function(){function e(t){J(this,e),this.providerId=e.PROVIDER_ID,this.auth=Yr(t)}return ee(e,[{key:"verifyPhoneNumber",value:function(e,t){return Aa(this.auth,e,it(t))}}],[{key:"credential",value:function(e,t){return Ii._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ii._fromTokenResponse(n,r):null}}]),e}();function La(e,t){return t?Cr(t):(On(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Da.PROVIDER_ID="phone",Da.PHONE_SIGN_IN_METHOD="phone";var Ma=function(e){re(n,e);var t=se(n);function n(e){var r;return J(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ee(n,[{key:"_getIdTokenResponse",value:function(e){return ki(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ki(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ki(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(li);function Fa(e){return Ki(e.auth,new Ma(e),e.bypassAuthState)}function Ua(e){var t=e.auth,n=e.user;return On(n,t,"internal-error"),qi(n,new Ma(e),e.bypassAuthState)}function ja(e){return Va.apply(this,arguments)}function Va(){return Va=H(W().mark((function e(t){var n,r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,On(r=t.user,n,"internal-error"),e.abrupt("return",Bi(r,new Ma(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}var za=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];J(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ee(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=H(W().mark((function t(n,r){return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=H(W().mark((function e(t){var n,r,i,a,o,s,u;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fa;case"linkViaPopup":case"linkViaRedirect":return ja;case"reauthViaPopup":case"reauthViaRedirect":return Ua;default:Nn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ba=new Vn(2e3,1e4);var Ha=function(e){re(n,e);var t=se(n);function n(e,r,i,a,o){var s;return J(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=te(s),s}return ee(n,[{key:"executeNotNull",value:function(){var e=H(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return On(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=H(W().mark((function e(){var t,n=this;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ln(1===this.filter.length,"Popup operations only handle one event"),t=sa(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Pn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Pn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Pn(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Ba.get())}()}}]),n}(za);Ha.currentPopupAction=null;var qa=new Map,Wa=function(e){re(n,e);var t=se(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return J(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ee(n,[{key:"execute",value:function(){var e=H(W().mark((function e(){var t,r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qa.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ka(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,gn(ie(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:qa.set(this.auth._key(),t);case 21:return this.bypassAuthState||qa.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=H(W().mark((function e(t){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",gn(ie(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",gn(ie(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(za);function Ka(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=H(W().mark((function e(t,n){var r,i,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ya(n),i=$a(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Qa(e,t){qa.set(e._key(),t)}function $a(e){return Cr(e._redirectPersistence)}function Ya(e){return Pr("pendingRedirect",e.config.apiKey,e.name)}function Xa(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=H(W().mark((function e(t,n){var r,i,a,o,s,u=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Yr(t),a=La(i,n),o=new Wa(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}var Za=function(){function e(t){J(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ee(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return to(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!to(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Pn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eo(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(eo(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function eo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function to(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function no(e){return ro.apply(this,arguments)}function ro(){return ro=H(W().mark((function e(t){var n,r=arguments;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Kn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}var io=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ao=/^https?/;function oo(){return oo=H(W().mark((function e(t){var n,r,i,a,o;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,no(t);case 4:n=e.sent,r=n.authorizedDomains,i=Q(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!so(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Nn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),oo.apply(this,arguments)}function so(e){var t=Mn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ao.test(r))return!1;if(io.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var uo=new Vn(3e4,6e4);function lo(){var e=la().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=G(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var co=null;function ho(e){return co=co||function(e){return new Promise((function(t,n){var r,i,a;function o(){lo(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){lo(),n(Pn(e,"network-request-failed"))},timeout:uo.get()})}if(null===(i=null===(r=la().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=la().gapi)||void 0===a?void 0:a.load)){var s=Zr("iframefcb");return la()[s]=function(){gapi.load?o():n(Pn(e,"network-request-failed"))},Jr("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw co=null,e}))}(e),co}var fo=new Vn(5e3,15e3),po={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mo(e){var t=e.config;On(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?zn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Jt},i=vo.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ye(r).slice(1))}function yo(e){return go.apply(this,arguments)}function go(){return go=H(W().mark((function e(t){var n,r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ho(t);case 2:return n=e.sent,On(r=la().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:mo(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:po,dontclear:!0},(function(e){return new Promise(function(){var n=H(W().mark((function n(r,i){var a,o,s;return W().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){la().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Pn(t,"network-request-failed"),o=la().setTimeout((function(){i(a)}),fo.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}var ko={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_o="_blank",bo="http://localhost",wo=function(){function e(t){J(this,e),this.window=t,this.associatedEvent=null}return ee(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Eo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},ko),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Re().toLowerCase();n&&(s=Lr(c)?_o:n),Or(c)&&(t=t||bo,u.scrollbars="yes");var h=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(zr(c)&&"_self"!==s)return So(t||"",s),new wo(null);var f=window.open(t||"",s,h);On(f,e,"popup-blocked");try{f.focus()}catch(d){}return new wo(f)}function So(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var xo=encodeURIComponent("fac");function To(e,t,n,r,i,a){return Co.apply(this,arguments)}function Co(){return Co=H(W().mark((function e(t,n,r,i,a,o){var s,u,c,h,f,d,p,v,m,y,g,k,_;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(On(t.config.authDomain,t,"auth-domain-config-required"),On(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Jt,eventId:a},n instanceof Ri)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Ke(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)h=l(c[u],2),f=h[0],d=h[1],s[f]=d;for(n instanceof Ai&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,_=k?"#".concat(xo,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Io(t),"?").concat(Ye(v).slice(1)).concat(_));case 13:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}function Io(e){var t=e.config;return t.emulator?zn(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}var No="webStorageSupport",Po=function(){function e(){J(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ia,this._completeRedirectFn=Xa,this._overrideRedirectResult=Qa}return ee(e,[{key:"_openPopup",value:function(){var e=H(W().mark((function e(t,n,r,i){var a,o;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ln(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,To(t,n,r,Mn(),i);case 3:return o=e.sent,e.abrupt("return",Eo(t,o,sa()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=H(W().mark((function e(t,n,r,i){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,To(t,n,r,Mn(),i);case 4:return ca(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ln(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=H(W().mark((function e(t){var n,r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo(t);case 2:return n=e.sent,r=new Za(t),n.register("authEvent",(function(e){return On(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(No,{type:No},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Nn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return oo.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Hr()||Dr()||Vr()}}]),e}(),Ro=Po,Ao=function(){function e(t){J(this,e),this.factorId=t}return ee(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Dn("unexpected MultiFactorSessionType")}}}]),e}(),Oo=function(e){re(n,e);var t=se(n);function n(e){var r;return J(this,n),(r=t.call(this,"phone")).credential=e,r}return ee(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Kn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Wn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Kn(e,"POST","/v2/accounts/mfaSignIn:finalize",Wn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ao);(function(){function e(){J(this,e)}return ee(e,null,[{key:"assertion",value:function(e){return Oo._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Do=function(){function e(){J(this,e)}return ee(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Lo._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Lo._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=H(W().mark((function e(t){var n,r,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return On("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Xi(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Mo._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Do.FACTOR_ID="totp";var Lo=function(e){re(n,e);var t=se(n);function n(e,r,i){var a;return J(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return ee(n,[{key:"_finalizeEnroll",value:function(){var e=H(W().mark((function e(t,n,r){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return On("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Ji(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=H(W().mark((function e(t,n){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return On(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Pa(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Ao),Mo=function(){function e(t,n,r,i,a,o,s){J(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return ee(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Fo(e)||Fo(t))&&(r=!0),r&&(Fo(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Fo(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Fo(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Uo="@firebase/auth",jo="1.3.0",Vo=function(){function e(t){J(this,e),this.auth=t,this.internalListeners=new Map}return ee(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){On(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var zo,Bo=Ie("authIdTokenMaxAge")||300,Ho=null,qo=function(e){return function(){var t=H(W().mark((function t(n){var r,i,a;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Bo)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Ho!==a){t.next=12;break}return t.abrupt("return");case 12:return Ho=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};zo="Browser",Gt(new at("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;On(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var l={apiKey:s,authDomain:u,clientPlatform:zo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qr(zo)},c=new $r(r,i,a,l);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Gt(new at("auth-internal",(function(e){return function(e){return new Vo(e)}(Yr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),tn(Uo,jo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(zo)),tn(Uo,jo,"esm2017");var Wo,Ko="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Go={},Qo=Qo||{},$o=Ko||self;function Yo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Xo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Jo="closure_uid_"+(1e9*Math.random()>>>0),Zo=0;function es(e,t,n){return e.call.apply(e.bind,arguments)}function ts(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ns(e,t,n){return(ns=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?es:ts).apply(null,arguments)}function rs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function is(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function as(){this.s=this.s,this.o=this.o}as.prototype.s=!1,as.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Jo)&&e[Jo]||(e[Jo]=++Zo))},as.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var os=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ss(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function us(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Yo(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ls(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ls.prototype.h=function(){this.defaultPrevented=!0};var cs=function(){if(!$o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{$o.addEventListener("test",(function(){}),t),$o.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function hs(e){return/^[\s\xa0]*$/.test(e)}function fs(){var e=$o.navigator;return e&&(e=e.userAgent)?e:""}function ds(e){return-1!=fs().indexOf(e)}function ps(e){return ps[" "](e),e}ps[" "]=function(){};var vs,ms,ys=ds("Opera"),gs=ds("Trident")||ds("MSIE"),ks=ds("Edge"),_s=ks||gs,bs=ds("Gecko")&&!(-1!=fs().toLowerCase().indexOf("webkit")&&!ds("Edge"))&&!(ds("Trident")||ds("MSIE"))&&!ds("Edge"),ws=-1!=fs().toLowerCase().indexOf("webkit")&&!ds("Edge");function Es(){var e=$o.document;return e?e.documentMode:void 0}e:{var Ss="",xs=function(){var e=fs();return bs?/rv:([^\);]+)(\)|;)/.exec(e):ks?/Edge\/([\d\.]+)/.exec(e):gs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ws?/WebKit\/(\S+)/.exec(e):ys?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(xs&&(Ss=xs?xs[1]:""),gs){var Ts=Es();if(null!=Ts&&Ts>parseFloat(Ss)){vs=String(Ts);break e}}vs=Ss}if($o.document&&gs){var Cs=Es();ms=Cs||(parseInt(vs,10)||void 0)}else ms=void 0;var Is=ms;function Ns(e,t){if(ls.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(bs){e:{try{ps(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ps[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ns.$.h.call(this)}}is(Ns,ls);var Ps={2:"touch",3:"pen",4:"mouse"};Ns.prototype.h=function(){Ns.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Rs="closure_listenable_"+(1e6*Math.random()|0),As=0;function Os(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++As,this.fa=this.ia=!1}function Ds(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ls(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ms(e){var t={};for(var n in e)t[n]=e[n];return t}var Fs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Us(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Fs.length;a++)n=Fs[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function js(e){this.src=e,this.g={},this.h=0}function Vs(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=os(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ds(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function zs(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}js.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=zs(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Os(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Bs="closure_lm_"+(1e6*Math.random()|0),Hs={};function qs(e,t,n,r,i){if(r&&r.once)return Ks(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)qs(e,t[a],n,r,i);return null}return n=Zs(n),e&&e[Rs]?e.O(t,n,Xo(r)?!!r.capture:!!r,i):Ws(e,t,n,!1,r,i)}function Ws(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Xo(i)?!!i.capture:!!i,s=Xs(e);if(s||(e[Bs]=s=new js(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ys;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)cs||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($s(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ks(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ks(e,t[a],n,r,i);return null}return n=Zs(n),e&&e[Rs]?e.P(t,n,Xo(r)?!!r.capture:!!r,i):Ws(e,t,n,!0,r,i)}function Gs(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Gs(e,t[a],n,r,i);else r=Xo(r)?!!r.capture:!!r,n=Zs(n),e&&e[Rs]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=zs(a=e.g[t],n,r,i))&&(Ds(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Xs(e))&&(t=e.g[t.toString()],e=-1,t&&(e=zs(t,n,r,i)),(n=-1<e?t[e]:null)&&Qs(n))}function Qs(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Rs])Vs(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($s(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Xs(t))?(Vs(n,e),0==n.h&&(n.src=null,t[Bs]=null)):Ds(e)}}}function $s(e){return e in Hs?Hs[e]:Hs[e]="on"+e}function Ys(e,t){if(e.fa)e=!0;else{t=new Ns(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Qs(e),e=n.call(r,t)}return e}function Xs(e){return(e=e[Bs])instanceof js?e:null}var Js="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(e){return"function"===typeof e?e:(e[Js]||(e[Js]=function(t){return e.handleEvent(t)}),e[Js])}function eu(){as.call(this),this.i=new js(this),this.S=this,this.J=null}function tu(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ls(t,e);else if(t instanceof ls)t.target=t.target||e;else{var i=t;Us(t=new ls(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=nu(o,r,!0,t)&&i}if(i=nu(o=t.g=e,r,!0,t)&&i,i=nu(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=nu(o=t.g=n[a],r,!1,t)&&i}function nu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Vs(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}is(eu,as),eu.prototype[Rs]=!0,eu.prototype.removeEventListener=function(e,t,n,r){Gs(this,e,t,n,r)},eu.prototype.N=function(){if(eu.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ds(n[r]);delete t.g[e],t.h--}}this.J=null},eu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},eu.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ru=$o.JSON.stringify,iu=function(){function e(t,n){J(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ee(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function au(){var e=du,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ou=function(){function e(){J(this,e),this.h=this.g=null}return ee(e,[{key:"add",value:function(e,t){var n=su.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),su=new iu((function(){return new uu}),(function(e){return e.reset()})),uu=function(){function e(){J(this,e),this.next=this.g=this.h=null}return ee(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function lu(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function cu(e){$o.setTimeout((function(){throw e}),0)}var hu,fu=!1,du=new ou,pu=function(){var e=$o.Promise.resolve(void 0);hu=function(){e.then(vu)}},vu=function(){for(var e;e=au();){try{e.h.call(e.g)}catch(n){cu(n)}var t=su;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fu=!1};function mu(e,t){eu.call(this),this.h=e||1,this.g=t||$o,this.j=ns(this.qb,this),this.l=Date.now()}function yu(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function gu(e,t,n){if("function"===typeof e)n&&(e=ns(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ns(e.handleEvent,e)}return 2147483647<Number(t)?-1:$o.setTimeout(e,t||0)}function ku(e){e.g=gu((function(){e.g=null,e.i&&(e.i=!1,ku(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}is(mu,eu),(Wo=mu.prototype).ga=!1,Wo.T=null,Wo.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),tu(this,"tick"),this.ga&&(yu(this),this.start()))}},Wo.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wo.N=function(){mu.$.N.call(this),yu(this),delete this.g};var _u=function(e){re(n,e);var t=se(n);function n(e,r){var i;return J(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ee(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ku(this)}},{key:"N",value:function(){gn(ie(n.prototype),"N",this).call(this),this.g&&($o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(as);function bu(e){as.call(this),this.h=e,this.g={}}is(bu,as);var wu=[];function Eu(e,t,n,r){Array.isArray(n)||(n&&(wu[0]=n.toString()),n=wu);for(var i=0;i<n.length;i++){var a=qs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Su(e){Ls(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Qs(e)}),e),e.g={}}function xu(){this.g=!0}function Tu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ru(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}bu.prototype.N=function(){bu.$.N.call(this),Su(this)},bu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xu.prototype.Ea=function(){this.g=!1},xu.prototype.info=function(){};var Cu={},Iu=null;function Nu(){return Iu=Iu||new eu}function Pu(e){ls.call(this,Cu.Ta,e)}function Ru(e){var t=Nu();tu(t,new Pu(t))}function Au(e,t){ls.call(this,Cu.STAT_EVENT,e),this.stat=t}function Ou(e){var t=Nu();tu(t,new Au(t,e))}function Du(e,t){ls.call(this,Cu.Ua,e),this.size=t}function Lu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return $o.setTimeout((function(){e()}),t)}Cu.Ta="serverreachability",is(Pu,ls),Cu.STAT_EVENT="statevent",is(Au,ls),Cu.Ua="timingevent",is(Du,ls);var Mu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Fu={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Uu(){}function ju(e){return e.h||(e.h=e.i())}function Vu(){}Uu.prototype.h=null;var zu,Bu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Hu(){ls.call(this,"d")}function qu(){ls.call(this,"c")}function Wu(){}function Ku(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new bu(this),this.P=Qu,e=_s?125:void 0,this.V=new mu(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Gu}function Gu(){this.i=null,this.g="",this.h=!1}is(Hu,ls),is(qu,ls),is(Wu,Uu),Wu.prototype.g=function(){return new XMLHttpRequest},Wu.prototype.i=function(){return{}},zu=new Wu;var Qu=45e3,$u={},Yu={};function Xu(e,t,n){e.L=1,e.v=ml(hl(t)),e.s=n,e.S=!0,Ju(e,null)}function Ju(e,t){e.G=Date.now(),nl(e),e.A=hl(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Nl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Gu,e.g=Pc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new _u(ns(e.Pa,e,e.g),e.O)),Eu(e.U,e.g,"readystatechange",e.nb),t=e.I?Ms(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ru(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Zu(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function el(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=tl(e,n))==Yu){4==t&&(e.o=4,Ou(14),i=!1),Tu(e.j,e.m,null,"[Incomplete Response]");break}if(r==$u){e.o=4,Ou(15),Tu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Tu(e.j,e.m,r,null),sl(e,r)}Zu(e)&&r!=Yu&&r!=$u&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ou(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),wc(t),t.M=!0,Ou(11))):(Tu(e.j,e.m,n,"[Invalid Chunked Response]"),ol(e),al(e))}function tl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Yu:(n=Number(t.substring(n,r)),isNaN(n)?$u:(r+=1)+n>t.length?Yu:(t=t.slice(r,r+n),e.C=r+n,t))}function nl(e){e.Y=Date.now()+e.P,rl(e,e.P)}function rl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Lu(ns(e.lb,e),t)}function il(e){e.B&&($o.clearTimeout(e.B),e.B=null)}function al(e){0==e.l.H||e.J||xc(e.l,e)}function ol(e){il(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,yu(e.V),Su(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function sl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ml(n.i,e)))if(!e.K&&Ml(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Sc(n),pc(n)}bc(n),Ou(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Lu(ns(n.ib,n),6e3));if(1>=Ll(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Cc(n,11)}else if((e.K||n.g==e)&&Sc(n),!hs(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;h.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(Fl(h,h.h),h.h=null))}if(r.F){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.Da=f,vl(r.I,r.F,f))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Nc(r,r.J?r.pa:null,r.Y),d.K){Ul(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(il(p),nl(p)),r.g=d}else _c(r);0<n.j.length&&mc(n)}else"stop"!=a[0]&&"close"!=a[0]||Cc(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Cc(n,7):dc(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Ru()}catch(a){}}function ul(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Yo(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Yo(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Yo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Wo=Ku.prototype).setTimeout=function(e){this.P=e},Wo.nb=function(e){e=e.target;var t=this.M;t&&3==sc(e)?t.l():this.Pa(e)},Wo.Pa=function(e){try{if(e==this.g)e:{var t=sc(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||_s||this.g&&(this.h.h||this.g.ja()||uc(this.g)))){this.J||4!=t||7==n||Ru(),il(this);var r=this.g.da();this.ca=r;t:if(Zu(this)){var i=uc(this.g);e="";var a=i.length,o=4==sc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ol(this),al(this);var s="";break t}this.h.i=new $o.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hs(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,Ou(12),ol(this),al(this);break e}Tu(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sl(this,r)}this.S?(el(this,t,s),_s&&this.i&&3==t&&(Eu(this.U,this.V,"tick",this.mb),this.V.start())):(Tu(this.j,this.m,s,null),sl(this,s)),4==t&&ol(this),this.i&&!this.J&&(4==t?xc(this.l,this):(this.i=!1,nl(this)))}else(function(e){var t={};e=(e.g&&2<=sc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!hs(e[n])){var r=lu(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Ou(12)):(this.o=0,Ou(13)),ol(this),al(this)}}}catch(t){}},Wo.mb=function(){if(this.g){var e=sc(this.g),t=this.g.ja();this.C<t.length&&(il(this),el(this,e,t),this.i&&4!=e&&nl(this))}},Wo.cancel=function(){this.J=!0,ol(this)},Wo.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ru(),Ou(17)),ol(this),this.o=2,al(this)):rl(this,this.Y-e)};var ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof cl){this.h=e.h,fl(this,e.j),this.s=e.s,this.g=e.g,dl(this,e.m),this.l=e.l;var t=e.i,n=new xl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),pl(this,n),this.o=e.o}else e&&(t=String(e).match(ll))?(this.h=!1,fl(this,t[1]||"",!0),this.s=yl(t[2]||""),this.g=yl(t[3]||"",!0),dl(this,t[4]),this.l=yl(t[5]||"",!0),pl(this,t[6]||"",!0),this.o=yl(t[7]||"")):(this.h=!1,this.i=new xl(null,this.h))}function hl(e){return new cl(e)}function fl(e,t,n){e.j=n?yl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function dl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function pl(e,t,n){t instanceof xl?(e.i=t,function(e,t){t&&!e.j&&(Tl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Cl(this,t),Nl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=gl(t,El)),e.i=new xl(t,e.h))}function vl(e,t,n){e.i.set(t,n)}function ml(e){return vl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,kl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}cl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gl(t,_l,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(gl(t,_l,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(gl(n,"/"==n.charAt(0)?wl:bl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",gl(n,Sl)),e.join("")};var _l=/[#\/\?@]/g,bl=/[#\?:]/g,wl=/[#\?]/g,El=/[#\?@]/g,Sl=/#/g;function xl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Cl(e,t){Tl(e),t=Pl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Il(e,t){return Tl(e),t=Pl(e,t),e.g.has(t)}function Nl(e,t,n){Cl(e,t),0<n.length&&(e.i=null,e.g.set(Pl(e,t),ss(n)),e.h+=n.length)}function Pl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Wo=xl.prototype).add=function(e,t){Tl(this),this.i=null,e=Pl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Wo.forEach=function(e,t){Tl(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Wo.ta=function(){Tl(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Wo.Z=function(e){Tl(this);var t=[];if("string"===typeof e)Il(this,e)&&(t=t.concat(this.g.get(Pl(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Wo.set=function(e,t){return Tl(this),this.i=null,Il(this,e=Pl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Wo.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Wo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Rl=ee((function e(t,n){J(this,e),this.g=t,this.map=n}));function Al(e){this.l=e||Ol,$o.PerformanceNavigationTiming?e=0<(e=$o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!($o.g&&$o.g.Ka&&$o.g.Ka()&&$o.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ol=10;function Dl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ll(e){return e.h?1:e.g?e.g.size:0}function Ml(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Fl(e,t){e.g?e.g.add(t):e.h=t}function Ul(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function jl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Q(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return ss(e.i)}Al.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Q(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Vl,zl=function(){function e(){J(this,e)}return ee(e,[{key:"stringify",value:function(e){return $o.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return $o.JSON.parse(e,void 0)}}]),e}();function Bl(){this.g=new zl}function Hl(e,t,n){var r=n||"";try{ul(e,(function(e,n){var i=e;Xo(e)&&(i=ru(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ql(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Wl(e){this.l=e.ec||null,this.j=e.ob||!1}function Kl(e,t){eu.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Gl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}is(Wl,Uu),Wl.prototype.g=function(){return new Kl(this.l,this.j)},Wl.prototype.i=(Vl={},function(){return Vl}),is(Kl,eu);var Gl=0;function Ql(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function $l(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Yl(e)}function Yl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Wo=Kl.prototype).open=function(e,t){if(this.readyState!=Gl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Yl(this)},Wo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||$o).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Wo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$l(this)),this.readyState=Gl},Wo.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Yl(this)),this.g&&(this.readyState=3,Yl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof $o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ql(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Wo.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$l(this):Yl(this),3==this.readyState&&Ql(this)}},Wo.Za=function(e){this.g&&(this.response=this.responseText=e,$l(this))},Wo.Ya=function(e){this.g&&(this.response=e,$l(this))},Wo.ka=function(){this.g&&$l(this)},Wo.setRequestHeader=function(e,t){this.v.append(e,t)},Wo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Wo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Kl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Xl=$o.JSON.parse;function Jl(e){eu.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Zl,this.L=this.M=!1}is(Jl,eu);var Zl="",ec=/^https?$/i,tc=["POST","PUT"];function nc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,rc(e),ac(e)}function rc(e){e.F||(e.F=!0,tu(e,"complete"),tu(e,"error"))}function ic(e){if(e.h&&"undefined"!=typeof Qo&&(!e.C[1]||4!=sc(e)||2!=e.da()))if(e.v&&4==sc(e))gu(e.La,0,e);else if(tu(e,"readystatechange"),4==sc(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(ll)[1]||null;!a&&$o.self&&$o.self.location&&(a=$o.self.location.protocol.slice(0,-1)),i=!ec.test(a?a.toLowerCase():"")}t=i}if(t)tu(e,"complete"),tu(e,"success");else{e.m=6;try{var o=2<sc(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",rc(e)}}finally{ac(e)}}}function ac(e,t){if(e.g){oc(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||tu(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function oc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&($o.clearTimeout(e.A),e.A=null)}function sc(e){return e.g?e.g.readyState:0}function uc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Zl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ph){return null}}function lc(e){var t="";return Ls(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function cc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):vl(e,t,n))}function hc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function fc(e){this.Ga=0,this.j=[],this.l=new xu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hc("baseRetryDelayMs",5e3,e),this.hb=hc("retryDelaySeedMs",1e4,e),this.eb=hc("forwardChannelMaxRetries",2,e),this.xa=hc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Al(e&&e.concurrentRequestLimit),this.Ja=new Bl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function dc(e){if(vc(e),3==e.H){var t=e.W++,n=hl(e.I);if(vl(n,"SID",e.K),vl(n,"RID",t),vl(n,"TYPE","terminate"),gc(e,n),(t=new Ku(e,e.l,t)).L=2,t.v=ml(hl(n)),n=!1,$o.navigator&&$o.navigator.sendBeacon)try{n=$o.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&$o.Image&&((new Image).src=t.v,n=!0),n||(t.g=Pc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),nl(t)}Ic(e)}function pc(e){e.g&&(wc(e),e.g.cancel(),e.g=null)}function vc(e){pc(e),e.u&&($o.clearTimeout(e.u),e.u=null),Sc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&$o.clearTimeout(e.m),e.m=null)}function mc(e){if(!Dl(e.i)&&!e.m){e.m=!0;var t=e.Na;hu||pu(),fu||(hu(),fu=!0),du.add(t,e),e.C=0}}function yc(e,t){var n;n=t?t.m:e.W++;var r=hl(e.I);vl(r,"SID",e.K),vl(r,"RID",n),vl(r,"AID",e.V),gc(e,r),e.o&&e.s&&cc(r,e.o,e.s),n=new Ku(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=kc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Fl(e.i,n),Xu(n,r,t)}function gc(e,t){e.na&&Ls(e.na,(function(e,n){vl(t,n,e)})),e.h&&ul({},(function(e,n){vl(t,n,e)}))}function kc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ns(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].g,c=i[u].map;if(0>(l-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Hl(c,o,"req"+l+"_")}catch(h){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function _c(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;hu||pu(),fu||(hu(),fu=!0),du.add(t,e),e.A=0}}function bc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Lu(ns(e.Ma,e),Tc(e,e.A)),e.A++,!0)}function wc(e){null!=e.B&&($o.clearTimeout(e.B),e.B=null)}function Ec(e){e.g=new Ku(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=hl(e.wa);vl(t,"RID","rpc"),vl(t,"SID",e.K),vl(t,"AID",e.V),vl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&vl(t,"TO",e.qa),vl(t,"TYPE","xmlhttp"),gc(e,t),e.o&&e.s&&cc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ml(hl(t)),n.s=null,n.S=!0,Ju(n,e)}function Sc(e){null!=e.v&&($o.clearTimeout(e.v),e.v=null)}function xc(e,t){var n=null;if(e.g==t){Sc(e),wc(e),e.g=null;var r=2}else{if(!Ml(e.i,t))return;n=t.F,Ul(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;tu(r=Nu(),new Du(r,n)),mc(e)}else _c(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ll(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Lu(ns(e.Na,e,t),Tc(e,e.C)),e.C++,!0))}(e,t)||2==r&&bc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Cc(e,5);break;case 4:Cc(e,10);break;case 3:Cc(e,6);break;default:Cc(e,2)}}function Tc(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Cc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ns(e.pb,e);n||(n=new cl("//www.google.com/images/cleardot.gif"),$o.location&&"http"==$o.location.protocol||fl(n,"https"),ml(n)),function(e,t){var n=new xu;if($o.Image){var r=new Image;r.onload=rs(ql,n,r,"TestLoadImage: loaded",!0,t),r.onerror=rs(ql,n,r,"TestLoadImage: error",!1,t),r.onabort=rs(ql,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=rs(ql,n,r,"TestLoadImage: timeout",!1,t),$o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ou(2);e.H=0,e.h&&e.h.za(t),Ic(e),vc(e)}function Ic(e){if(e.H=0,e.ma=[],e.h){var t=jl(e.i);0==t.length&&0==e.j.length||(us(e.ma,t),us(e.ma,e.j),e.i.i.length=0,ss(e.j),e.j.length=0),e.h.ya()}}function Nc(e,t,n){var r=n instanceof cl?hl(n):new cl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),dl(r,r.m);else{var i=$o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new cl(null);r&&fl(a,r),t&&(a.g=t),i&&dl(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&vl(r,n,t),vl(r,"VER",e.ra),gc(e,r),r}function Pc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Jl(new Wl({ob:!0})):new Jl(e.va)).Oa(e.J),t}function Rc(){}function Ac(){if(gs&&!(10<=Number(Is)))throw Error("Environmental error: no available transport.")}function Oc(e,t){eu.call(this),this.g=new fc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!hs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!hs(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Mc(this)}function Dc(e){Hu.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Lc(){qu.call(this),this.status=1}function Mc(e){this.g=e}function Fc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Uc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function jc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Wo=Jl.prototype).Oa=function(e){this.M=e},Wo.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zu.g(),this.C=this.u?ju(this.u):ju(zu),this.g.onreadystatechange=ns(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void nc(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Q(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=$o.FormData&&e instanceof $o.FormData,!(0<=os(tc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=Q(n);try{for(c.s();!(u=c.n()).done;){var h=l(u.value,2),f=h[0],d=h[1];this.g.setRequestHeader(f,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oc(this),0<this.B&&((this.L=function(e){return gs&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ns(this.ua,this)):this.A=gu(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){nc(this,s)}},Wo.ua=function(){"undefined"!=typeof Qo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tu(this,"timeout"),this.abort(8))},Wo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tu(this,"complete"),tu(this,"abort"),ac(this))},Wo.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ac(this,!0)),Jl.$.N.call(this)},Wo.La=function(){this.s||(this.G||this.v||this.l?ic(this):this.kb())},Wo.kb=function(){ic(this)},Wo.isActive=function(){return!!this.g},Wo.da=function(){try{return 2<sc(this)?this.g.status:-1}catch(Vl){return-1}},Wo.ja=function(){try{return this.g?this.g.responseText:""}catch(Vl){return""}},Wo.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Xl(t)}},Wo.Ia=function(){return this.m},Wo.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Wo=fc.prototype).ra=8,Wo.H=1,Wo.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Ku(this,this.l,e),n=this.s;if(this.U&&(n?Us(n=Ms(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=kc(this,t,r),vl(i=hl(this.I),"RID",e),vl(i,"CVER",22),this.F&&vl(i,"X-HTTP-Session-Id",this.F),gc(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(lc(n)))+"&"+r:this.o&&cc(i,this.o,n)),Fl(this.i,t),this.bb&&vl(i,"TYPE","init"),this.P?(vl(i,"$req",r),vl(i,"SID","null"),t.aa=!0,Xu(t,i,null)):Xu(t,i,r),this.H=2}}else 3==this.H&&(e?yc(this,e):0==this.j.length||Dl(this.i)||yc(this))},Wo.Ma=function(){if(this.u=null,Ec(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Lu(ns(this.jb,this),e)}},Wo.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ou(10),pc(this),Ec(this))},Wo.ib=function(){null!=this.v&&(this.v=null,pc(this),bc(this),Ou(19))},Wo.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ou(2)):(this.l.info("Failed to ping google.com"),Ou(1))},Wo.isActive=function(){return!!this.h&&this.h.isActive(this)},(Wo=Rc.prototype).Ba=function(){},Wo.Aa=function(){},Wo.za=function(){},Wo.ya=function(){},Wo.isActive=function(){return!0},Wo.Va=function(){},Ac.prototype.g=function(e,t){return new Oc(e,t)},is(Oc,eu),Oc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ou(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Nc(e,null,e.Y),mc(e)},Oc.prototype.close=function(){dc(this.g)},Oc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ru(e),e=n);t.j.push(new Rl(t.fb++,e)),3==t.H&&mc(t)},Oc.prototype.N=function(){this.g.h=null,delete this.j,dc(this.g),delete this.g,Oc.$.N.call(this)},is(Dc,Hu),is(Lc,qu),is(Mc,Rc),Mc.prototype.Ba=function(){tu(this.g,"a")},Mc.prototype.Aa=function(e){tu(this.g,new Dc(e))},Mc.prototype.za=function(e){tu(this.g,new Lc)},Mc.prototype.ya=function(){tu(this.g,"b")},is(Fc,(function(){this.blockSize=-1})),Fc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Uc(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Uc(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Uc(this,r),i=0;break}}this.h=i,this.i+=t},Fc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Vc={};function zc(e){return-128<=e&&128>e?function(e,t){var n=Vc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new jc([0|e],0>e?-1:0)})):new jc([0|e],0>e?-1:0)}function Bc(e){if(isNaN(e)||!isFinite(e))return qc;if(0>e)return $c(Bc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Hc;return new jc(t,0)}var Hc=4294967296,qc=zc(0),Wc=zc(1),Kc=zc(16777216);function Gc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Qc(e){return-1==e.h}function $c(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new jc(n,~e.h).add(Wc)}function Yc(e,t){return e.add($c(t))}function Xc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Jc(e,t){this.g=e,this.h=t}function Zc(e,t){if(Gc(t))throw Error("division by zero");if(Gc(e))return new Jc(qc,qc);if(Qc(e))return t=Zc($c(e),t),new Jc($c(t.g),$c(t.h));if(Qc(t))return t=Zc(e,$c(t)),new Jc($c(t.g),t.h);if(30<e.g.length){if(Qc(e)||Qc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Wc,r=t;0>=r.X(e);)n=eh(n),r=eh(r);var i=th(n,1),a=th(r,1);for(r=th(r,2),n=th(n,2);!Gc(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=th(r,1),n=th(n,1)}return t=Yc(e,i.R(t)),new Jc(i,t)}for(i=qc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Bc(n)).R(t);Qc(o)||0<o.X(e);)o=(a=Bc(n-=r)).R(t);Gc(a)&&(a=Wc),i=i.add(a),e=Yc(e,o)}return new Jc(i,e)}function eh(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new jc(n,e.h)}function th(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new jc(i,e.h)}(Wo=jc.prototype).ea=function(){if(Qc(this))return-$c(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Hc+r)*t,t*=Hc}return e},Wo.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Gc(this))return"0";if(Qc(this))return"-"+$c(this).toString(e);for(var t=Bc(Math.pow(e,6)),n=this,r="";;){var i=Zc(n,t).g,a=((0<(n=Yc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Gc(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Wo.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Wo.X=function(e){return Qc(e=Yc(this,e))?-1:Gc(e)?0:1},Wo.abs=function(){return Qc(this)?$c(this):this},Wo.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new jc(n,-2147483648&n[n.length-1]?-1:0)},Wo.R=function(e){if(Gc(this)||Gc(e))return qc;if(Qc(this))return Qc(e)?$c(this).R($c(e)):$c($c(this).R(e));if(Qc(e))return $c(this.R($c(e)));if(0>this.X(Kc)&&0>e.X(Kc))return Bc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Xc(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Xc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Xc(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Xc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new jc(n,0)},Wo.gb=function(e){return Zc(this,e).h},Wo.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new jc(n,this.h&e.h)},Wo.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new jc(n,this.h|e.h)},Wo.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new jc(n,this.h^e.h)},Ac.prototype.createWebChannel=Ac.prototype.g,Oc.prototype.send=Oc.prototype.u,Oc.prototype.open=Oc.prototype.m,Oc.prototype.close=Oc.prototype.close,Mu.NO_ERROR=0,Mu.TIMEOUT=8,Mu.HTTP_ERROR=6,Fu.COMPLETE="complete",Vu.EventType=Bu,Bu.OPEN="a",Bu.CLOSE="b",Bu.ERROR="c",Bu.MESSAGE="d",eu.prototype.listen=eu.prototype.O,Jl.prototype.listenOnce=Jl.prototype.P,Jl.prototype.getLastError=Jl.prototype.Sa,Jl.prototype.getLastErrorCode=Jl.prototype.Ia,Jl.prototype.getStatus=Jl.prototype.da,Jl.prototype.getResponseJson=Jl.prototype.Wa,Jl.prototype.getResponseText=Jl.prototype.ja,Jl.prototype.send=Jl.prototype.ha,Jl.prototype.setWithCredentials=Jl.prototype.Oa,Fc.prototype.digest=Fc.prototype.l,Fc.prototype.reset=Fc.prototype.reset,Fc.prototype.update=Fc.prototype.j,jc.prototype.add=jc.prototype.add,jc.prototype.multiply=jc.prototype.R,jc.prototype.modulo=jc.prototype.gb,jc.prototype.compare=jc.prototype.X,jc.prototype.toNumber=jc.prototype.ea,jc.prototype.toString=jc.prototype.toString,jc.prototype.getBits=jc.prototype.D,jc.fromNumber=Bc,jc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return $c(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Bc(Math.pow(n,8)),i=qc,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Bc(Math.pow(n,o)),i=i.R(o).add(Bc(s))):i=(i=i.R(r)).add(Bc(s))}return i};var nh=Go.createWebChannelTransport=function(){return new Ac},rh=Go.getStatEventTarget=function(){return Nu()},ih=Go.ErrorCode=Mu,ah=Go.EventType=Fu,oh=Go.Event=Cu,sh=Go.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uh=(Go.FetchXmlHttpFactory=Wl,Go.WebChannel=Vu),lh=Go.XhrIo=Jl,ch=(Go.Md5=Fc,Go.Integer=jc),hh="@firebase/firestore",fh=function(){function e(t){J(this,e),this.uid=t}return ee(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();fh.UNAUTHENTICATED=new fh(null),fh.GOOGLE_CREDENTIALS=new fh("google-credentials-uid"),fh.FIRST_PARTY=new fh("first-party-uid"),fh.MOCK_USER=new fh("mock-user");var dh="10.4.0",ph=new yt("@firebase/firestore");function vh(){return ph.logLevel}function mh(e){if(ph.logLevel<=ct.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(kh);ph.debug.apply(ph,["Firestore (".concat(dh,"): ").concat(e)].concat(G(i)))}}function yh(e){if(ph.logLevel<=ct.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(kh);ph.error.apply(ph,["Firestore (".concat(dh,"): ").concat(e)].concat(G(i)))}}function gh(e){if(ph.logLevel<=ct.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(kh);ph.warn.apply(ph,["Firestore (".concat(dh,"): ").concat(e)].concat(G(i)))}}function kh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function _h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(dh,") INTERNAL ASSERTION FAILED: ")+e;throw yh(t),new Error(t)}function bh(e,t){e||_h()}function wh(e,t){return e}var Eh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Sh=function(e){re(n,e);var t=se(n);function n(e,r){var i;return J(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ee(n)}(Fe),xh=ee((function e(){var t=this;J(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Th=ee((function e(t,n){J(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ch=function(){function e(){J(this,e)}return ee(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(fh.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ih=function(){function e(t){J(this,e),this.token=t,this.changeListener=null}return ee(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Nh=function(){function e(t){J(this,e),this.t=t,this.currentUser=fh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ee(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new xh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new xh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){mh("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(mh("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(mh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(bh("string"==typeof n.accessToken),new Th(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return bh(null===e||"string"==typeof e),new fh(e)}}]),e}(),Ph=function(){function e(t,n,r){J(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=fh.FIRST_PARTY,this.I=new Map}return ee(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Rh=function(){function e(t,n,r){J(this,e),this.l=t,this.h=n,this.P=r}return ee(e,[{key:"getToken",value:function(){return Promise.resolve(new Ph(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(fh.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ah=ee((function e(t){J(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Oh=function(){function e(t){J(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return ee(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&mh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,mh("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){mh("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):mh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(bh("string"==typeof t.token),e.R=t.token,new Ah(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Dh(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Lh=function(){function e(){J(this,e)}return ee(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Dh(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Mh(e,t){return e<t?-1:e>t?1:0}function Fh(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Uh=function(){function e(t,n){if(J(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Sh(Eh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Sh(Eh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Sh(Eh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Sh(Eh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ee(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Mh(this.nanoseconds,e.nanoseconds):Mh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),jh=function(){function e(t){J(this,e),this.timestamp=t}return ee(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Uh(0,0))}},{key:"max",value:function(){return new e(new Uh(253402300799,999999999))}}]),e}(),Vh=function(){function e(t,n,r){J(this,e),void 0===n?n=0:n>t.length&&_h(),void 0===r?r=t.length-n:r>t.length-n&&_h(),this.segments=t,this.offset=n,this.len=r}return ee(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),zh=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.apply(this,arguments)}return ee(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Sh(Eh.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,G(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Vh),Bh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hh=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.apply(this,arguments)}return ee(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Bh.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Sh(Eh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Sh(Eh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Sh(Eh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Sh(Eh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Vh),qh=function(){function e(t){J(this,e),this.path=t}return ee(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===zh.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(zh.fromString(t))}},{key:"fromName",value:function(t){return new e(zh.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(zh.emptyPath())}},{key:"comparator",value:function(e,t){return zh.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new zh(t.slice()))}}]),e}(),Wh=ee((function e(t,n,r,i){J(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Wh.UNKNOWN_ID=-1;function Kh(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=jh.fromTimestamp(1e9===r?new Uh(n+1,0):new Uh(n,r));return new Qh(i,qh.empty(),t)}function Gh(e){return new Qh(e.readTime,e.key,-1)}var Qh=function(){function e(t,n,r){J(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ee(e,null,[{key:"min",value:function(){return new e(jh.min(),qh.empty(),-1)}},{key:"max",value:function(){return new e(jh.max(),qh.empty(),-1)}}]),e}();function $h(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=qh.comparator(e.documentKey,t.documentKey))?n:Mh(e.largestBatchId,t.largestBatchId)}var Yh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xh=function(){function e(){J(this,e),this.onCommittedListeners=[]}return ee(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Jh(e){return Zh.apply(this,arguments)}function Zh(){return(Zh=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Eh.FAILED_PRECONDITION&&t.message===Yh){e.next=2;break}throw t;case 2:mh("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ef=function(){function e(t){var n=this;J(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ee(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&_h(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Q(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function tf(e){return"IndexedDbTransactionError"===e.name}var nf=function(){function e(t,n){var r=this;J(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return ee(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function rf(e){return null==e}function af(e){return 0===e&&1/e==-1/0}function of(e){return"number"==typeof e&&Number.isInteger(e)&&!af(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}nf.ae=-1;var sf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),uf=([].concat(G(sf),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),lf=uf;[].concat(lf,["indexConfiguration","indexState","indexEntries"]);function cf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ff(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var df=function(){function e(t,n){J(this,e),this.comparator=t,this.root=n||vf.EMPTY}return ee(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,vf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new pf(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new pf(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new pf(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new pf(this.root,e,this.comparator,!0)}}]),e}(),pf=function(){function e(t,n,r,i){J(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ee(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),vf=function(){function e(t,n,r,i,a){J(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ee(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw _h();if(this.right.isRed())throw _h();var e=this.left.check();if(e!==this.right.check())throw _h();return e+(this.isRed()?0:1)}}]),e}();vf.EMPTY=null,vf.RED=!0,vf.BLACK=!1,vf.EMPTY=new(function(){function e(){J(this,e),this.size=0}return ee(e,[{key:"key",get:function(){throw _h()}},{key:"value",get:function(){throw _h()}},{key:"color",get:function(){throw _h()}},{key:"left",get:function(){throw _h()}},{key:"right",get:function(){throw _h()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new vf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var mf=function(){function e(t){J(this,e),this.comparator=t,this.data=new df(this.comparator)}return ee(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new yf(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new yf(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),yf=function(){function e(t){J(this,e),this.iter=t}return ee(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var gf=function(){function e(t){J(this,e),this.fields=t,t.sort(Hh.comparator)}return ee(e,[{key:"unionWith",value:function(t){var n,r=new mf(Hh.comparator),i=Q(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=Q(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Q(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Fh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),kf=function(e){re(n,e);var t=se(n);function n(){var e;return J(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return ee(n)}(le(Error));var _f=function(e){function t(e){J(this,t),this.binaryString=e}return ee(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Mh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new kf("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();_f.EMPTY_BYTE_STRING=new _f("");var bf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wf(e){if(bh(!!e),"string"==typeof e){var t=0,n=bf.exec(e);if(bh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ef(e.seconds),nanos:Ef(e.nanos)}}function Ef(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sf(e){return"string"==typeof e?_f.fromBase64String(e):_f.fromUint8Array(e)}function xf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tf(e){var t=e.mapValue.fields.__previous_value__;return xf(t)?Tf(t):t}function Cf(e){var t=wf(e.mapValue.fields.__local_write_time__.timestampValue);return new Uh(t.seconds,t.nanos)}var If=ee((function e(t,n,r,i,a,o,s,u,l){J(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l})),Nf=function(){function e(t,n){J(this,e),this.projectId=t,this.database=n||"(default)"}return ee(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Pf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xf(e)?4:Bf(e)?9007199254740991:10:_h()}function Af(e,t){if(e===t)return!0;var n=Rf(e);if(n!==Rf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cf(e).isEqual(Cf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=wf(e.timestampValue),r=wf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sf(e.bytesValue).isEqual(Sf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ef(e.geoPointValue.latitude)===Ef(t.geoPointValue.latitude)&&Ef(e.geoPointValue.longitude)===Ef(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ef(e.integerValue)===Ef(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ef(e.doubleValue),r=Ef(t.doubleValue);return n===r?af(n)===af(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fh(e.arrayValue.values||[],t.arrayValue.values||[],Af);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cf(n)!==cf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Af(n[i],r[i])))return!1;return!0}(e,t);default:return _h()}}function Of(e,t){return void 0!==(e.values||[]).find((function(e){return Af(e,t)}))}function Df(e,t){if(e===t)return 0;var n=Rf(e),r=Rf(t);if(n!==r)return Mh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ef(e.integerValue||e.doubleValue),r=Ef(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Lf(e.timestampValue,t.timestampValue);case 4:return Lf(Cf(e),Cf(t));case 5:return Mh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Sf(e),r=Sf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Mh(n[i],r[i]);if(0!==a)return a}return Mh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Mh(Ef(e.latitude),Ef(t.latitude));return 0!==n?n:Mh(Ef(e.longitude),Ef(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Df(n[i],r[i]);if(a)return a}return Mh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Pf.mapValue&&t===Pf.mapValue)return 0;if(e===Pf.mapValue)return 1;if(t===Pf.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Mh(r[o],a[o]);if(0!==s)return s;var u=Df(n[r[o]],i[a[o]]);if(0!==u)return u}return Mh(r.length,a.length)}(e.mapValue,t.mapValue);default:throw _h()}}function Lf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mh(e,t);var n=wf(e),r=wf(t),i=Mh(n.seconds,r.seconds);return 0!==i?i:Mh(n.nanos,r.nanos)}function Mf(e){return Ff(e)}function Ff(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=wf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Sf(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return qh.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Q(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ff(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Q(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ff(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):_h()}function Uf(e){return!!e&&"integerValue"in e}function jf(e){return!!e&&"arrayValue"in e}function Vf(e){return!!e&&"mapValue"in e}function zf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return hf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=zf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=zf(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Bf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Hf=function(){function e(t){J(this,e),this.value=t}return ee(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Vf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zf(t)}},{key:"setAll",value:function(e){var t=this,n=Hh.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=zf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Vf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Af(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Vf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){hf(t,(function(t,n){return e[t]=n}));var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(zf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function qf(e){var t=[];return hf(e.fields,(function(e,n){var r=new Hh([e]);if(Vf(n)){var i=qf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Q(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new gf(t)}var Wf=function(){function e(t,n,r,i,a,o,s){J(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return ee(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(jh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Hf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Hf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=jh.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,jh.min(),jh.min(),jh.min(),Hf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,jh.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,jh.min(),jh.min(),Hf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,jh.min(),jh.min(),Hf.empty(),2)}}]),e}(),Kf=ee((function e(t,n){J(this,e),this.position=t,this.inclusive=n}));function Gf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?qh.comparator(qh.fromName(o.referenceValue),n.key):Df(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Qf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Af(e.position[n],t.position[n]))return!1;return!0}var $f=ee((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";J(this,e),this.field=t,this.dir=n}));function Yf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Xf=ee((function e(){J(this,e)})),Jf=function(e){re(n,e);var t=se(n);function n(e,r,i){var a;return J(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ee(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Df(t,this.value)):null!==t&&Rf(this.value)===Rf(t)&&this.matchesComparison(Df(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _h()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new od(e,t,r):"array-contains"===t?new cd(e,r):"in"===t?new hd(e,r):"not-in"===t?new fd(e,r):"array-contains-any"===t?new dd(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new sd(e,n):new ud(e,n)}}]),n}(Xf),Zf=function(e){re(n,e);var t=se(n);function n(e,r){var i;return J(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return ee(n,[{key:"matches",value:function(e){return ed(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=Q(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Xf);function ed(e){return"and"===e.op}function td(e){return nd(e)&&ed(e)}function nd(e){var t,n=Q(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Zf)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function rd(e){if(e instanceof Jf)return e.field.canonicalString()+e.op.toString()+Mf(e.value);if(td(e))return e.filters.map((function(e){return rd(e)})).join(",");var t=e.filters.map((function(e){return rd(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function id(e,t){return e instanceof Jf?function(e,t){return t instanceof Jf&&e.op===t.op&&e.field.isEqual(t.field)&&Af(e.value,t.value)}(e,t):e instanceof Zf?function(e,t){return t instanceof Zf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&id(n,t.filters[r])}),!0)}(e,t):void _h()}function ad(e){return e instanceof Jf?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Mf(e.value))}(e):e instanceof Zf?function(e){return e.op.toString()+" {"+e.getFilters().map(ad).join(" ,")+"}"}(e):"Filter"}var od=function(e){re(n,e);var t=se(n);function n(e,r,i){var a;return J(this,n),(a=t.call(this,e,r,i)).key=qh.fromName(i.referenceValue),a}return ee(n,[{key:"matches",value:function(e){var t=qh.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Jf),sd=function(e){re(n,e);var t=se(n);function n(e,r){var i;return J(this,n),(i=t.call(this,e,"in",r)).keys=ld("in",r),i}return ee(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Jf),ud=function(e){re(n,e);var t=se(n);function n(e,r){var i;return J(this,n),(i=t.call(this,e,"not-in",r)).keys=ld("not-in",r),i}return ee(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Jf);function ld(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return qh.fromName(e.referenceValue)}))}var cd=function(e){re(n,e);var t=se(n);function n(e,r){return J(this,n),t.call(this,e,"array-contains",r)}return ee(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return jf(t)&&Of(t.arrayValue,this.value)}}]),n}(Jf),hd=function(e){re(n,e);var t=se(n);function n(e,r){return J(this,n),t.call(this,e,"in",r)}return ee(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Of(this.value.arrayValue,t)}}]),n}(Jf),fd=function(e){re(n,e);var t=se(n);function n(e,r){return J(this,n),t.call(this,e,"not-in",r)}return ee(n,[{key:"matches",value:function(e){if(Of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Of(this.value.arrayValue,t)}}]),n}(Jf),dd=function(e){re(n,e);var t=se(n);function n(e,r){return J(this,n),t.call(this,e,"array-contains-any",r)}return ee(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!jf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Of(t.value.arrayValue,e)}))}}]),n}(Jf),pd=ee((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;J(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.he=null}));function vd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new pd(e,t,n,r,i,a,o)}function md(e){var t=wh(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return rd(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),rf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Mf(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Mf(e)})).join(",")),t.he=n}return t.he}function yd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Yf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!id(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qf(e.startAt,t.startAt)&&Qf(e.endAt,t.endAt)}var gd=ee((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;J(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}));function kd(e,t,n,r,i,a,o,s){return new gd(e,t,n,r,i,a,o,s)}function _d(e){return new gd(e)}function bd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ed(e){var t,n=Q(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Sd(e){return null!==e.collectionGroup}function xd(e){var t=wh(e);if(null===t.Pe){t.Pe=[];var n=Ed(t),r=wd(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new $f(n)),t.Pe.push(new $f(Hh.keyField(),"asc"));else{var i,a=!1,o=Q(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.Pe.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new $f(Hh.keyField(),u))}}}return t.Pe}function Td(e){var t=wh(e);return t.Ie||(t.Ie=Cd(t,xd(e))),t.Ie}function Cd(e,t){if("F"===e.limitType)return vd(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new $f(e.field,t)}));var n=e.endAt?new Kf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Kf(e.startAt.position,e.startAt.inclusive):null;return vd(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Id(e,t,n){return new gd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nd(e,t){return yd(Td(e),Td(t))&&e.limitType===t.limitType}function Pd(e){return"".concat(md(Td(e)),"|lt:").concat(e.limitType)}function Rd(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return ad(e)})).join(", "),"]")),rf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Mf(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Mf(e)})).join(",")),"Target(".concat(t,")")}(Td(e)),"; limitType=").concat(e.limitType,")")}function Ad(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):qh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Q(xd(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Q(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Gf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xd(e),t))&&!(e.endAt&&!function(e,t,n){var r=Gf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xd(e),t))}(e,t)}function Od(e){return function(t,n){var r,i=!1,a=Q(xd(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Dd(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Dd(e,t,n){var r=e.field.isKeyField()?qh.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Df(r,i):_h()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _h()}}var Ld=function(){function e(t,n){J(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ee(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){hf(this.inner,(function(t,n){var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ff(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Md=new df(qh.comparator);function Fd(){return Md}var Ud=new df(qh.comparator);function jd(){for(var e=Ud,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Vd(e){var t=Ud;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function zd(){return Hd()}function Bd(){return Hd()}function Hd(){return new Ld((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var qd=new df(qh.comparator),Wd=new mf(qh.comparator);function Kd(){for(var e=Wd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Gd=new mf(Mh);function Qd(){return Gd}function $d(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(t)?"-0":t}}function Yd(e){return{integerValue:""+e}}function Xd(e,t){return of(t)?Yd(t):$d(e,t)}var Jd=ee((function e(){J(this,e),this._=void 0}));function Zd(e,t,n){return e instanceof np?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&xf(t)&&(t=Tf(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof rp?ip(e,t):e instanceof ap?op(e,t):function(e,t){var n=tp(e,t),r=up(n)+up(e.Te);return Uf(n)&&Uf(e.Te)?Yd(r):$d(e.serializer,r)}(e,t)}function ep(e,t,n){return e instanceof rp?ip(e,t):e instanceof ap?op(e,t):n}function tp(e,t){return e instanceof sp?function(e){return Uf(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var np=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.apply(this,arguments)}return ee(n)}(Jd),rp=function(e){re(n,e);var t=se(n);function n(e){var r;return J(this,n),(r=t.call(this)).elements=e,r}return ee(n)}(Jd);function ip(e,t){var n,r=lp(t),i=Q(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Af(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ap=function(e){re(n,e);var t=se(n);function n(e){var r;return J(this,n),(r=t.call(this)).elements=e,r}return ee(n)}(Jd);function op(e,t){var n,r=lp(t),i=Q(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Af(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var sp=function(e){re(n,e);var t=se(n);function n(e,r){var i;return J(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return ee(n)}(Jd);function up(e){return Ef(e.integerValue||e.doubleValue)}function lp(e){return jf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var cp=ee((function e(t,n){J(this,e),this.field=t,this.transform=n}));var hp=ee((function e(t,n){J(this,e),this.version=t,this.transformResults=n})),fp=function(){function e(t,n){J(this,e),this.updateTime=t,this.exists=n}return ee(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function dp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var pp=ee((function e(){J(this,e)}));function vp(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Cp(e.key,fp.none()):new _p(e.key,e.data,fp.none());var n,r=e.data,i=Hf.empty(),a=new mf(Hh.comparator),o=Q(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new bp(e.key,i,new gf(a.toArray()),fp.none())}function mp(e,t,n){e instanceof _p?function(e,t,n){var r=e.value.clone(),i=Ep(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bp?function(e,t,n){if(dp(e.precondition,t)){var r=Ep(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yp(e,t,n,r){return e instanceof _p?function(e,t,n,r){if(!dp(e.precondition,t))return n;var i=e.value.clone(),a=Sp(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof bp?function(e,t,n,r){if(!dp(e.precondition,t))return n;var i=Sp(e.fieldTransforms,r,t),a=t.data;return a.setAll(wp(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return dp(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function gp(e,t){var n,r=null,i=Q(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=tp(a.transform,o||null);null!=s&&(null===r&&(r=Hf.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function kp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rp&&t instanceof rp||e instanceof ap&&t instanceof ap?Fh(e.elements,t.elements,Af):e instanceof sp&&t instanceof sp?Af(e.Te,t.Te):e instanceof np&&t instanceof np}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var _p=function(e){re(n,e);var t=se(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return J(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ee(n,[{key:"getFieldMask",value:function(){return null}}]),n}(pp),bp=function(e){re(n,e);var t=se(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return J(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return ee(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(pp);function wp(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ep(e,t,n){var r=new Map;bh(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,ep(o,s,n[i]))}return r}function Sp(e,t,n){var r,i=new Map,a=Q(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Zd(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var xp,Tp,Cp=function(e){re(n,e);var t=se(n);function n(e,r){var i;return J(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ee(n,[{key:"getFieldMask",value:function(){return null}}]),n}(pp),Ip=function(e){re(n,e);var t=se(n);function n(e,r){var i;return J(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ee(n,[{key:"getFieldMask",value:function(){return null}}]),n}(pp),Np=function(){function e(t,n,r,i){J(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ee(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&mp(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Q(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=yp(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Q(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=yp(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Bd();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=vp(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(jh.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Kd())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Fh(this.mutations,e.mutations,(function(e,t){return kp(e,t)}))&&Fh(this.baseMutations,e.baseMutations,(function(e,t){return kp(e,t)}))}}]),e}(),Pp=function(){function e(t,n,r,i){J(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ee(e,null,[{key:"from",value:function(t,n,r){bh(t.mutations.length===r.length);for(var i=qd,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Rp=function(){function e(t,n){J(this,e),this.largestBatchId=t,this.mutation=n}return ee(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}();function Ap(e){switch(e){default:return _h();case Eh.CANCELLED:case Eh.UNKNOWN:case Eh.DEADLINE_EXCEEDED:case Eh.RESOURCE_EXHAUSTED:case Eh.INTERNAL:case Eh.UNAVAILABLE:case Eh.UNAUTHENTICATED:return!1;case Eh.INVALID_ARGUMENT:case Eh.NOT_FOUND:case Eh.ALREADY_EXISTS:case Eh.PERMISSION_DENIED:case Eh.FAILED_PRECONDITION:case Eh.ABORTED:case Eh.OUT_OF_RANGE:case Eh.UNIMPLEMENTED:case Eh.DATA_LOSS:return!0}}function Op(e){if(void 0===e)return yh("GRPC error has no .code"),Eh.UNKNOWN;switch(e){case xp.OK:return Eh.OK;case xp.CANCELLED:return Eh.CANCELLED;case xp.UNKNOWN:return Eh.UNKNOWN;case xp.DEADLINE_EXCEEDED:return Eh.DEADLINE_EXCEEDED;case xp.RESOURCE_EXHAUSTED:return Eh.RESOURCE_EXHAUSTED;case xp.INTERNAL:return Eh.INTERNAL;case xp.UNAVAILABLE:return Eh.UNAVAILABLE;case xp.UNAUTHENTICATED:return Eh.UNAUTHENTICATED;case xp.INVALID_ARGUMENT:return Eh.INVALID_ARGUMENT;case xp.NOT_FOUND:return Eh.NOT_FOUND;case xp.ALREADY_EXISTS:return Eh.ALREADY_EXISTS;case xp.PERMISSION_DENIED:return Eh.PERMISSION_DENIED;case xp.FAILED_PRECONDITION:return Eh.FAILED_PRECONDITION;case xp.ABORTED:return Eh.ABORTED;case xp.OUT_OF_RANGE:return Eh.OUT_OF_RANGE;case xp.UNIMPLEMENTED:return Eh.UNIMPLEMENTED;case xp.DATA_LOSS:return Eh.DATA_LOSS;default:return _h()}}(Tp=xp||(xp={}))[Tp.OK=0]="OK",Tp[Tp.CANCELLED=1]="CANCELLED",Tp[Tp.UNKNOWN=2]="UNKNOWN",Tp[Tp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tp[Tp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tp[Tp.NOT_FOUND=5]="NOT_FOUND",Tp[Tp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tp[Tp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tp[Tp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tp[Tp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tp[Tp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tp[Tp.ABORTED=10]="ABORTED",Tp[Tp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tp[Tp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tp[Tp.INTERNAL=13]="INTERNAL",Tp[Tp.UNAVAILABLE=14]="UNAVAILABLE",Tp[Tp.DATA_LOSS=15]="DATA_LOSS";new ch([4294967295,4294967295],0);Error;var Dp=ee((function e(t,n){J(this,e),this.databaseId=t,this.useProto3Json=n}));function Lp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Fp(e,t){return Lp(e,t.toTimestamp())}function Up(e){return bh(!!e),jh.fromTimestamp(function(e){var t=wf(e);return new Uh(t.seconds,t.nanos)}(e))}function jp(e,t){return function(e){return new zh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Vp(e){var t=zh.fromString(e);return bh(Xp(t)),t}function zp(e,t){return jp(e.databaseId,t.path)}function Bp(e){var t=Vp(e);return 4===t.length?zh.emptyPath():qp(t)}function Hp(e){return new zh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qp(e){return bh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Wp(e,t,n){return{name:zp(e,t),fields:n.value.mapValue.fields}}function Kp(e,t){var n;if(t instanceof _p)n={update:Wp(e,t.key,t.value)};else if(t instanceof Cp)n={delete:zp(e,t.key)};else if(t instanceof bp)n={update:Wp(e,t.key,t.data),updateMask:Yp(t.fieldMask)};else{if(!(t instanceof Ip))return _h();n={verify:zp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof np)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ap)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sp)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw _h()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_h()}(e,t.precondition)),n}function Gp(e){var t=Bp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){bh(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Qp(e);return t instanceof Zf&&td(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new $f($p(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return rf(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Kf(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Kf(n,t)}(n.endAt)),kd(t,i,s,o,u,"F",l,c)}function Qp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=$p(e.unaryFilter.field);return Jf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=$p(e.unaryFilter.field);return Jf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$p(e.unaryFilter.field);return Jf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$p(e.unaryFilter.field);return Jf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _h()}}(e):void 0!==e.fieldFilter?function(e){return Jf.create($p(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _h()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zf.create(e.compositeFilter.filters.map((function(e){return Qp(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return _h()}}(e.compositeFilter.op))}(e):_h()}function $p(e){return Hh.fromServerFormat(e.fieldPath)}function Yp(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Xp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Jp=ee((function e(t){J(this,e),this.ht=t}));function Zp(e){var t=Gp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Id(t,t.limit,"L"):t}var ev=function(){function e(){J(this,e)}return ee(e,[{key:"dt",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(Ef(e.integerValue));else if("doubleValue"in e){var n=Ef(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),af(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(Sf(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.At(t,45),t.Rt(i.latitude||0),t.Rt(i.longitude||0)}else"mapValue"in e?Bf(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):_h()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ft(a,t),this.Tt(n[a],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Tt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),qh.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();ev.Ct=new ev;var tv=function(){function e(){J(this,e),this.an=new nv}return ee(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.an.add(t),ef.resolve()}},{key:"getCollectionParents",value:function(e,t){return ef.resolve(this.an.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ef.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ef.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return ef.resolve()}},{key:"createTargetIndexes",value:function(e,t){return ef.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ef.resolve(null)}},{key:"getIndexType",value:function(e,t){return ef.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ef.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ef.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ef.resolve(Qh.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ef.resolve(Qh.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ef.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ef.resolve()}}]),e}(),nv=function(){function e(){J(this,e),this.index={}}return ee(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new mf(zh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new mf(zh.comparator)).toArray()}}]),e}();new Uint8Array(0);var rv=function(){function e(t,n,r){J(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ee(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();rv.DEFAULT_COLLECTION_PERCENTILE=10,rv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rv.DEFAULT=new rv(41943040,rv.DEFAULT_COLLECTION_PERCENTILE,rv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rv.DISABLED=new rv(-1,0,0);var iv=function(){function e(t){J(this,e),this.Nn=t}return ee(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"Bn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}]),e}();var av=function(){function e(){J(this,e),this.changes=new Ld((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ee(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Wf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ef.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var ov=ee((function e(t,n){J(this,e),this.overlayedDocument=t,this.mutatedFields=n})),sv=function(){function e(t,n,r,i){J(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return ee(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&yp(r.mutation,e,gf.empty(),Uh.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Kd()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kd(),i=zd();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=jd();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=zd();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Kd())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Fd(),a=Hd(),o=Hd();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof bp)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),yp(o.mutation,t,o.mutation.getFieldMask(),Uh.now())):a.set(t.key,gf.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new ov(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Hd(),i=new df((function(e,t){return e-t})),a=Kd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Q(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||gf.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Kd()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=Bd();l.forEach((function(e){if(!a.has(e)){var n=vp(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return ef.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return qh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ef.resolve(zd()),s=-1,u=a;return o.next((function(t){return ef.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?ef.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Kd())})).next((function(e){return{batchId:s,changes:Vd(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new qh(t)).next((function(e){var t=jd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=jd();return this.indexManager.getCollectionParents(e,a).next((function(s){return ef.forEach(s,(function(s){var u=function(e,t){return new gd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Wf.newInvalidDocument(r)))}));var n=jd();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&yp(a.mutation,r,gf.empty(),Uh.now()),Ad(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),uv=function(){function e(t){J(this,e),this.serializer=t,this.lr=new Map,this.hr=new Map}return ee(e,[{key:"getBundleMetadata",value:function(e,t){return ef.resolve(this.lr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Up(e.createTime)}}(t)),ef.resolve()}},{key:"getNamedQuery",value:function(e,t){return ef.resolve(this.hr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:Zp(e.bundledQuery),readTime:Up(e.readTime)}}(t)),ef.resolve()}}]),e}(),lv=function(){function e(){J(this,e),this.overlays=new df(qh.comparator),this.Pr=new Map}return ee(e,[{key:"getOverlay",value:function(e,t){return ef.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=zd();return ef.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.It(e,t,i)})),ef.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Pr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Pr.delete(n)),ef.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=zd(),i=t.length+1,a=new qh(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return ef.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new df((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=zd(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=zd(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return ef.resolve(u)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Rp(t,n));var a=this.Pr.get(t);void 0===a&&(a=Kd(),this.Pr.set(t,a)),this.Pr.set(t,a.add(n.key))}}]),e}(),cv=function(){function e(){J(this,e),this.Ir=new mf(hv.dr),this.Tr=new mf(hv.Er)}return ee(e,[{key:"isEmpty",value:function(){return this.Ir.isEmpty()}},{key:"addReference",value:function(e,t){var n=new hv(e,t);this.Ir=this.Ir.add(n),this.Tr=this.Tr.add(n)}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Rr(new hv(e,t))}},{key:"Vr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"mr",value:function(e){var t=this,n=new qh(new zh([])),r=new hv(n,e),i=new hv(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Rr(e),a.push(e.key)})),a}},{key:"gr",value:function(){var e=this;this.Ir.forEach((function(t){return e.Rr(t)}))}},{key:"Rr",value:function(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}},{key:"pr",value:function(e){var t=new qh(new zh([])),n=new hv(t,e),r=new hv(t,e+1),i=Kd();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new hv(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),hv=function(){function e(t,n){J(this,e),this.key=t,this.yr=n}return ee(e,null,[{key:"dr",value:function(e,t){return qh.comparator(e.key,t.key)||Mh(e.yr,t.yr)}},{key:"Er",value:function(e,t){return Mh(e.yr,t.yr)||qh.comparator(e.key,t.key)}}]),e}(),fv=function(){function e(t,n){J(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new mf(hv.dr)}return ee(e,[{key:"checkEmpty",value:function(e){return ef.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Np(i,t,n,r);this.mutationQueue.push(a);var o,s=Q(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Sr=this.Sr.add(new hv(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return ef.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ef.resolve(this.br(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Dr(n),i=r<0?0:r;return ef.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ef.resolve(0===this.mutationQueue.length?-1:this.wr-1)}},{key:"getAllMutationBatches",value:function(e){return ef.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new hv(t,0),i=new hv(t,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,i],(function(e){var t=n.br(e.yr);a.push(t)})),ef.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new mf(Mh);return t.forEach((function(e){var t=new hv(e,0),i=new hv(e,Number.POSITIVE_INFINITY);n.Sr.forEachInRange([t,i],(function(e){r=r.add(e.yr)}))})),ef.resolve(this.Cr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;qh.isDocumentKey(i)||(i=i.child(""));var a=new hv(new qh(i),0),o=new mf(Mh);return this.Sr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.yr)),!0)}),a),ef.resolve(this.Cr(o))}},{key:"Cr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.br(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;bh(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Sr;return ef.forEach(t.mutations,(function(i){var a=new hv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Sr=r}))}},{key:"xn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new hv(t,0),r=this.Sr.firstAfterOrEqual(n);return ef.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ef.resolve()}},{key:"vr",value:function(e,t){return this.Dr(e)}},{key:"Dr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"br",value:function(e){var t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),dv=function(){function e(t){J(this,e),this.Fr=t,this.docs=new df(qh.comparator),this.size=0}return ee(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ef.resolve(n?n.document.mutableCopy():Wf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Fd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Wf.newInvalidDocument(e))})),ef.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Fd(),a=t.path,o=new qh(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),l=u.key,c=u.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||$h(Gh(c),n)<=0||(r.has(c.key)||Ad(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return ef.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){_h()}},{key:"Mr",value:function(e,t){return ef.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new pv(this)}},{key:"getSize",value:function(e){return ef.resolve(this.size)}}]),e}(),pv=function(e){re(n,e);var t=se(n);function n(e){var r;return J(this,n),(r=t.call(this)).ur=e,r}return ee(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ur.addEntry(e,i)):t.ur.removeEntry(r)})),ef.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ur.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ur.getEntries(e,t)}}]),n}(av),vv=function(){function e(t){J(this,e),this.persistence=t,this.Or=new Ld((function(e){return md(e)}),yd),this.lastRemoteSnapshotVersion=jh.min(),this.highestTargetId=0,this.Nr=0,this.Br=new cv,this.targetCount=0,this.Lr=iv.Bn()}return ee(e,[{key:"forEachTarget",value:function(e,t){return this.Or.forEach((function(e,n){return t(n)})),ef.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ef.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ef.resolve(this.Nr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),ef.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),ef.resolve()}},{key:"Qn",value:function(e){this.Or.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new iv(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Qn(t),this.targetCount+=1,ef.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Qn(t),ef.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,ef.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Or.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Or.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),ef.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ef.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Or.get(t)||null;return ef.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Br.Ar(t,n),ef.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Br.Vr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ef.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Br.mr(t),ef.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Br.pr(t);return ef.resolve(n)}},{key:"containsKey",value:function(e,t){return ef.resolve(this.Br.containsKey(t))}}]),e}(),mv=function(){function e(t,n){var r=this;J(this,e),this.kr={},this.overlays={},this.qr=new nf(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new vv(this),this.indexManager=new tv,this.remoteDocumentCache=function(e){return new dv(e)}((function(e){return r.referenceDelegate.$r(e)})),this.serializer=new Jp(n),this.Ur=new uv(this.serializer)}return ee(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new lv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.kr[e.toKey()];return n||(n=new fv(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;mh("MemoryPersistence","Starting transaction:",e);var i=new yv(this.qr.next());return this.referenceDelegate.Wr(),n(i).next((function(e){return r.referenceDelegate.Gr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zr",value:function(e,t){return ef.or(Object.values(this.kr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),yv=function(e){re(n,e);var t=se(n);function n(e){var r;return J(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ee(n)}(Xh),gv=function(){function e(t){J(this,e),this.persistence=t,this.jr=new cv,this.Hr=null}return ee(e,[{key:"Yr",get:function(){if(this.Hr)return this.Hr;throw _h()}},{key:"addReference",value:function(e,t,n){return this.jr.addReference(n,t),this.Yr.delete(n.toString()),ef.resolve()}},{key:"removeReference",value:function(e,t,n){return this.jr.removeReference(n,t),this.Yr.add(n.toString()),ef.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Yr.add(t.toString()),ef.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.jr.mr(t.targetId).forEach((function(e){return n.Yr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Yr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Wr",value:function(){this.Hr=new Set}},{key:"Gr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ef.forEach(this.Yr,(function(r){var i=qh.fromPath(r);return t.Zr(e,i).next((function(e){e||n.removeEntry(i,jh.min())}))})).next((function(){return t.Hr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zr(e,t).next((function(e){e?n.Yr.delete(t.toString()):n.Yr.add(t.toString())}))}},{key:"$r",value:function(e){return 0}},{key:"Zr",value:function(e,t){var n=this;return ef.or([function(){return ef.resolve(n.jr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zr(e,t)}])}}],[{key:"Jr",value:function(t){return new e(t)}}]),e}();var kv=function(){function e(t,n,r,i){J(this,e),this.targetId=t,this.fromCache=n,this.Qi=r,this.Ki=i}return ee(e,null,[{key:"$i",value:function(t,n){var r,i=Kd(),a=Kd(),o=Q(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),_v=function(){function e(){J(this,e),this._documentReadCount=0}return ee(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),bv=function(){function e(){J(this,e),this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}return ee(e,[{key:"initialize",value:function(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.Hi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new _v;return i.Yi(e,t,n).next((function(r){if(a.result=r,i.Wi)return i.Zi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Zi",value:function(e,t,n,r){return n.documentReadCount<this.Gi?(vh()<=ct.DEBUG&&mh("QueryEngine","SDK will not create cache indexes for query:",Rd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),ef.resolve()):(vh()<=ct.DEBUG&&mh("QueryEngine","Query:",Rd(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.zi*r?(vh()<=ct.DEBUG&&mh("QueryEngine","The SDK decides to create cache indexes for query:",Rd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Td(t))):ef.resolve())}},{key:"Hi",value:function(e,t){var n=this;if(bd(t))return ef.resolve(null);var r=Td(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Id(t,null,"F"),r=Td(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Kd.apply(void 0,G(i));return n.ji.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Xi(t,i);return n.es(t,o,a,r.readTime)?n.Hi(e,Id(t,null,"F")):n.ts(e,o,t,r)}))}))})))}))}},{key:"Ji",value:function(e,t,n,r){var i=this;return bd(t)||r.isEqual(jh.min())?ef.resolve(null):this.ji.getDocuments(e,n).next((function(a){var o=i.Xi(t,a);return i.es(t,o,n,r)?ef.resolve(null):(vh()<=ct.DEBUG&&mh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rd(t)),i.ts(e,o,t,Kh(r,-1)).next((function(e){return e})))}))}},{key:"Xi",value:function(e,t){var n=new mf(Od(e));return t.forEach((function(t,r){Ad(e,r)&&(n=n.add(r))})),n}},{key:"es",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Yi",value:function(e,t,n){return vh()<=ct.DEBUG&&mh("QueryEngine","Using full collection scan to execute query:",Rd(t)),this.ji.getDocumentsMatchingQuery(e,t,Qh.min(),n)}},{key:"ts",value:function(e,t,n,r){return this.ji.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),wv=function(){function e(t,n,r,i){J(this,e),this.persistence=t,this.ns=n,this.serializer=i,this.rs=new df(Mh),this.ss=new Ld((function(e){return md(e)}),yd),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(r)}return ee(e,[{key:"us",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sv(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.rs)}))}}]),e}();function Ev(e,t,n,r){return new wv(e,t,n,r)}function Sv(e,t){return xv.apply(this,arguments)}function xv(){return xv=H(W().mark((function e(t,n){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wh(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.us(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Kd(),u=Q(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,h=Q(l.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value;s=s.add(f.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Q(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Q(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{cs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),xv.apply(this,arguments)}function Tv(e,t){var n=wh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n._s.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ef.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);bh(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Kd(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Cv(e){var t=wh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Kr.getLastRemoteSnapshotVersion(e)}))}function Iv(e,t){var n=wh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}var Nv=function(){function e(){J(this,e),this.activeTargetIds=Qd()}return ee(e,[{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Vs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"As",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Pv=function(){function e(){J(this,e),this.ro=new Nv,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ee(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.ro.Rs(e),this.io[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.io[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.ro.Vs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.io[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.ro.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"start",value:function(){return this.ro=new Nv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Rv=function(){function e(){J(this,e)}return ee(e,[{key:"so",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Av=function(){function e(){var t=this;J(this,e),this.oo=function(){return t._o()},this.ao=function(){return t.uo()},this.co=[],this.lo()}return ee(e,[{key:"so",value:function(e){this.co.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}},{key:"lo",value:function(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}},{key:"_o",value:function(){mh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Q(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"uo",value:function(){mh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Q(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ov=null;function Dv(){return null===Ov?Ov=268435456+Math.round(2147483648*Math.random()):Ov++,"0x"+Ov.toString(16)}var Lv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Mv=function(){function e(t){J(this,e),this.ho=t.ho,this.Po=t.Po}return ee(e,[{key:"Io",value:function(e){this.To=e}},{key:"Eo",value:function(e){this.Ao=e}},{key:"onMessage",value:function(e){this.Ro=e}},{key:"close",value:function(){this.Po()}},{key:"send",value:function(e){this.ho(e)}},{key:"Vo",value:function(){this.To()}},{key:"mo",value:function(e){this.Ao(e)}},{key:"fo",value:function(e){this.Ro(e)}}]),e}(),Fv="WebChannelConnection",Uv=function(e){re(n,e);var t=se(n);function n(e){var r;return J(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return ee(n,[{key:"vo",value:function(e,t,n,r){var i=Dv();return new Promise((function(a,o){var s=new lh;s.setWithCredentials(!0),s.listenOnce(ah.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case ih.NO_ERROR:var t=s.getResponseJson();mh(Fv,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case ih.TIMEOUT:mh(Fv,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Sh(Eh.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:var n=s.getStatus();if(mh(Fv,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Eh).indexOf(t)>=0?t:Eh.UNKNOWN}(u.status);o(new Sh(l,u.message))}else o(new Sh(Eh.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Sh(Eh.UNAVAILABLE,"Connection failed."));break;default:_h()}}finally{mh(Fv,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);mh(Fv,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Mo",value:function(e,t,n){var r=Dv(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=nh(),o=rh(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Co(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var l=i.join("");mh(Fv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),s);var c=a.createWebChannel(l,s),h=!1,f=!1,d=new Mv({ho:function(t){f?mh(Fv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(mh(Fv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),mh(Fv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Po:function(){return c.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(c,uh.EventType.OPEN,(function(){f||mh(Fv,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,uh.EventType.CLOSE,(function(){f||(f=!0,mh(Fv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.mo())})),p(c,uh.EventType.ERROR,(function(t){f||(f=!0,gh(Fv,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.mo(new Sh(Eh.UNAVAILABLE,"The operation could not be completed")))})),p(c,uh.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];bh(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){mh(Fv,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=xp[e];if(void 0!==t)return Op(t)}(s),l=o.message;void 0===u&&(u=Eh.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),f=!0,d.mo(new Sh(u,l)),c.close()}else mh(Fv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.fo(i)}})),p(o,oh.STAT_EVENT,(function(t){t.stat===sh.PROXY?mh(Fv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===sh.NOPROXY&&mh(Fv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Vo()}),0),d}}]),n}(function(){function e(t){J(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo="projects/".concat(r,"/databases/").concat(i),this.wo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return ee(e,[{key:"So",get:function(){return!1}},{key:"bo",value:function(e,t,n,r,i){var a=Dv(),o=this.Do(e,t);mh("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(s,r,i),this.vo(e,o,s,n).then((function(t){return mh("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw gh("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Fo",value:function(e,t,n,r,i,a){return this.bo(e,t,n,r,i)}},{key:"Co",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+dh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Do",value:function(e,t){var n=Lv[e];return"".concat(this.po,"/v1/").concat(t,":").concat(n)}}]),e}());function jv(){return"undefined"!=typeof document?document:null}function Vv(e){return new Dp(e,!0)}var zv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;J(this,e),this._i=t,this.timerId=n,this.xo=r,this.Oo=i,this.No=a,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}return ee(e,[{key:"reset",value:function(){this.Bo=0}},{key:"qo",value:function(){this.Bo=this.No}},{key:"Qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&mh("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,(function(){return t.ko=Date.now(),e()})),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}},{key:"$o",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Ko",value:function(){return(Math.random()-.5)*this.Bo}}]),e}(),Bv=function(){function e(t,n,r,i,a,o,s,u){J(this,e),this._i=t,this.Uo=r,this.Wo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new zv(t,n)}return ee(e,[{key:"Jo",value:function(){return 1===this.state||5===this.state||this.Yo()}},{key:"Yo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Zo()}},{key:"stop",value:function(){var e=H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xo",value:function(){this.state=0,this.Ho.reset()}},{key:"e_",value:function(){var e=this;this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,(function(){return e.t_()})))}},{key:"n_",value:function(e){this.r_(),this.stream.send(e)}},{key:"t_",value:function(){var e=H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Yo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"i_",value:function(){this.jo&&(this.jo.cancel(),this.jo=null)}},{key:"close",value:function(){var e=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.r_(),this.i_(),this.Ho.cancel(),this.Go++,4!==t?this.Ho.reset():n&&n.code===Eh.RESOURCE_EXHAUSTED?(yh(n.toString()),yh("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===Eh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"s_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Go===n&&e.__(i,a)}),(function(n){t((function(){var t=new Sh(Eh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.a_(t)}))}))}},{key:"__",value:function(e,t){var n=this,r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io((function(){r((function(){return n.state=2,n.jo=n._i.enqueueAfterDelay(n.Wo,1e4,(function(){return n.Yo()&&(n.state=3),Promise.resolve()})),n.listener.Io()}))})),this.stream.Eo((function(e){r((function(){return n.a_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Zo",value:function(){var e=this;this.state=5,this.Ho.Qo(H(W().mark((function t(){return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"a_",value:function(e){return mh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"o_",value:function(e){var t=this;return function(n){t._i.enqueueAndForget((function(){return t.Go===e?n():(mh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Hv=function(e){re(n,e);var t=se(n);function n(e,r,i,a,o,s){var u;return J(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.P_=!1,u}return ee(n,[{key:"I_",get:function(){return this.P_}},{key:"start",value:function(){this.P_=!1,this.lastStreamToken=void 0,gn(ie(n.prototype),"start",this).call(this)}},{key:"s_",value:function(){this.P_&&this.d_([])}},{key:"u_",value:function(e,t){return this.connection.Mo("Write",e,t)}},{key:"onMessage",value:function(e){if(bh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();var t=function(e,t){return e&&e.length>0?(bh(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Up(e.updateTime):Up(t);return n.isEqual(jh.min())&&(n=Up(t)),new hp(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Up(e.commitTime);return this.listener.T_(n,t)}return bh(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}},{key:"A_",value:function(){var e={};e.database=Hp(this.serializer),this.n_(e)}},{key:"d_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Kp(t.serializer,e)}))};this.n_(n)}}]),n}(Bv),qv=function(e){re(n,e);var t=se(n);function n(e,r,i,a){var o;return J(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.R_=!1,o}return ee(n,[{key:"V_",value:function(){if(this.R_)throw new Sh(Eh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"bo",value:function(e,t,n){var r=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.bo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Eh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Sh(Eh.UNKNOWN,e.toString())}))}},{key:"Fo",value:function(e,t,n,r){var i=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection.Fo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Eh.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Sh(Eh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.R_=!0}}]),n}(ee((function e(){J(this,e)})));var Wv=function(){function e(t,n){J(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}return ee(e,[{key:"y_",value:function(){var e=this;0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.g_=null,e.S_("Backend didn't respond within 10 seconds."),e.w_("Offline"),Promise.resolve()})))}},{key:"b_",value:function(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.w_("Offline")))}},{key:"set",value:function(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}},{key:"w_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"S_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.p_?(yh(t),this.p_=!1):mh("OnlineStateTracker",t)}},{key:"D_",value:function(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}]),e}(),Kv=ee((function e(t,n,r,i,a){var o=this;J(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=a,this.x_.so((function(e){r.enqueueAndForget(H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Xv(o),!e.t0){e.next=5;break}return mh("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=wh(t)).F_.add(4),e.next=4,$v(n);case 4:return n.O_.set("Unknown"),n.F_.delete(4),e.next=8,Gv(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.O_=new Wv(r,i)}));function Gv(e){return Qv.apply(this,arguments)}function Qv(){return(Qv=H(W().mark((function e(t){var n,r,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xv(t)){e.next=18;break}n=Q(t.M_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function $v(e){return Yv.apply(this,arguments)}function Yv(){return(Yv=H(W().mark((function e(t){var n,r,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Q(t.M_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Xv(e){return 0===wh(e).F_.size}function Jv(e,t,n){return Zv.apply(this,arguments)}function Zv(){return(Zv=H(W().mark((function e(t,n,r){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tf(n)){e.next=2;break}throw n;case 2:return t.F_.add(1),e.next=5,$v(t);case 5:t.O_.set("Offline"),r||(r=function(){return Cv(t.localStore)}),t.asyncQueue.enqueueRetryable(H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mh("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.F_.delete(1),e.next=6,Gv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function em(e,t){return t().catch((function(n){return Jv(e,n,t)}))}function tm(e){return nm.apply(this,arguments)}function nm(){return nm=H(W().mark((function e(t){var n,r,i,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wh(t),r=km(n),i=n.C_.length>0?n.C_[n.C_.length-1].batchId:-1;case 2:if(!rm(n)){e.next=19;break}return e.prev=3,e.next=6,Iv(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.C_.length&&r.e_(),e.abrupt("break",19);case 10:i=a.batchId,im(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Jv(n,e.t0);case 17:e.next=2;break;case 19:am(n)&&om(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),nm.apply(this,arguments)}function rm(e){return Xv(e)&&e.C_.length<10}function im(e,t){e.C_.push(t);var n=km(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function am(e){return Xv(e)&&!km(e).Jo()&&e.C_.length>0}function om(e){km(e).start()}function sm(e){return um.apply(this,arguments)}function um(){return(um=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:km(t).A_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lm(e){return cm.apply(this,arguments)}function cm(){return(cm=H(W().mark((function e(t){var n,r,i,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=km(t),r=Q(t.C_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.d_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hm(e,t,n){return fm.apply(this,arguments)}function fm(){return fm=H(W().mark((function e(t,n,r){var i,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.C_.shift(),a=Pp.from(i,n,r),e.next=3,em(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,tm(t);case 5:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function dm(e,t){return pm.apply(this,arguments)}function pm(){return pm=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&km(t).I_,!e.t0){e.next=4;break}return e.next=4,function(){var e=H(W().mark((function e(t,n){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Ap(e)&&e!==Eh.ABORTED}(n.code)){e.next=7;break}return r=t.C_.shift(),km(t).Xo(),e.next=5,em(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,tm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:am(t)&&om(t);case 5:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){return mm.apply(this,arguments)}function mm(){return mm=H(W().mark((function e(t,n){var r,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=wh(t)).asyncQueue.verifyOperationInProgress(),mh("RemoteStore","RemoteStore received new credentials"),i=Xv(r),r.F_.add(3),e.next=6,$v(r);case 6:return i&&r.O_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.F_.delete(3),e.next=12,Gv(r);case 12:case"end":return e.stop()}}),e)}))),mm.apply(this,arguments)}function ym(e,t){return gm.apply(this,arguments)}function gm(){return(gm=H(W().mark((function e(t,n){var r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wh(t),!n){e.next=7;break}return r.F_.delete(2),e.next=5,Gv(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.F_.add(2),e.next=12,$v(r);case 12:r.O_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function km(e){return e.L_||(e.L_=function(e,t,n){var r=wh(e);return r.V_(),new Hv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:sm.bind(null,e),Eo:dm.bind(null,e),E_:lm.bind(null,e),T_:hm.bind(null,e)}),e.M_.push(function(){var t=H(W().mark((function t(n){return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Xo(),t.next=4,tm(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.C_.length>0&&(mh("RemoteStore","Stopping write stream with ".concat(e.C_.length," pending writes")),e.C_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.L_}var _m=function(){function e(t,n,r,i,a){J(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ee(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sh(Eh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function bm(e,t){if(yh("AsyncQueue","".concat(t,": ").concat(e)),tf(e))return new Sh(Eh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var wm=ee((function e(){J(this,e),this.queries=new Ld((function(e){return Pd(e)}),Nd),this.onlineState="Unknown",this.K_=new Set}));function Em(e){e.K_.forEach((function(e){e.next()}))}var Sm=function(){function e(t,n,r,i,a,o){J(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Ld((function(e){return Pd(e)}),Nd),this.pa=new Map,this.ya=new Set,this.wa=new df(qh.comparator),this.Sa=new Map,this.ba=new cv,this.Da={},this.Ca=new Map,this.va=iv.Ln(),this.onlineState="Unknown",this.Fa=void 0}return ee(e,[{key:"isPrimaryClient",get:function(){return!0===this.Fa}}]),e}();function xm(e,t,n){return Tm.apply(this,arguments)}function Tm(){return Tm=H(W().mark((function e(t,n,r){var i,a,o;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Um(t),e.prev=1,e.next=4,function(e,t){var n,r,i=wh(e),a=Uh.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Kd());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Fd(),u=Kd();return i._s.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Q(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=gp(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new bp(l.key,c,qf(c.value.mapValue),fp.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Vd(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Da[e.currentUser.toKey()];r||(r=new df(Mh)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Dm(i,a.changes);case 9:return e.next=11,tm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=bm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Tm.apply(this,arguments)}function Cm(e,t,n){var r=wh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ga.forEach((function(e,n){var r=n.view.U_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=wh(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Q(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.U_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Em(n)}(r.eventManager,t),i.length&&r.fa.c_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Im(e,t){return Nm.apply(this,arguments)}function Nm(){return Nm=H(W().mark((function e(t,n){var r,i,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wh(t),i=n.batch.batchId,e.prev=1,e.next=4,Tv(r.localStore,n);case 4:return a=e.sent,Om(r,i,null),Am(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Dm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Nm.apply(this,arguments)}function Pm(e,t,n){return Rm.apply(this,arguments)}function Rm(){return Rm=H(W().mark((function e(t,n,r){var i,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wh(t),e.prev=1,e.next=4,function(e,t){var n=wh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return bh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Om(i,n,r),Am(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Dm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Rm.apply(this,arguments)}function Am(e,t){(e.Ca.get(t)||[]).forEach((function(e){e.resolve()})),e.Ca.delete(t)}function Om(e,t,n){var r=wh(e),i=r.Da[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Dm(e,t,n){return Lm.apply(this,arguments)}function Lm(){return Lm=H(W().mark((function e(t,n,r){var i,a,o,s;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=wh(t),a=[],o=[],s=[],e.t0=i.ga.isEmpty(),e.t0){e.next=9;break}return i.ga.forEach((function(e,t){s.push(i.Ma(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=kv.$i(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.fa.c_(a),e.next=9,function(){var e=H(W().mark((function e(t,n){var r,i,a,o,s,u,l,c;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wh(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ef.forEach(n,(function(t){return ef.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ef.forEach(t.Ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),tf(e.t0)){e.next=10;break}throw e.t0;case 10:mh("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Q(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.rs.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.rs=r.rs.insert(s,c))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}function Mm(e,t){return Fm.apply(this,arguments)}function Fm(){return(Fm=H(W().mark((function e(t,n){var r,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=wh(t)).currentUser.isEqual(n)){e.next=11;break}return mh("SyncEngine","User change. New user:",n.toKey()),e.next=5,Sv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ca.forEach((function(e){e.forEach((function(e){e.reject(new Sh(Eh.CANCELLED,t))}))})),e.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Dm(r,i.cs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Um(e){var t=wh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Im.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Pm.bind(null,t),t}var jm=function(){function e(){J(this,e),this.synchronizeTabs=!1}return ee(e,[{key:"initialize",value:function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Vv(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Ev(this.persistence,new bv,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new mv(gv.Jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Pv}},{key:"terminate",value:function(){var e=H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vm=function(){function e(){J(this,e)}return ee(e,[{key:"initialize",value:function(){var e=H(W().mark((function e(t,n){var r=this;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Cm(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Mm.bind(null,this.syncEngine),e.next=12,ym(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new wm}},{key:"createDatastore",value:function(e){var t=Vv(e.databaseInfo.databaseId),n=function(e){return new Uv(e)}(e.databaseInfo);return function(e,t,n,r){return new qv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new Kv(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return Cm(t.syncEngine,e,0)}),Av.C()?new Av:new Rv)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Sm(e,t,n,r,i,a);return o&&(s.Fa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wh(t),mh("RemoteStore","RemoteStore shutting down."),n.F_.add(5),e.next=5,$v(n);case 5:n.x_.shutdown(),n.O_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var zm=function(){function e(t,n,r,i){var a=this;J(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fh.UNAUTHENTICATED,this.clientId=Lh.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mh("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return mh("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ee(e,[{key:"getConfiguration",value:function(){var e=H(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Sh(Eh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new xh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(H(W().mark((function n(){var r;return W().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=bm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Bm(e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=H(W().mark((function e(t,n){var r,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),mh("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Sv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}function qm(e,t){return Wm.apply(this,arguments)}function Wm(){return Wm=H(W().mark((function e(t,n){var r,i;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Gm(t);case 3:return r=e.sent,mh("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return vm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return vm(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Wm.apply(this,arguments)}function Km(e){return"FirebaseError"===e.name?e.code===Eh.FAILED_PRECONDITION||e.code===Eh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Gm(e){return Qm.apply(this,arguments)}function Qm(){return(Qm=H(W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return mh("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Bm(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Km(n=e.t0)){e.next=13;break}throw n;case 13:return gh("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Bm(t,new jm);case 16:e.next=21;break;case 18:return mh("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Bm(t,new jm);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function $m(e){return Ym.apply(this,arguments)}function Ym(){return(Ym=H(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return mh("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,qm(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return mh("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,qm(t,new Vm);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xm(e){return $m(e).then((function(e){return e.syncEngine}))}function Jm(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Zm=new Map;function ey(e,t,n){if(!n)throw new Sh(Eh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ty(e){if(!qh.isDocumentKey(e))throw new Sh(Eh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ny(e){if(qh.isDocumentKey(e))throw new Sh(Eh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ry(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":_h()}function iy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sh(Eh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ry(e);throw new Sh(Eh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var ay=function(){function e(t){var n,r;if(J(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Sh(Eh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sh(Eh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Sh(Eh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jm(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Sh(Eh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Sh(Eh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Sh(Eh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return ee(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),oy=function(){function e(t,n,r,i){J(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ay({}),this._settingsFrozen=!1}return ee(e,[{key:"app",get:function(){if(!this._app)throw new Sh(Eh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Sh(Eh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ay(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ch;switch(e.type){case"firstParty":return new Rh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Sh(Eh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Zm.get(e);t&&(mh("ComponentProvider","Removing Datastore"),Zm.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function sy(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=iy(e,oy))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&gh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=fh.MOCK_USER;else{s=Pe(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Sh(Eh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new fh(l)}e._authCredentials=new Ih(new Th(s,u))}}var uy=function(){function e(t,n,r){J(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ee(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ly=function(){function e(t,n,r){J(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ee(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new cy(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),cy=function(e){re(n,e);var t=se(n);function n(e,r,i){var a;return J(this,n),(a=t.call(this,e,r,_d(i)))._path=i,a.type="collection",a}return ee(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ly(this.firestore,null,new qh(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(uy);function hy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=it(e),ey("collection","path",t),e instanceof oy){var a=zh.fromString.apply(zh,[t].concat(r));return ny(a),new cy(e,null,a)}if(!(e instanceof ly||e instanceof cy))throw new Sh(Eh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zh.fromString.apply(zh,[t].concat(r)));return ny(o),new cy(e.firestore,null,o)}var fy=function(){function e(){var t=this;J(this,e),this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new zv(this,"async_queue_retry"),this.ou=function(){var e=jv();e&&mh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ho.$o()};var n=jv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.ou)}return ee(e,[{key:"isShuttingDown",get:function(){return this.eu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this._u(),this.au(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.eu){this.eu=!0,this.iu=e||!1;var t=jv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}},{key:"enqueue",value:function(e){var t=this;if(this._u(),this.eu)return new Promise((function(){}));var n=new xh;return this.au((function(){return t.eu&&t.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Xa.push(e),t.uu()}))}},{key:"uu",value:function(){var e=H(W().mark((function e(){var t=this;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Xa.length){e.next=14;break}return e.prev=1,e.next=4,this.Xa[0]();case 4:this.Xa.shift(),this.Ho.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),tf(e.t0)){e.next=12;break}throw e.t0;case 12:mh("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Xa.length>0&&this.Ho.Qo((function(){return t.uu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"au",value:function(e){var t=this,n=this.Za.then((function(){return t.ru=!0,e().catch((function(e){t.nu=e,t.ru=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw yh("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.ru=!1,e}))}));return this.Za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this._u(),this.su.indexOf(e)>-1&&(t=0);var i=_m.createAndSchedule(this,e,t,n,(function(e){return r.cu(e)}));return this.tu.push(i),i}},{key:"_u",value:function(){this.nu&&_h()}},{key:"verifyOperationInProgress",value:function(){}},{key:"lu",value:function(){var e=H(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Za,e.next=3,t;case 3:if(t!==this.Za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t,n=Q(this.tu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.lu().then((function(){t.tu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Q(t.tu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.lu()}))}},{key:"Iu",value:function(e){this.su.push(e)}},{key:"cu",value:function(e){var t=this.tu.indexOf(e);this.tu.splice(t,1)}}]),e}();var dy=function(e){re(n,e);var t=se(n);function n(e,r,i,a){var o;return J(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new fy,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return ee(n,[{key:"_terminate",value:function(){return this._firestoreClient||my(this),this._firestoreClient.terminate()}}]),n}(oy);function py(e,t){var n="string"==typeof e?e:t||"(default)",r=Qt("object"==typeof e?e:en(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Te("firestore");i&&sy.apply(void 0,[r].concat(G(i)))}return r}function vy(e){return e._firestoreClient||my(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function my(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new If(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Jm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new zm(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var yy=function(){function e(t){J(this,e),this._byteString=t}return ee(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(_f.fromBase64String(t))}catch(t){throw new Sh(Eh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(_f.fromUint8Array(t))}}]),e}(),gy=function(){function e(){J(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Sh(Eh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hh(n)}return ee(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ky=ee((function e(t){J(this,e),this._methodName=t})),_y=function(){function e(t,n){if(J(this,e),!isFinite(t)||t<-90||t>90)throw new Sh(Eh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Sh(Eh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ee(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Mh(this._lat,e._lat)||Mh(this._long,e._long)}}]),e}(),by=/^__.*__$/,wy=function(){function e(t,n,r){J(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ee(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new bp(e,this.data,this.fieldMask,t,this.fieldTransforms):new _p(e,this.data,t,this.fieldTransforms)}}]),e}();function Ey(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _h()}}var Sy=function(){function e(t,n,r,i,a,o){J(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.du(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ee(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Au",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.Vu(e),r}},{key:"mu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.du(),r}},{key:"fu",value:function(e){return this.Eu({path:void 0,Ru:!0})}},{key:"gu",value:function(e){return My(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"du",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}},{key:"Vu",value:function(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(Ey(this.Tu)&&by.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}]),e}(),xy=function(){function e(t,n,r){J(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Vv(t)}return ee(e,[{key:"wu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Sy({Tu:e,methodName:t,yu:n,path:Hh.emptyPath(),Ru:!1,pu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Ty(e){var t=e._freezeSettings(),n=Vv(e._databaseId);return new xy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cy(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wu(a.merge||a.mergeFields?2:0,t,n,i);Ay("Data must be an object, but it was:",o,r);var s,u,l=Py(r,o);if(a.merge)s=new gf(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,h=[],f=Q(a.mergeFields);try{for(f.s();!(c=f.n()).done;){var d=c.value,p=Oy(t,d,n);if(!o.contains(p))throw new Sh(Eh.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Fy(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new gf(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new wy(new Hf(l),s,u)}var Iy=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.apply(this,arguments)}return ee(n,[{key:"_toFieldTransform",value:function(e){return new cp(e.path,new np)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ky);function Ny(e,t){if(Ry(e=it(e)))return Ay("Unsupported field value:",t,e),Py(e,t);if(e instanceof ky)return function(e,t){if(!Ey(t.Tu))throw t.gu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&4!==t.Tu)throw t.gu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Q(e);try{for(a.s();!(n=a.n()).done;){var o=Ny(n.value,t.fu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=it(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Uh.fromDate(e);return{timestampValue:Lp(t.serializer,n)}}if(e instanceof Uh){var r=new Uh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lp(t.serializer,r)}}if(e instanceof _y)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yy)return{bytesValue:Mp(t.serializer,e._byteString)};if(e instanceof ly){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.gu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:jp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.gu("Unsupported field value: ".concat(ry(e)))}(e,t)}function Py(e,t){var n={};return ff(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hf(e,(function(e,r){var i=Ny(r,t.Au(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ry(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Uh||e instanceof _y||e instanceof yy||e instanceof ly||e instanceof ky)}function Ay(e,t,n){if(!Ry(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ry(n);throw"an object"===r?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function Oy(e,t,n){if((t=it(t))instanceof gy)return t._internalPath;if("string"==typeof t)return Ly(e,t);throw My("Field path arguments must be of type string or ",e,!1,void 0,n)}var Dy=new RegExp("[~\\*/\\[\\]]");function Ly(e,t,n){if(t.search(Dy)>=0)throw My("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ue(gy,G(t.split(".")))._internalPath}catch(is){throw My("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function My(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Sh(Eh.INVALID_ARGUMENT,s+e+u)}function Fy(e,t){return e.some((function(e){return e.isEqual(t)}))}function Uy(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function jy(e,t){var n=iy(e.firestore,dy),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=it(e),1===arguments.length&&(t=Lh.V()),ey("doc","path",t),e instanceof oy){var a=zh.fromString.apply(zh,[t].concat(r));return ty(a),new ly(e,null,new qh(a))}if(!(e instanceof ly||e instanceof cy))throw new Sh(Eh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zh.fromString.apply(zh,[t].concat(r)));return ty(o),new ly(e.firestore,e instanceof cy?e.converter:null,new qh(o))}(e),i=Uy(e.converter,t);return Vy(n,[Cy(Ty(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fp.exists(!1))]).then((function(){return r}))}function Vy(e,t){return function(e,t){var n=new xh;return e.asyncQueue.enqueueAndForget(H(W().mark((function r(){return W().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=xm,r.next=3,Xm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(vy(e),t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){dh=e}(Jt),Gt(new at("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new dy(new Nh(e.getProvider("auth-internal")),new Oh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sh(Eh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nf(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),tn(hh,"4.2.0",e),tn(hh,"4.2.0","esm2017")}();var zy,By="firebasestorage.googleapis.com",Hy=function(e){re(n,e);var t=se(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return J(this,n),(i=t.call(this,qy(e),"Firebase Storage: ".concat(r," (").concat(qy(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(te(i),n.prototype),i}return ee(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return qy(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Fe);function qy(e){return"storage/"+e}function Wy(){return new Hy(zy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ky(){return new Hy(zy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gy(){return new Hy(zy.CANCELED,"User canceled the upload/download.")}function Qy(){return new Hy(zy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $y(e){return new Hy(zy.INVALID_ARGUMENT,e)}function Yy(){return new Hy(zy.APP_DELETED,"The Firebase app was deleted.")}function Xy(e,t){return new Hy(zy.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Jy(e){throw new Hy(zy.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(zy||(zy={}));var Zy,eg=function(){function e(t,n){J(this,e),this.bucket=t,this.path_=n}return ee(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new Hy(zy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===By?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<u.length;l++){var c=u[l],h=c.regex.exec(t);if(h){var f=h[c.indices.bucket],d=h[c.indices.path];d||(d=""),r=new e(f,d),c.postModify(r);break}}if(null==r)throw function(e){return new Hy(zy.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),tg=function(){function e(t){J(this,e),this.promise_=Promise.reject(t)}return ee(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function ng(e){return"string"===typeof e||e instanceof String}function rg(e){return ig()&&e instanceof Blob}function ig(){return"undefined"!==typeof Blob&&!Oe()}function ag(e,t,n,r){if(r<t)throw $y("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw $y("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function og(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function sg(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function ug(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Zy||(Zy={}));var lg=function(){function e(t,n,r,i,a,o,s,u,l,c,h){var f=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];J(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return ee(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=Wy();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Yy():Gy());else i(Ky())}};this.canceled_?t(0,new cg(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function f(){a&&clearTimeout(a)}function d(e){if(l)f();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return f(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||o)return f(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),h(a)}}var p=!1;function v(e){p||(p=!0,f(),l||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new cg(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Zy.NO_ERROR,a=r.getStatus();if(!n||ug(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Zy.ABORT;t(!1,new cg(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new cg(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),cg=ee((function e(t,n,r){J(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function hg(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function fg(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function dg(e,t){t&&(e["X-Firebase-GMPID"]=t)}function pg(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function vg(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=sg(e.urlParams),u=e.url+s,l=Object.assign({},e.headers);return dg(l,t),hg(l,n),fg(l,a),pg(l,r),new lg(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function mg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function yg(){for(var e=mg(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(ig())return new Blob(n);throw new Hy(zy.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function gg(e){if("undefined"===typeof atob)throw t="base-64",new Hy(zy.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var kg="raw",_g="base64",bg="base64url",wg="data_url",Eg=ee((function e(t,n){J(this,e),this.data=t,this.contentType=n||null}));function Sg(e,t){switch(e){case kg:return new Eg(xg(t));case _g:case bg:return new Eg(Tg(e,t));case wg:return new Eg(function(e){var t=new Cg(e);return t.base64?Tg(_g,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Xy(wg,"Malformed data URL.")}return xg(t)}(t.rest)}(t),new Cg(t).contentType)}throw Wy()}function xg(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Tg(e,t){switch(e){case _g:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Xy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case bg:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Xy(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=gg(t)}catch(l){if(l.message.includes("polyfill"))throw l;throw Xy(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Cg=ee((function e(t){J(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Xy(wg,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Ig=function(){function e(t,n){J(this,e);var r=0,i="";rg(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return ee(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(rg(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(ig()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(yg.apply(null,i))}var a=n.map((function(e){return ng(e)?Sg(kg,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Ng(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Pg(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Rg(e,t){return t}var Ag=ee((function e(t,n,r,i){J(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Rg})),Og=null;function Dg(){if(Og)return Og;var e=[];e.push(new Ag("bucket")),e.push(new Ag("generation")),e.push(new Ag("metageneration")),e.push(new Ag("name","fullPath",!0));var t=new Ag("name");t.xform=function(e,t){return function(e){return!ng(e)||e.length<2?e:Pg(e)}(t)},e.push(t);var n=new Ag("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ag("timeCreated")),e.push(new Ag("updated")),e.push(new Ag("md5Hash",null,!0)),e.push(new Ag("cacheControl",null,!0)),e.push(new Ag("contentDisposition",null,!0)),e.push(new Ag("contentEncoding",null,!0)),e.push(new Ag("contentLanguage",null,!0)),e.push(new Ag("contentType",null,!0)),e.push(new Ag("metadata","customMetadata",!0)),Og=e}function Lg(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new eg(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Mg(e,t,n){var r=Ng(t);return null===r?null:Lg(e,r,n)}function Fg(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Ug=ee((function e(t,n,r,i){J(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function jg(e){if(!e)throw Wy()}function Vg(e,t){return function(n,r){var i=Mg(e,r,t);return jg(null!==i),i}}function zg(e,t){return function(n,r){var i=Mg(e,r,t);return jg(null!==i),function(e,t,n,r){var i=Ng(t);if(null===i)return null;if(!ng(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,s=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return og("/b/"+o(i)+"/o/"+o(a),n,r)+sg({alt:"media",token:t})}));return s[0]}(i,r,e.host,e._protocol)}}function Bg(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Hy(zy.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Hy(zy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Hy(zy.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Hy(zy.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Hg(e){var t=Bg(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Hy(zy.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function qg(e,t,n){var r=og(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Ug(r,"GET",Vg(e,n),i);return a.errorHandler=Hg(t),a}function Wg(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Kg(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Wg(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Fg(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",h=Ig.getBlob(l,r,c);if(null===h)throw Qy();var f={name:u.fullPath},d=og(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Ug(d,"POST",Vg(e,n),p);return v.urlParams=f,v.headers=o,v.body=h.uploadData(),v.errorHandler=Bg(t),v}var Gg=ee((function e(t,n,r,i){J(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function Qg(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){jg(!1)}return jg(!!n&&-1!==(t||["active"]).indexOf(n)),n}var $g=262144;function Yg(e,t,n,r,i,a,o,s){var u=new Gg(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Hy(zy.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var h=u.current,f=h+c,d={"X-Goog-Upload-Command":0===c?"finalize":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(h,f);if(null===p)throw Qy();var v=t.maxUploadRetryTime,m=new Ug(n,"POST",(function(e,n){var i,o=Qg(e,["active","final"]),s=u.current+c,l=r.size();return i="final"===o?Vg(t,a)(e,n):null,new Gg(s,l,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Bg(e),m}var Xg="running",Jg="paused",Zg="success",ek="canceled",tk="error";function nk(e){switch(e){case"running":case"pausing":case"canceling":return Xg;case"paused":return Jg;case"success":return Zg;case"canceled":return ek;default:return tk}}var rk=ee((function e(t,n,r){J(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function ik(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var ak=function(){function e(){var t=this;J(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zy.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Zy.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Zy.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return ee(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Jy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Jy("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Jy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Jy("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Jy("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),ok=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.apply(this,arguments)}return ee(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(ak);function sk(){return new ok}var uk=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;J(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Dg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(zy.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(ug(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=Ky()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(zy.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return ee(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=Wg(t,r,i),s={name:o.fullPath},u=og(a,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=Fg(o,n),h=e.maxUploadRetryTime,f=new Ug(u,"POST",(function(e){var t;Qg(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){jg(!1)}return jg(ng(t)),t}),h);return f.urlParams=s,f.headers=l,f.body=c,f.errorHandler=Bg(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,sk,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Ug(n,"POST",(function(e){var t=Qg(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){jg(!1)}n||jg(!1);var i=Number(n);return jg(!isNaN(i)),new Gg(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Bg(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,sk,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=$g*this._chunkMultiplier,n=new Gg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Yg(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,sk,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*($g*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=qg(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,sk,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Kg(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,sk,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Gy(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=nk(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new rk(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(nk(this._state)){case Zg:ik(this._resolve.bind(null,this.snapshot))();break;case ek:case tk:ik(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(nk(this._state)){case Xg:case Jg:e.next&&ik(e.next.bind(e,this.snapshot))();break;case Zg:e.complete&&ik(e.complete.bind(e))();break;default:e.error&&ik(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),lk=function(){function e(t,n){J(this,e),this._service=t,this._location=n instanceof eg?n:eg.makeFromUrl(n,t.host)}return ee(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new eg(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Pg(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new eg(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Hy(zy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function ck(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=og(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Ug(r,"GET",zg(e,n),i);return a.errorHandler=Hg(t),a}(e.storage,e._location,Dg());return e.storage.makeRequestWithTokens(t,sk).then((function(e){if(null===e)throw new Hy(zy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function hk(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new eg(e._location.bucket,n);return new lk(e.storage,r)}function fk(e,t){if(e instanceof mk){var n=e;if(null==n._bucket)throw new Hy(zy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new lk(n,n._bucket);return null!=t?fk(r,t):r}return void 0!==t?hk(e,t):e}function dk(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof mk)return new lk(e,t);throw $y("To use ref(service, url), the first argument must be a Storage instance.")}return fk(e,t)}function pk(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:eg.makeFromBucketSpec(n,e)}function vk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Pe(i,e.app.options.projectId))}var mk=function(){function e(t,n,r,i,a){J(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=By,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?eg.makeFromBucketSpec(i,this._host):pk(this._host,this.app.options)}return ee(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=eg.makeFromBucketSpec(this._url,e):this._bucket=pk(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){ag("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){ag("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=H(W().mark((function e(){var t,n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=H(W().mark((function e(){var t,n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new lk(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new tg(Yy());var o=vg(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=H(W().mark((function e(t,n){var r,i,a,o;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),yk="@firebase/storage",gk="0.11.2",kk="storage";function _k(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new uk(e,new Ig(t),n)}(e=it(e),t,n)}function bk(e){return ck(e=it(e))}function wk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};vk(e,t,n,r)}function Ek(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new mk(r,i,a,n,Jt)}Gt(new at(kk,Ek,"PUBLIC").setMultipleInstances(!0)),tn(yk,gk,""),tn(yk,gk,"esm2017");var Sk="@firebase/database",xk="1.0.1",Tk="";function Ck(e){Tk=e}var Ik=function(){function e(t){J(this,e),this.domStorage_=t,this.prefix_="firebase:"}return ee(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Be(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ze(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Nk=function(){function e(){J(this,e),this.cache_={},this.isInMemoryStorage=!0}return ee(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return qe(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Pk=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ik(t)}}catch(n){}return new Nk},Rk=Pk("localStorage"),Ak=Pk("sessionStorage"),Ok=new yt("@firebase/database"),Dk=function(){var e=1;return function(){return e++}}(),Lk=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,de(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ze;n.update(t);var r=n.digest();return me.encodeByteArray(r)},Mk=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Be(r):r,t+=" "}return t},Fk=null,Uk=!0,jk=function(e,t){de(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ok.logLevel=ct.VERBOSE,Fk=Ok.log.bind(Ok),t&&Ak.set("logging_enabled",!0)):"function"===typeof e?Fk=e:(Fk=null,Ak.remove("logging_enabled"))},Vk=function(){if(!0===Uk&&(Uk=!1,null===Fk&&!0===Ak.get("logging_enabled")&&jk(!0)),Fk){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Mk.apply(null,t);Fk(r)}},zk=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Vk.apply(void 0,[e].concat(n))}},Bk=function(){var e="FIREBASE INTERNAL ERROR: "+Mk.apply(void 0,arguments);Ok.error(e)},Hk=function(){var e="FIREBASE FATAL ERROR: ".concat(Mk.apply(void 0,arguments));throw Ok.error(e),new Error(e)},qk=function(){var e="FIREBASE WARNING: "+Mk.apply(void 0,arguments);Ok.warn(e)},Wk=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Kk="[MIN_NAME]",Gk="[MAX_NAME]",Qk=function(e,t){if(e===t)return 0;if(e===Kk||t===Gk)return-1;if(t===Kk||e===Gk)return 1;var n=n_(e),r=n_(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},$k=function(e,t){return e===t?0:e<t?-1:1},Yk=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Be(t))},Xk=function e(t){if("object"!==typeof t||null===t)return Be(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Be(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Jk=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Zk(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var e_=function(e){de(!Wk(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var t_=new RegExp("^-?(0*)\\d{1,10}$"),n_=function(e){if(t_.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},r_=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw qk("Exception was thrown by user callback.",e),t}),Math.floor(0))}},i_=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},a_=function(){function e(t,n){var r=this;J(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return ee(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){qk('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),o_=function(){function e(t,n,r){var i=this;J(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return ee(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Vk("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qk(e)}}]),e}(),s_=function(){function e(t){J(this,e),this.accessToken=t}return ee(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();s_.OWNER="owner";var u_="5",l_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,c_="websocket",h_="long_polling",f_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];J(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rk.get("host:"+t)||this._host}return ee(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rk.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function d_(e,t,n){var r;if(de("string"===typeof t,"typeof type must == string"),de("object"===typeof n,"typeof params must == object"),t===c_)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==h_)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Zk(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var p_=function(){function e(){J(this,e),this.counters_={}}return ee(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;qe(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return be(this.counters_)}}]),e}(),v_={},m_={};function y_(e){var t=e.toString();return v_[t]||(v_[t]=new p_),v_[t]}var g_=function(){function e(t){J(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return ee(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&r_((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),k_="start",__="close",b_=function(){function e(t,n,r,i,a,o,s){var u=this;J(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zk(t),this.stats_=y_(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),d_(n,h_,e)}}return ee(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new g_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Le()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new w_((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===k_)n.id=a,n.password=o;else{if(i!==__)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=u_,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&l_.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Be(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=ge(t),r=Jk(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Le()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Be(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Le()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),w_=function(){function e(t,n,r,i){if(J(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Le())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Dk(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Vk("frame writing exception"),s.stack&&Vk(s.stack),Vk(s)}}}return ee(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Le()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Vk("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Vk("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),E_=null;"undefined"!==typeof MozWebSocket?E_=MozWebSocket:"undefined"!==typeof WebSocket&&(E_=WebSocket);var S_=function(){function e(t,n,r,i,a,o,s){J(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zk(this.connId),this.stats_=y_(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return ee(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rk.set("previous_websocket_failure",!0);try{var r;if(Le()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(u_,"/").concat(Tk,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/VChat_Data",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new E_(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Rk.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=ze(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(de(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Be(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Jk(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=u_,!Le()&&"undefined"!==typeof location&&location.hostname&&l_.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),d_(e,c_,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==E_&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Rk.isInMemoryStorage||!0===Rk.get("previous_websocket_failure")}}]),e}();S_.responsesRequiredToBeHealthy=2,S_.healthyTimeout=3e4;var x_=function(){function e(t){J(this,e),this.initTransports_(t)}return ee(e,[{key:"initTransports_",value:function(t){var n=S_&&S_.isAvailable(),r=n&&!S_.previouslyFailed();if(t.webSocketOnly&&(n||qk("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[S_];else{var i,a=this.transports_=[],o=Q(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[b_,S_]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();x_.globalTransportInitialized_=!1;var T_=function(){function e(t,n,r,i,a,o,s,u,l,c){J(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zk("c:"+this.id+":"),this.transportManager_=new x_(n),this.log_("Connection created"),this.start_()}return ee(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=i_((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Yk("t",e),n=Yk("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Yk("t",e),n=Yk("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Yk("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Bk("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bk("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),u_!==n&&qk("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),i_((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):i_((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rk.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),C_=function(){function e(){J(this,e)}return ee(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),I_=function(){function e(t){J(this,e),this.allowedEvents_=t,this.listeners_={},de(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return ee(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=G(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){de(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),N_=function(e){re(n,e);var t=se(n);function n(){var e;return J(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ae()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return ee(n,[{key:"getInitialEvent",value:function(e){return de("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(I_),P_=function(){function e(t,n){if(J(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return ee(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function R_(){return new P_("")}function A_(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function O_(e){return e.pieces_.length-e.pieceNum_}function D_(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new P_(e.pieces_,t)}function L_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function M_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function F_(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new P_(t,0)}function U_(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof P_)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new P_(n,0)}function j_(e){return e.pieceNum_>=e.pieces_.length}function V_(e,t){var n=A_(e),r=A_(t);if(null===n)return t;if(n===r)return V_(D_(e),D_(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function z_(e,t){if(O_(e)!==O_(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function B_(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(O_(e)>O_(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var H_=ee((function e(t,n){J(this,e),this.errorPrefix_=n,this.parts_=M_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=rt(this.parts_[r]);q_(this)}));function q_(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+W_(e))}function W_(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var K_=function(e){re(n,e);var t=se(n);function n(){var e,r,i;return J(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return ee(n,[{key:"getInitialEvent",value:function(e){return de("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(I_),G_=1e3,Q_=function(e){re(n,e);var t=se(n);function n(e,r,i,a,o,s,u,l){var c;if(J(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=zk("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=G_,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Le())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return K_.getInstance().on("visible",c.onVisible_,te(c)),-1===e.host.indexOf("fblocal")&&N_.getInstance().on("online",c.onOnline_,te(c)),c}return ee(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Be(i)),de(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Ne,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),de(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=He(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=He(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Be(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Bk("Unrecognized action received from server: "+Be(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;de(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=G_,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=G_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=G_),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=H(W().mark((function e(){var t,r,i,a,o,s,u,c,h,f,d,p,v,m,y=this;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},h=function(e){de(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=l(d,2),v=p[0],m=p[1],s?Vk("getToken() completed but was canceled"):(Vk("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new T_(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){qk(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&qk(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Vk("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Vk("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ke(this.interruptReasons_)&&(this.reconnectDelay_=G_,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Xk(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new P_(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Vk("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Vk("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Q(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Q(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Le()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Tk.replace(/\./g,"-")]=1,Ae()?e["framework.cordova"]=1:De()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=N_.getInstance().currentlyOnline();return Ke(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&qe(e,"w")){var n=We(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();qk("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(C_);Q_.nextPersistentConnectionId_=0,Q_.nextConnectionId_=0;var $_,Y_=function(){function e(t,n){J(this,e),this.name=t,this.node=n}return ee(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),X_=function(){function e(){J(this,e)}return ee(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Y_(Kk,e),r=new Y_(Kk,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Y_.MIN}}]),e}(),J_=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.apply(this,arguments)}return ee(n,[{key:"compare",value:function(e,t){return Qk(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw pe("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Y_.MIN}},{key:"maxPost",value:function(){return new Y_(Gk,$_)}},{key:"makePost",value:function(e,t){return de("string"===typeof e,"KeyIndex indexValue must always be a string."),new Y_(e,$_)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return $_},set:function(e){$_=e}}]),n}(X_),Z_=new J_,eb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;J(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return ee(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),tb=function(){function e(t,n,r,i,a){J(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ib.EMPTY_NODE,this.right=null!=a?a:ib.EMPTY_NODE}return ee(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return ib.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ib.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();tb.RED=!0,tb.BLACK=!1;var nb,rb=function(){function e(){J(this,e)}return ee(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new tb(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),ib=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;J(this,e),this.comparator_=t,this.root_=n}return ee(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,tb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,tb.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new eb(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new eb(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new eb(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new eb(this.root_,null,this.comparator_,!0,e)}}]),e}();function ab(e,t){return Qk(e.name,t.name)}function ob(e,t){return Qk(e,t)}ib.EMPTY_NODE=new rb;var sb,ub,lb,cb=function(e){return"number"===typeof e?"number:"+e_(e):"string:"+e},hb=function(e){if(e.isLeafNode()){var t=e.val();de("string"===typeof t||"number"===typeof t||"object"===typeof t&&qe(t,".sv"),"Priority must be a string or number.")}else de(e===nb||e.isEmpty(),"priority of unexpected type.");de(e===nb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},fb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;J(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,de(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),hb(this.priorityNode_)}return ee(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return j_(t)?this:".priority"===A_(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=A_(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(de(".priority"!==r||1===O_(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(D_(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+cb(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?e_(this.value_):this.value_,this.lazyHash_=Lk(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(de(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return de(i>=0,"Unknown leaf type: "+n),de(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return sb},set:function(e){sb=e}}]),e}();fb.VALUE_TYPE_ORDER=["object","boolean","number","string"];var db,pb,vb=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.apply(this,arguments)}return ee(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Qk(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Y_.MIN}},{key:"maxPost",value:function(){return new Y_(Gk,new fb("[PRIORITY-POST]",lb))}},{key:"makePost",value:function(e,t){var n=ub(e);return new Y_(t,new fb("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(X_),mb=new vb,yb=Math.log(2),gb=function(){function e(t){J(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/yb,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return ee(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),kb=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new tb(o,a.node,tb.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new tb(o,a.node,tb.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],h=n?n(c):c;u(new tb(h,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));c?s(h,tb.BLACK):(s(h,tb.BLACK),s(h,tb.RED))}return a}(new gb(e.length));return new ib(r||t,a)},_b={},bb=function(){function e(t,n){J(this,e),this.indexes_=t,this.indexSet_=n}return ee(e,[{key:"get",value:function(e){var t=We(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ib?t:null}},{key:"hasIndex",value:function(e){return qe(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){de(t!==Z_,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Y_.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?kb(i,t.getCompare()):_b;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this,i=Ge(this.indexes_,(function(e,i){var a=We(r.indexSet_,i);if(de(a,"Missing index implementation for "+i),e===_b){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Y_.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),kb(o,a.getCompare())}return _b}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Y_(t.name,l))),c.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Ge(this.indexes_,(function(e){if(e===_b)return e;var r=n.get(t.name);return r?e.remove(new Y_(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return de(_b&&mb,"ChildrenNode.ts has not been loaded"),db=db||new e({".priority":_b},{".priority":mb})}}]),e}(),wb=function(){function e(t,n,r){J(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&hb(this.priorityNode_),this.children_.isEmpty()&&de(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return ee(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||pb}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?pb:t}},{key:"getChild",value:function(e){var t=A_(e);return null===t?this:this.getImmediateChild(t).getChild(D_(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(de(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Y_(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?pb:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=A_(e);if(null===n)return t;de(".priority"!==A_(e)||1===O_(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(D_(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(mb,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+cb(this.getPriority().val())+":"),this.forEachChild(mb,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Lk(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Y_(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Y_(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Y_(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Y_.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Y_.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Eb?-1:0}},{key:"withIndex",value:function(t){if(t===Z_||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Z_||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(mb),r=t.getIterator(mb),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Z_?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return pb||(pb=new e(new ib(ob),null,bb.Default))}}]),e}();wb.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Eb=new(function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.call(this,new ib(ob),wb.EMPTY_NODE,bb.Default)}return ee(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return wb.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(wb));Object.defineProperties(Y_,{MIN:{value:new Y_(Kk,wb.EMPTY_NODE)},MAX:{value:new Y_(Gk,Eb)}}),J_.__EMPTY_NODE=wb.EMPTY_NODE,fb.__childrenNodeConstructor=wb,nb=Eb,function(e){lb=e}(Eb);function Sb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return wb.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),de(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new fb(n,Sb(t))}if(e instanceof Array){var r=wb.EMPTY_NODE;return Zk(e,(function(t,n){if(qe(e,t)&&"."!==t.substring(0,1)){var i=Sb(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Sb(t))}var i=[],a=!1,o=e;if(Zk(o,(function(e,t){if("."!==e.substring(0,1)){var n=Sb(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Y_(e,n)))}})),0===i.length)return wb.EMPTY_NODE;var s=kb(i,ab,(function(e){return e.name}),ob);if(a){var u=kb(i,mb.getCompare());return new wb(s,Sb(t),new bb({".priority":u},{".priority":mb}))}return new wb(s,Sb(t),bb.Default)}!function(e){ub=e}(Sb);var xb=function(e){re(n,e);var t=se(n);function n(e){var r;return J(this,n),(r=t.call(this)).indexPath_=e,de(!j_(e)&&".priority"!==A_(e),"Can't create PathIndex with empty path or .priority key"),r}return ee(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Qk(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Sb(e),r=wb.EMPTY_NODE.updateChild(this.indexPath_,n);return new Y_(t,r)}},{key:"maxPost",value:function(){var e=wb.EMPTY_NODE.updateChild(this.indexPath_,Eb);return new Y_(Gk,e)}},{key:"toString",value:function(){return M_(this.indexPath_,0).join("/")}}]),n}(X_),Tb=function(e){re(n,e);var t=se(n);function n(){return J(this,n),t.apply(this,arguments)}return ee(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Qk(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Y_.MIN}},{key:"maxPost",value:function(){return Y_.MAX}},{key:"makePost",value:function(e,t){var n=Sb(e);return new Y_(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(X_),Cb=new Tb;function Ib(e){return{type:"value",snapshotNode:e}}function Nb(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Pb(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Rb(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Ab=function(){function e(){J(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mb}return ee(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return de(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return de(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kk}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return de(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return de(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gk}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return de(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===mb}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Ob(e){var t,n={};if(e.isDefault())return n;if(e.index_===mb?t="$priority":e.index_===Cb?t="$value":e.index_===Z_?t="$key":(de(e.index_ instanceof xb,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Be(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Be(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Be(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Be(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Be(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Db(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==mb&&(t.i=e.index_.toString()),t}var Lb=function(e){re(n,e);var t=se(n);function n(e,r,i,a){var o;return J(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=zk("p:rest:"),o.listens_={},o}return ee(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=Ob(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),We(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Ob(e._queryParams),r=e._path.toString(),i=new Ne;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=l(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Ye(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=ze(c.responseText)}catch(n){qk("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&qk("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(de(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(C_),Mb=function(){function e(){J(this,e),this.rootNode_=wb.EMPTY_NODE}return ee(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Fb(){return{value:null,children:new Map}}function Ub(e,t,n){if(j_(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=A_(t);e.children.has(r)||e.children.set(r,Fb()),Ub(e.children.get(r),t=D_(t),n)}}function jb(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){jb(r,new P_(t.toString()+"/"+e),n)}))}var Vb,zb=function(){function e(t){J(this,e),this.collection_=t,this.last_=null}return ee(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Zk(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Bb=function(){function e(t,n){J(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new zb(t);var r=1e4+2e4*Math.random();i_(this.reportStats_.bind(this),Math.floor(r))}return ee(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Zk(t,(function(t,i){i>0&&qe(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),i_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Hb(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vb||(Vb={}));var qb,Wb=function(){function e(t,n,r){J(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Vb.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return ee(e,[{key:"operationForChild",value:function(t){if(j_(this.path)){if(null!=this.affectedTree.value)return de(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new P_(t));return new e(R_(),n,this.revert)}return de(A_(this.path)===t,"operationForChild called for unrelated child."),new e(D_(this.path),this.affectedTree,this.revert)}}]),e}(),Kb=function(){function e(t,n,r){J(this,e),this.source=t,this.path=n,this.snap=r,this.type=Vb.OVERWRITE}return ee(e,[{key:"operationForChild",value:function(t){return j_(this.path)?new e(this.source,R_(),this.snap.getImmediateChild(t)):new e(this.source,D_(this.path),this.snap)}}]),e}(),Gb=function(){function e(t,n,r){J(this,e),this.source=t,this.path=n,this.children=r,this.type=Vb.MERGE}return ee(e,[{key:"operationForChild",value:function(t){if(j_(this.path)){var n=this.children.subtree(new P_(t));return n.isEmpty()?null:n.value?new Kb(this.source,R_(),n.value):new e(this.source,R_(),n)}return de(A_(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,D_(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Qb=function(){function e(t,n,r){J(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return ee(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(j_(e))return this.isFullyInitialized()&&!this.filtered_;var t=A_(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function $b(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw pe("Should only compare child_ events.");var r=new Y_(t.childName,t.snapshotNode),i=new Y_(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Yb(e,t){return{eventCache:e,serverCache:t}}function Xb(e,t,n,r){return Yb(new Qb(t,n,r),e.serverCache)}function Jb(e,t,n,r){return Yb(e.eventCache,new Qb(t,n,r))}function Zb(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ew(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var tw=function(){return qb||(qb=new ib($k)),qb},nw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tw();J(this,e),this.value=t,this.children=n}return ee(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:R_(),value:this.value};if(j_(e))return null;var n=A_(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(D_(e),t);return null!=i?{path:U_(new P_(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(j_(t))return this;var n=A_(t),r=this.children.get(n);return null!==r?r.subtree(D_(t)):new e(null)}},{key:"set",value:function(t,n){if(j_(t))return new e(n,this.children);var r=A_(t),i=(this.children.get(r)||new e(null)).set(D_(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(j_(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=A_(t),r=this.children.get(n);if(r){var i,a=r.remove(D_(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(j_(e))return this.value;var t=A_(e),n=this.children.get(t);return n?n.get(D_(e)):null}},{key:"setTree",value:function(t,n){if(j_(t))return n;var r,i=A_(t),a=(this.children.get(i)||new e(null)).setTree(D_(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(R_(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(U_(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,R_(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(j_(e))return null;var i=A_(e),a=this.children.get(i);return a?a.findOnPath_(D_(e),U_(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,R_(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(j_(t))return this;this.value&&r(n,this.value);var i=A_(t),a=this.children.get(i);return a?a.foreachOnPath_(D_(t),U_(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(R_(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(U_(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Zk(t,(function(e,t){n=n.set(new P_(e),t)})),n}}]),e}(),rw=function(){function e(t){J(this,e),this.writeTree_=t}return ee(e,null,[{key:"empty",value:function(){return new e(new nw(null))}}]),e}();function iw(e,t,n){if(j_(t))return new rw(new nw(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=V_(i,t);return a=a.updateChild(o,n),new rw(e.writeTree_.set(i,a))}var s=new nw(n),u=e.writeTree_.setTree(t,s);return new rw(u)}function aw(e,t,n){var r=e;return Zk(n,(function(e,n){r=iw(r,U_(t,e),n)})),r}function ow(e,t){if(j_(t))return rw.empty();var n=e.writeTree_.setTree(t,new nw(null));return new rw(n)}function sw(e,t){return null!=uw(e,t)}function uw(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(V_(n.path,t)):null}function lw(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(mb,(function(e,n){t.push(new Y_(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Y_(e,n.value))})),t}function cw(e,t){if(j_(t))return e;var n=uw(e,t);return new rw(null!=n?new nw(n):e.writeTree_.subtree(t))}function hw(e){return e.writeTree_.isEmpty()}function fw(e,t){return dw(R_(),e.writeTree_,t)}function dw(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(de(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=dw(U_(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(U_(e,".priority"),r)),n}function pw(e,t){return Iw(t,e)}function vw(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function mw(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));de(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&yw(s,r.path)?i=!1:B_(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=kw(e.allWrites,gw,R_()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=ow(e.visibleWrites,r.path):Zk(r.children,(function(t){e.visibleWrites=ow(e.visibleWrites,U_(r.path,t))}));return!0}return!1}function yw(e,t){if(e.snap)return B_(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&B_(U_(e.path,n),t))return!0;return!1}function gw(e){return e.visible}function kw(e,t,n){for(var r=rw.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)B_(n,o)?r=iw(r,s=V_(n,o),a.snap):B_(o,n)&&(s=V_(o,n),r=iw(r,R_(),a.snap.getChild(s)));else{if(!a.children)throw pe("WriteRecord should have .snap or .children");if(B_(n,o))r=aw(r,s=V_(n,o),a.children);else if(B_(o,n))if(j_(s=V_(o,n)))r=aw(r,R_(),a.children);else{var u=We(a.children,A_(s));if(u){var l=u.getChild(D_(s));r=iw(r,R_(),l)}}}}}return r}function _w(e,t,n,r,i){if(r||i){var a=cw(e.visibleWrites,t);if(!i&&hw(a))return n;if(i||null!=n||sw(a,R_())){return fw(kw(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(B_(e.path,t)||B_(t,e.path))}),t),n||wb.EMPTY_NODE)}return null}var o=uw(e.visibleWrites,t);if(null!=o)return o;var s=cw(e.visibleWrites,t);return hw(s)?n:null!=n||sw(s,R_())?fw(s,n||wb.EMPTY_NODE):null}function bw(e,t,n,r){return _w(e.writeTree,e.treePath,t,n,r)}function ww(e,t){return function(e,t,n){var r=wb.EMPTY_NODE,i=uw(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(mb,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=cw(e.visibleWrites,t);return n.forEachChild(mb,(function(e,t){var n=fw(cw(a,new P_(e)),t);r=r.updateImmediateChild(e,n)})),lw(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return lw(cw(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ew(e,t,n,r){return function(e,t,n,r,i){de(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=U_(t,n);if(sw(e.visibleWrites,a))return null;var o=cw(e.visibleWrites,a);return hw(o)?i.getChild(n):fw(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Sw(e,t){return function(e,t){return uw(e.visibleWrites,t)}(e.writeTree,U_(e.treePath,t))}function xw(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=cw(e.visibleWrites,t),l=uw(u,R_());if(null!=l)s=l;else{if(null==n)return[];s=fw(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&c.length<i;)0!==h(d,r)&&c.push(d),d=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function Tw(e,t,n){return function(e,t,n,r){var i=U_(t,n),a=uw(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?fw(cw(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Cw(e,t){return Iw(U_(e.treePath,t),e.writeTree)}function Iw(e,t){return{treePath:e,writeTree:t}}var Nw=function(){function e(){J(this,e),this.changeMap=new Map}return ee(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;de("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),de(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Rb(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Pb(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Nb(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw pe("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Rb(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Pw=new(function(){function e(){J(this,e)}return ee(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Rw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;J(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return ee(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Qb(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tw(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ew(this.viewCache_),i=xw(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Aw(e,t,n,r,i){var a,o,s=new Nw;if(n.type===Vb.OVERWRITE){var u=n;u.source.fromUser?a=Lw(e,t,u.path,u.snap,r,i,s):(de(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!j_(u.path),a=Dw(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Vb.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=U_(n,r);Mw(t,A_(l))&&(s=Lw(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=U_(n,r);Mw(t,A_(l))||(s=Lw(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(de(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Uw(e,t,l.path,l.children,r,i,o,s))}else if(n.type===Vb.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=Sw(r,n))return t;var s,u=new Rw(r,t,i),l=t.eventCache.getNode();if(j_(n)||".priority"===A_(n)){var c;if(t.serverCache.isFullyInitialized())c=bw(r,ew(t));else{var h=t.serverCache.getNode();de(h instanceof wb,"serverChildren would be complete if leaf node"),c=ww(r,h)}s=e.filter.updateFullNode(l,c,a)}else{var f=A_(n),d=Tw(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=l.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(l,f,d,D_(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,wb.EMPTY_NODE,D_(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=bw(r,ew(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Sw(r,R_()),Xb(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Sw(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(j_(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Dw(e,t,n,u.getNode().getChild(n),i,a,s,o);if(j_(n)){var l=new nw(null);return u.getNode().forEachChild(Z_,(function(e,t){l=l.set(new P_(e),t)})),Uw(e,t,n,l,i,a,s,o)}return t}var c=new nw(null);return r.foreach((function(e,t){var r=U_(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Uw(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Vb.LISTEN_COMPLETE)throw pe("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Jb(t,a.getNode(),a.isFullyInitialized()||j_(n),a.isFiltered());return Ow(e,o,n,r,Pw,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Zb(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Ib(Zb(t)))}}(t,a,h),{viewCache:a,changes:h}}function Ow(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Sw(r,n))return t;if(j_(n))if(de(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=ew(t),c=ww(r,l instanceof wb?l:wb.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var h=bw(r,ew(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=A_(n);if(".priority"===f){de(1===O_(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Ew(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=D_(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var y=Ew(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(f).updateChild(m,y):u.getNode().getImmediateChild(f)}else v=Tw(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return Xb(t,o,u.isFullyInitialized()||j_(n),e.filter.filtersNodes())}function Dw(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(j_(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var f=A_(n);if(!l.isCompleteForPath(n)&&O_(n)>1)return t;var d=D_(n),p=l.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),f,p,d,Pw,null)}var v=Jb(t,u,l.isFullyInitialized()||j_(n),c.filtersNodes());return Ow(e,v,n,i,new Rw(i,v,a),s)}function Lw(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new Rw(i,t,a);if(j_(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Xb(t,u,!0,e.filter.filtersNodes());else{var h=A_(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Xb(t,u,l.isFullyInitialized(),l.isFiltered());else{var f,d=D_(n),p=l.getNode().getImmediateChild(h);if(j_(d))f=r;else{var v=c.getCompleteChild(h);f=null!=v?".priority"===L_(d)&&v.getChild(F_(d)).isEmpty()?v:v.updateChild(d,r):wb.EMPTY_NODE}if(p.equals(f))s=t;else s=Xb(t,e.filter.updateChild(l.getNode(),h,f,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Mw(e,t){return e.eventCache.isCompleteForChild(t)}function Fw(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Uw(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=j_(n)?r:new nw(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=Fw(0,t.serverCache.getNode().getImmediateChild(n),r);l=Dw(e,l,new P_(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var h=Fw(0,t.serverCache.getNode().getImmediateChild(n),r);l=Dw(e,l,new P_(n),h,i,a,o,s)}})),l}var jw;function Vw(e,t){var n=ew(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!j_(t)&&!n.getImmediateChild(A_(t)).isEmpty())?n.getChild(t):null}function zw(e,t,n,r){t.type===Vb.MERGE&&null!==t.source.queryId&&(de(ew(e.viewCache_),"We should always have a full cache before handling merges"),de(Zb(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Aw(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,de(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),de(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),de(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Bw(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Bw(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),$b(e,i,"child_removed",t,r,n),$b(e,i,"child_added",t,r,n),$b(e,i,"child_moved",a,r,n),$b(e,i,"child_changed",t,r,n),$b(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Hw;function qw(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return de(null!=a,"SyncTree gave us an op for an invalid query."),zw(a,t,n,r)}var o,s=[],u=Q(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(zw(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function Ww(e,t){var n,r=null,i=Q(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Vw(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var Kw=ee((function e(t){J(this,e),this.listenProvider_=t,this.syncPointTree_=new nw(null),this.pendingWriteTree_={visibleWrites:rw.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Gw(e,t,n,r,i){return function(e,t,n,r,i){de(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=iw(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Jw(e,new Kb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Qw(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=vw(e.pendingWriteTree_,t),i=mw(e.pendingWriteTree_,t);if(i){var a=new nw(null);return null!=r.snap?a=a.set(R_(),!0):Zk(r.children,(function(e){a=a.set(new P_(e),!0)})),Jw(e,new Wb(r.path,a,n))}return[]}function $w(e,t,n){return Jw(e,new Kb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Yw(e,t,n,r){var i=tE(e,r);if(null!=i){var a=nE(i),o=a.path,s=a.queryId,u=V_(o,t);return rE(e,o,new Kb(Hb(s),u,n))}return[]}function Xw(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Ww(n,V_(e,t));if(r)return r}));return _w(r,t,i,n,!0)}function Jw(e,t){return Zw(t,e.syncPointTree_,null,pw(e.pendingWriteTree_,R_()))}function Zw(e,t,n,r){if(j_(e.path))return eE(e,t,n,r);var i=t.get(R_());null==n&&null!=i&&(n=Ww(i,R_()));var a=[],o=A_(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=Cw(r,o);a=a.concat(Zw(s,u,l,c))}return i&&(a=a.concat(qw(i,e,r,n))),a}function eE(e,t,n,r){var i=t.get(R_());null==n&&null!=i&&(n=Ww(i,R_()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Cw(r,t),u=e.operationForChild(t);u&&(a=a.concat(eE(u,i,o,s)))})),i&&(a=a.concat(qw(i,e,r,n))),a}function tE(e,t){return e.tagToQueryMap.get(t)}function nE(e){var t=e.indexOf("$");return de(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new P_(e.substr(0,t))}}function rE(e,t,n){var r=e.syncPointTree_.get(t);return de(r,"Missing sync point for query tag that we're tracking"),qw(r,n,pw(e.pendingWriteTree_,t),null)}var iE=function(){function e(t){J(this,e),this.node_=t}return ee(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),aE=function(){function e(t,n){J(this,e),this.syncTree_=t,this.path_=n}return ee(e,[{key:"getImmediateChild",value:function(t){var n=U_(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Xw(this.syncTree_,this.path_)}}]),e}(),oE=function(e,t,n){return e&&"object"===typeof e?(de(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?sE(e[".sv"],t,n):"object"===typeof e[".sv"]?uE(e[".sv"],t):void de(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},sE=function(e,t,n){if("timestamp"===e)return n.timestamp;de(!1,"Unexpected server value: "+e)},uE=function(e,t,n){e.hasOwnProperty("increment")||de(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&de(!1,"Unexpected increment value: "+r);var i=t.node();if(de(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},lE=function(e,t,n,r){return hE(t,new aE(n,e),r)},cE=function(e,t,n){return hE(e,new iE(t),n)};function hE(e,t,n){var r,i=e.getPriority().val(),a=oE(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=oE(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new fb(s,Sb(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new fb(a))),u.forEachChild(mb,(function(e,i){var a=hE(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var fE=ee((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};J(this,e),this.name=t,this.parent=n,this.node=r}));function dE(e,t){for(var n=t instanceof P_?t:new P_(t),r=e,i=A_(n);null!==i;){var a=We(r.node.children,i)||{children:{},childCount:0};r=new fE(i,r,a),i=A_(n=D_(n))}return r}function pE(e){return e.node.value}function vE(e,t){e.node.value=t,_E(e)}function mE(e){return e.node.childCount>0}function yE(e,t){Zk(e.node.children,(function(n,r){t(new fE(n,e,r))}))}function gE(e,t,n,r){n&&!r&&t(e),yE(e,(function(e){gE(e,t,!0,r)})),n&&r&&t(e)}function kE(e){return new P_(null===e.parent?e.name:kE(e.parent)+"/"+e.name)}function _E(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===pE(e)&&!mE(e)}(n),i=qe(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,_E(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,_E(e))}(e.parent,e.name,e)}var bE=/[\[\].#$\/\u0000-\u001F\u007F]/,wE=/[\[\].#$\u0000-\u001F\u007F]/,EE=10485760,SE=function(e){return"string"===typeof e&&0!==e.length&&!bE.test(e)},xE=function(e){return"string"===typeof e&&0!==e.length&&!wE.test(e)},TE=function e(t,n,r){var i=r instanceof P_?new H_(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+W_(i));if("function"===typeof n)throw new Error(t+"contains a function "+W_(i)+" with contents = "+n.toString());if(Wk(n))throw new Error(t+"contains "+n.toString()+" "+W_(i));if("string"===typeof n&&n.length>EE/3&&rt(n)>EE)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+W_(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Zk(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!SE(n)))throw new Error(t+" contains an invalid key ("+n+") "+W_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=rt(t),q_(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=rt(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+W_(i)+" in addition to actual children.")}},CE=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!SE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),xE(e)}(n))throw new Error(nt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},IE=ee((function e(){J(this,e),this.eventLists_=[],this.recursionDepth_=0}));function NE(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||z_(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function PE(e,t,n){NE(e,n),RE(e,(function(e){return B_(e,t)||B_(t,e)}))}function RE(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(AE(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function AE(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Fk&&Vk("event: "+n.toString()),r_(r)}}}var OE="repo_interrupt",DE=function(){function e(t,n,r,i){J(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fb(),this.transactionQueueTree_=new fE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return ee(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function LE(e,t,n){if(e.stats_=y_(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Lb(e.repoInfo_,(function(t,n,r,i){UE(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return jE(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Q_(e.repoInfo_,t,(function(t,n,r,i){UE(e,t,n,r,i)}),(function(t){jE(e,t)}),(function(t){!function(e,t){Zk(t,(function(t,n){VE(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return m_[n]||(m_[n]=t()),m_[n]}(e.repoInfo_,(function(){return new Bb(e.stats_,e.server_)})),e.infoData_=new Mb,e.infoSyncTree_=new Kw({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=$w(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),VE(e,"connected",!1),e.serverSyncTree_=new Kw({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);PE(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ME(e){var t=e.infoData_.getNode(new P_(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function FE(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:ME(e)})}function UE(e,t,n,r,i){e.dataUpdateCount++;var a=new P_(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Ge(n,(function(e){return Sb(e)}));o=function(e,t,n,r){var i=tE(e,r);if(i){var a=nE(i),o=a.path,s=a.queryId,u=V_(o,t),l=nw.fromObject(n);return rE(e,o,new Gb(Hb(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Sb(n);o=Yw(e.serverSyncTree_,a,u,i)}else if(r){var l=Ge(n,(function(e){return Sb(e)}));o=function(e,t,n){var r=nw.fromObject(n);return Jw(e,new Gb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=Sb(n);o=$w(e.serverSyncTree_,a,c)}var h=a;o.length>0&&(h=GE(e,a)),PE(e.eventQueue_,h,o)}function jE(e,t){VE(e,"connected",t),!1===t&&function(e){HE(e,"onDisconnectEvents");var t=FE(e),n=Fb();jb(e.onDisconnect_,R_(),(function(r,i){var a=lE(r,i,e.serverSyncTree_,t);Ub(n,r,a)}));var r=[];jb(n,R_(),(function(t,n){r=r.concat($w(e.serverSyncTree_,t,n));var i=JE(e,t);GE(e,i)})),e.onDisconnect_=Fb(),PE(e.eventQueue_,R_(),r)}(e)}function VE(e,t,n){var r=new P_("/.info/"+t),i=Sb(n);e.infoData_.updateSnapshot(r,i);var a=$w(e.infoSyncTree_,r,i);PE(e.eventQueue_,r,a)}function zE(e){return e.nextWriteId_++}function BE(e){e.persistentConnection_&&e.persistentConnection_.interrupt(OE)}function HE(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Vk.apply(void 0,[t].concat(r))}function qE(e,t,n){return Xw(e.serverSyncTree_,t,n)||wb.EMPTY_NODE}function WE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||XE(e,t),pE(t)){var n=$E(e,t);de(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&KE(e,kE(t),n)}else mE(t)&&yE(t,(function(t){WE(e,t)}))}function KE(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=qE(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];de(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=V_(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),h=t;e.server_.put(h.toString(),c,(function(r){HE(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Qw(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);XE(e,dE(e.transactionQueueTree_,t)),WE(e,e.transactionQueueTree_),PE(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)r_(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{qk("transaction at "+h.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}GE(e,t)}}),o)}function GE(e,t){var n=QE(e,t),r=kE(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],l=V_(n,u.path),c=!1,h=void 0;if(de(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,h=u.abortReason,i=i.concat(Qw(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,h="maxretry",i=i.concat(Qw(e.serverSyncTree_,u.currentWriteId,!0));else{var f=qE(e,u.path,o);u.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){TE("transaction failed: Data returned ",d,u.path);var p=Sb(d);"object"===typeof d&&null!=d&&qe(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,m=FE(e),y=cE(p,f,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=zE(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Gw(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(Qw(e.serverSyncTree_,v,!0))}else c=!0,h="nodata",i=i.concat(Qw(e.serverSyncTree_,u.currentWriteId,!0))}PE(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===h?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(h),!1,null)}))))},u=0;u<t.length;u++)s(u);XE(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)r_(r[l]);WE(e,e.transactionQueueTree_)}(e,$E(e,n),r),r}function QE(e,t){var n,r=e.transactionQueueTree_;for(n=A_(t);null!==n&&void 0===pE(r);)r=dE(r,n),n=A_(t=D_(t));return r}function $E(e,t){var n=[];return YE(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function YE(e,t,n){var r=pE(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);yE(t,(function(t){YE(e,t,n)}))}function XE(e,t){var n=pE(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,vE(t,n.length>0?n:void 0)}yE(t,(function(t){XE(e,t)}))}function JE(e,t){var n=kE(QE(e,t)),r=dE(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ZE(e,t)})),ZE(e,r),gE(r,(function(t){ZE(e,t)})),n}function ZE(e,t){var n=pE(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(de(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(de(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Qw(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?vE(t,void 0):n.length=a+1,PE(e.eventQueue_,kE(t),i);for(var s=0;s<r.length;s++)r_(r[s])}}var eS=function(e,t){var n=tS(e),r=n.namespace;"firebase.com"===n.domain&&Hk(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Hk("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qk("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new f_(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new P_(n.pathString)}},tS=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Q(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):qk("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},nS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rS=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){J(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return ee(e,[{key:"key",get:function(){return j_(this._path)?null:L_(this._path)}},{key:"ref",get:function(){return new iS(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Db(this._queryParams),t=Xk(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Db(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=it(t))instanceof e))return!1;var n=this._repo===t._repo,r=z_(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}());var iS=function(e){re(n,e);var t=se(n);function n(e,r){return J(this,n),t.call(this,e,r,new Ab,!1)}return ee(n,[{key:"parent",get:function(){var e=F_(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(rS);!function(e){de(!jw,"__referenceConstructor has already been defined"),jw=e}(iS),function(e){de(!Hw,"__referenceConstructor has already been defined"),Hw=e}(iS);var aS={},oS=!1;function sS(e,t,n,r){e.repoInfo_=new f_("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function uS(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Hk("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vk("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=eS(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/VChat_Data",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=eS(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new s_(s_.OWNER):new o_(e.name,e.options,t);CE("Invalid Firebase Database URL",s),j_(s.path)||Hk("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=aS[t.name];i||(i={},aS[t.name]=i);var a=i[e.toURLString()];a&&Hk("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new DE(e,oS,n,r),i[e.toURLString()]=a,a}(u,e,c,new a_(e.name,n));return new lS(h,e)}var lS=function(){function e(t,n){J(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return ee(e,[{key:"_repo",get:function(){return this._instanceStarted||(LE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new iS(this._repo,R_())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=aS[t];n&&n[e.key]===e||Hk("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),BE(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Hk("Cannot call "+e+" on a deleted database.")}}]),e}();function cS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=it(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Hk("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Hk('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new s_(s_.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Pe(r.mockUserToken,e.app.options.projectId);a=new s_(o)}sS(i,t,n,a)}Q_.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Q_.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Ck(Jt),Gt(new at("database",(function(e,t){var n=t.instanceIdentifier;return uS(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),tn(Sk,xk,e),tn(Sk,xk,"esm2017")}();var hS=Zt({apiKey:"AIzaSyA9a35tXxnbm1E3TMN7edzw03HEG9cjFGY",authDomain:"hosting-c26ea.firebaseapp.com",projectId:"hosting-c26ea",storageBucket:"hosting-c26ea.appspot.com",messagingSenderId:"492233370812",appId:"1:492233370812:web:f4d7d98bd15b40f50db4b9"}),fS=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en(),t=Qt(e,"auth");if(t.isInitialized())return t.getImmediate();var n=ai(e,{popupRedirectResolver:Ro,persistence:[Ia,na,ia]}),r=Ie("authTokenSyncURL");if(r){var i=qo(r);$i(n,i,(function(){return i(n.currentUser)})),Qi(n,(function(e){return i(e)}))}var a=xe("auth");a&&oi(n,"http://".concat(a))}(hS),new Li,new Mi,new Di,new Oi("microsoft.com"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en(),t=arguments.length>1?arguments[1]:void 0,n=Qt(e=it(e),kk),r=n.getImmediate({identifier:t}),i=Te("storage");return i&&wk.apply(void 0,[r].concat(G(i))),r}(hS)),dS=(py(hS),py(hS)),pS=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en(),t=arguments.length>1?arguments[1]:void 0,n=Qt(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=Te("database");r&&cS.apply(void 0,[n].concat(G(r)))}}(hS),{color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0}),vS=t.createContext&&t.createContext(pS),mS=function(){return mS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mS.apply(this,arguments)},yS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function gS(e){return e&&e.map((function(e,n){return t.createElement(e.tag,mS({key:n},e.attr),gS(e.child))}))}function kS(e){return function(n){return t.createElement(_S,mS({attr:mS({},e.attr)},n),gS(e.child))}}function _S(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=yS(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",mS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:mS(mS({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==vS?t.createElement(vS.Consumer,null,(function(e){return n(e)})):n(pS)}function bS(e){return kS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}},{tag:"path",attr:{d:"M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"}}]})(e)}function wS(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ES(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function SS(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=SS(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var xS=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=SS(e))&&(r&&(r+=" "),r+=t);return r};var TS=!!r.useInsertionEffect&&r.useInsertionEffect,CS=TS||function(e){return e()};TS||t.useLayoutEffect;var IS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function NS(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var PS=/[A-Z]|^ms/g,RS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,AS=function(e){return 45===e.charCodeAt(1)},OS=function(e){return null!=e&&"boolean"!==typeof e},DS=NS((function(e){return AS(e)?e:e.replace(PS,"-$&").toLowerCase()})),LS=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(RS,(function(e,t,n){return FS={name:t,styles:n,next:FS},t}))}return 1===IS[e]||AS(e)||"number"!==typeof t||0===t?t:t+"px"};function MS(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return FS={name:n.name,styles:n.styles,next:FS},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)FS={name:r.name,styles:r.styles,next:FS},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=MS(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":OS(o)&&(r+=DS(a)+":"+LS(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=MS(e,t,o);switch(a){case"animation":case"animationName":r+=DS(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)OS(o[u])&&(r+=DS(a)+":"+LS(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=FS,a=n(e);return FS=i,MS(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var FS,US=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var jS=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";FS=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=MS(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=MS(n,t,e[o]),r&&(i+=a[o]);US.lastIndex=0;for(var s,u="";null!==(s=US.exec(i));)u+="-"+s[1];var l=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+u;return{name:l,styles:i,next:FS}};var VS=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),zS=Math.abs,BS=String.fromCharCode,HS=Object.assign;function qS(e){return e.trim()}function WS(e,t,n){return e.replace(t,n)}function KS(e,t){return e.indexOf(t)}function GS(e,t){return 0|e.charCodeAt(t)}function QS(e,t,n){return e.slice(t,n)}function $S(e){return e.length}function YS(e){return e.length}function XS(e,t){return t.push(e),e}var JS=1,ZS=1,ex=0,tx=0,nx=0,rx="";function ix(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:JS,column:ZS,length:o,return:""}}function ax(e,t){return HS(ix("",null,null,"",null,null,0),e,{length:-e.length},t)}function ox(){return nx=tx>0?GS(rx,--tx):0,ZS--,10===nx&&(ZS=1,JS--),nx}function sx(){return nx=tx<ex?GS(rx,tx++):0,ZS++,10===nx&&(ZS=1,JS++),nx}function ux(){return GS(rx,tx)}function lx(){return tx}function cx(e,t){return QS(rx,e,t)}function hx(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fx(e){return JS=ZS=1,ex=$S(rx=e),tx=0,[]}function dx(e){return rx="",e}function px(e){return qS(cx(tx-1,yx(91===e?e+2:40===e?e+1:e)))}function vx(e){for(;(nx=ux())&&nx<33;)sx();return hx(e)>2||hx(nx)>3?"":" "}function mx(e,t){for(;--t&&sx()&&!(nx<48||nx>102||nx>57&&nx<65||nx>70&&nx<97););return cx(e,lx()+(t<6&&32==ux()&&32==sx()))}function yx(e){for(;sx();)switch(nx){case e:return tx;case 34:case 39:34!==e&&39!==e&&yx(nx);break;case 40:41===e&&yx(e);break;case 92:sx()}return tx}function gx(e,t){for(;sx()&&e+nx!==57&&(e+nx!==84||47!==ux()););return"/*"+cx(t,tx-1)+"*"+BS(47===e?e:sx())}function kx(e){for(;!hx(ux());)sx();return cx(e,tx)}var _x="-ms-",bx="-moz-",wx="-webkit-",Ex="comm",Sx="rule",xx="decl",Tx="@keyframes";function Cx(e,t){for(var n="",r=YS(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Ix(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case xx:return e.return=e.return||e.value;case Ex:return"";case Tx:return e.return=e.value+"{"+Cx(e.children,r)+"}";case Sx:e.value=e.props.join(",")}return $S(n=Cx(e.children,r))?e.return=e.value+"{"+n+"}":""}function Nx(e){return function(t){t.root||(t=t.return)&&e(t)}}function Px(e){return dx(Rx("",null,null,null,[""],e=fx(e),0,[0],e))}function Rx(e,t,n,r,i,a,o,s,u){for(var l=0,c=0,h=o,f=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",_=i,b=a,w=r,E=k;m;)switch(p=g,g=sx()){case 40:if(108!=p&&58==GS(E,h-1)){-1!=KS(E+=WS(px(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:E+=px(g);break;case 9:case 10:case 13:case 32:E+=vx(p);break;case 92:E+=mx(lx()-1,7);continue;case 47:switch(ux()){case 42:case 47:XS(Ox(gx(sx(),lx()),t,n),u);break;default:E+="/"}break;case 123*v:s[l++]=$S(E)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+c:-1==y&&(E=WS(E,/\f/g,"")),d>0&&$S(E)-h&&XS(d>32?Dx(E+";",r,n,h-1):Dx(WS(E," ","")+";",r,n,h-2),u);break;case 59:E+=";";default:if(XS(w=Ax(E,t,n,l,c,i,s,k,_=[],b=[],h),a),123===g)if(0===c)Rx(E,t,w,w,_,a,h,s,b);else switch(99===f&&110===GS(E,3)?100:f){case 100:case 108:case 109:case 115:Rx(e,w,w,r&&XS(Ax(e,w,w,0,0,i,s,k,i,_=[],h),b),i,b,h,s,r?_:b);break;default:Rx(E,w,w,w,[""],b,0,s,b)}}l=c=d=0,v=y=1,k=E="",h=o;break;case 58:h=1+$S(E),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==ox())continue;switch(E+=BS(g),g*v){case 38:y=c>0?1:(E+="\f",-1);break;case 44:s[l++]=($S(E)-1)*y,y=1;break;case 64:45===ux()&&(E+=px(sx())),f=ux(),c=h=$S(k=E+=kx(lx())),g++;break;case 45:45===p&&2==$S(E)&&(v=0)}}return a}function Ax(e,t,n,r,i,a,o,s,u,l,c){for(var h=i-1,f=0===i?a:[""],d=YS(f),p=0,v=0,m=0;p<r;++p)for(var y=0,g=QS(e,h+1,h=zS(v=o[p])),k=e;y<d;++y)(k=qS(v>0?f[y]+" "+g:WS(g,/&\f/g,f[y])))&&(u[m++]=k);return ix(e,t,n,0===i?Sx:s,u,l,c)}function Ox(e,t,n){return ix(e,t,n,Ex,BS(nx),QS(e,2,-2),0)}function Dx(e,t,n,r){return ix(e,t,n,xx,QS(e,0,r),QS(e,r+1,-1),r)}var Lx=function(e,t,n){for(var r=0,i=0;r=i,i=ux(),38===r&&12===i&&(t[n]=1),!hx(i);)sx();return cx(e,tx)},Mx=function(e,t){return dx(function(e,t){var n=-1,r=44;do{switch(hx(r)){case 0:38===r&&12===ux()&&(t[n]=1),e[n]+=Lx(tx-1,t,n);break;case 2:e[n]+=px(r);break;case 4:if(44===r){e[++n]=58===ux()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=BS(r)}}while(r=sx());return e}(fx(e),t))},Fx=new WeakMap,Ux=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Fx.get(n))&&!r){Fx.set(e,!0);for(var i=[],a=Mx(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var l=0;l<o.length;l++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[l]):o[l]+" "+a[s]}}},jx=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Vx(e,t){switch(function(e,t){return 45^GS(e,0)?(((t<<2^GS(e,0))<<2^GS(e,1))<<2^GS(e,2))<<2^GS(e,3):0}(e,t)){case 5103:return"-webkit-print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wx+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return wx+e+bx+e+_x+e+e;case 6828:case 4268:return wx+e+_x+e+e;case 6165:return wx+e+_x+"flex-"+e+e;case 5187:return wx+e+WS(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return wx+e+_x+"flex-item-"+WS(e,/flex-|-self/,"")+e;case 4675:return wx+e+_x+"flex-line-pack"+WS(e,/align-content|flex-|-self/,"")+e;case 5548:return wx+e+_x+WS(e,"shrink","negative")+e;case 5292:return wx+e+_x+WS(e,"basis","preferred-size")+e;case 6060:return"-webkit-box-"+WS(e,"-grow","")+wx+e+_x+WS(e,"grow","positive")+e;case 4554:return wx+WS(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return WS(WS(WS(e,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),e,"")+e;case 5495:case 3959:return WS(e,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return WS(WS(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+wx+e+e;case 4095:case 3583:case 4068:case 2532:return WS(e,/(.+)-inline(.+)/,"-webkit-$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($S(e)-1-t>6)switch(GS(e,t+1)){case 109:if(45!==GS(e,t+4))break;case 102:return WS(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==GS(e,t+3)?"$3":"$2-$3"))+e;case 115:return~KS(e,"stretch")?Vx(WS(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==GS(e,t+1))break;case 6444:switch(GS(e,$S(e)-3-(~KS(e,"!important")&&10))){case 107:return WS(e,":",":-webkit-")+e;case 101:return WS(e,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===GS(e,14)?"inline-":"")+"box$3$1"+"-webkit-$2$3$1"+"-ms-$2box$3")+e}break;case 5936:switch(GS(e,t+11)){case 114:return wx+e+_x+WS(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return wx+e+_x+WS(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return wx+e+_x+WS(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return wx+e+_x+e+e}return e}var zx=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case xx:e.return=Vx(e.value,e.length);break;case Tx:return Cx([ax(e,{value:WS(e.value,"@","@-webkit-")})],r);case Sx:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cx([ax(e,{props:[WS(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Cx([ax(e,{props:[WS(t,/:(plac\w+)/,":-webkit-input-$1")]}),ax(e,{props:[WS(t,/:(plac\w+)/,":-moz-$1")]}),ax(e,{props:[WS(t,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}],Bx=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||zx;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u=[Ux,jx];var l,c=[Ix,Nx((function(e){l.insert(e)}))],h=function(e){var t=YS(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(u.concat(r,c));a=function(e,t,n,r){l=n,Cx(Px(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new VS({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return f.sheet.hydrate(s),f};n(861);function Hx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jS(t)}var qx=function(){var e=Hx.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Wx(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Kx(e){if("string"!==typeof e)throw new Error(Wx(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Gx=Kx;function Qx(e,t){var n=c({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=c({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=c({},a),Object.keys(i).forEach((function(e){n[r][e]=Qx(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function $x(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Qx(t.components[n].defaultProps,r):r}function Yx(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Xx(e){if(!Yx(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=Xx(e[n])})),t}function Jx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return Yx(e)&&Yx(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Yx(t[i])&&i in e&&Yx(e[i])?r[i]=Jx(e[i],t[i],n):n.clone?r[i]=Yx(t[i])?Xx(t[i]):t[i]:r[i]=t[i])})),r}var Zx=["values","unit","step"];function eT(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=ES(e,Zx),u=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return c({},e,X({},t.key,t.val))}),{})}(n),l=Object.keys(u);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function d(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return c({keys:l,values:u,up:h,down:f,between:d,only:function(e){return l.indexOf(e)+1<l.length?d(e,l[l.indexOf(e)+1]):h(e)},not:function(e){var t=l.indexOf(e);return 0===t?h(l[1]):t===l.length-1?f(l[t]):d(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}var tT={borderRadius:4},nT={xs:0,sm:600,md:900,lg:1200,xl:1536},rT={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(nT[e],"px)")}};function iT(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||rT;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||rT;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||nT).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function aT(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function oT(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function sT(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function uT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:sT(e,n)||i,t&&(r=t(r,i,e)),r}var lT=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=sT(e.theme,i)||{};return iT(e,n,(function(e){var n=uT(o,a,e);return e===n&&"string"===typeof e&&(n=uT(o,a,"".concat(t).concat("default"===e?"":Kx(e)),e)),!1===r?n:X({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var cT=function(e,t){return t?Jx(e,t,{clone:!1}):e};var hT={m:"margin",p:"padding"},fT={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},dT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},pT=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!dT[e])return[e];e=dT[e]}var t=l(e.split(""),2),n=t[0],r=t[1],i=hT[n],a=fT[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),vT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],mT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],yT=[].concat(vT,mT);function gT(e,t,n,r){var i,a=null!=(i=sT(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function kT(e){return gT(e,"spacing",8)}function _T(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function bT(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=_T(t,n),e}),{})}}(pT(n),r);return iT(e,e[n],i)}function wT(e,t){var n=kT(e.theme);return Object.keys(e).map((function(r){return bT(e,t,r,n)})).reduce(cT,{})}function ET(e){return wT(e,vT)}function ST(e){return wT(e,mT)}function xT(e){return wT(e,yT)}ET.propTypes={},ET.filterProps=vT,ST.propTypes={},ST.filterProps=mT,xT.propTypes={},xT.filterProps=yT;function TT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=kT({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var CT=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?cT(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function IT(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var NT=lT({prop:"border",themeKey:"borders",transform:IT}),PT=lT({prop:"borderTop",themeKey:"borders",transform:IT}),RT=lT({prop:"borderRight",themeKey:"borders",transform:IT}),AT=lT({prop:"borderBottom",themeKey:"borders",transform:IT}),OT=lT({prop:"borderLeft",themeKey:"borders",transform:IT}),DT=lT({prop:"borderColor",themeKey:"palette"}),LT=lT({prop:"borderTopColor",themeKey:"palette"}),MT=lT({prop:"borderRightColor",themeKey:"palette"}),FT=lT({prop:"borderBottomColor",themeKey:"palette"}),UT=lT({prop:"borderLeftColor",themeKey:"palette"}),jT=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=gT(e.theme,"shape.borderRadius",4);return iT(e,e.borderRadius,(function(e){return{borderRadius:_T(t,e)}}))}return null};jT.propTypes={},jT.filterProps=["borderRadius"];CT(NT,PT,RT,AT,OT,DT,LT,MT,FT,UT,jT);var VT=function(e){if(void 0!==e.gap&&null!==e.gap){var t=gT(e.theme,"spacing",8);return iT(e,e.gap,(function(e){return{gap:_T(t,e)}}))}return null};VT.propTypes={},VT.filterProps=["gap"];var zT=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=gT(e.theme,"spacing",8);return iT(e,e.columnGap,(function(e){return{columnGap:_T(t,e)}}))}return null};zT.propTypes={},zT.filterProps=["columnGap"];var BT=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=gT(e.theme,"spacing",8);return iT(e,e.rowGap,(function(e){return{rowGap:_T(t,e)}}))}return null};BT.propTypes={},BT.filterProps=["rowGap"];CT(VT,zT,BT,lT({prop:"gridColumn"}),lT({prop:"gridRow"}),lT({prop:"gridAutoFlow"}),lT({prop:"gridAutoColumns"}),lT({prop:"gridAutoRows"}),lT({prop:"gridTemplateColumns"}),lT({prop:"gridTemplateRows"}),lT({prop:"gridTemplateAreas"}),lT({prop:"gridArea"}));function HT(e,t){return"grey"===t?t:e}CT(lT({prop:"color",themeKey:"palette",transform:HT}),lT({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:HT}),lT({prop:"backgroundColor",themeKey:"palette",transform:HT}));function qT(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var WT=lT({prop:"width",transform:qT}),KT=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return iT(e,e.maxWidth,(function(t){var n,r,i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||nT[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:qT(t)}}))}return null};KT.filterProps=["maxWidth"];var GT=lT({prop:"minWidth",transform:qT}),QT=lT({prop:"height",transform:qT}),$T=lT({prop:"maxHeight",transform:qT}),YT=lT({prop:"minHeight",transform:qT}),XT=(lT({prop:"size",cssProperty:"width",transform:qT}),lT({prop:"size",cssProperty:"height",transform:qT}),CT(WT,KT,GT,QT,$T,YT,lT({prop:"boxSizing"})),{border:{themeKey:"borders",transform:IT},borderTop:{themeKey:"borders",transform:IT},borderRight:{themeKey:"borders",transform:IT},borderBottom:{themeKey:"borders",transform:IT},borderLeft:{themeKey:"borders",transform:IT},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jT},color:{themeKey:"palette",transform:HT},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:HT},backgroundColor:{themeKey:"palette",transform:HT},p:{style:ST},pt:{style:ST},pr:{style:ST},pb:{style:ST},pl:{style:ST},px:{style:ST},py:{style:ST},padding:{style:ST},paddingTop:{style:ST},paddingRight:{style:ST},paddingBottom:{style:ST},paddingLeft:{style:ST},paddingX:{style:ST},paddingY:{style:ST},paddingInline:{style:ST},paddingInlineStart:{style:ST},paddingInlineEnd:{style:ST},paddingBlock:{style:ST},paddingBlockStart:{style:ST},paddingBlockEnd:{style:ST},m:{style:ET},mt:{style:ET},mr:{style:ET},mb:{style:ET},ml:{style:ET},mx:{style:ET},my:{style:ET},margin:{style:ET},marginTop:{style:ET},marginRight:{style:ET},marginBottom:{style:ET},marginLeft:{style:ET},marginX:{style:ET},marginY:{style:ET},marginInline:{style:ET},marginInlineStart:{style:ET},marginInlineEnd:{style:ET},marginBlock:{style:ET},marginBlockStart:{style:ET},marginBlockEnd:{style:ET},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:VT},rowGap:{style:BT},columnGap:{style:zT},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:qT},maxWidth:{style:KT},minWidth:{transform:qT},height:{transform:qT},maxHeight:{transform:qT},minHeight:{transform:qT},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var JT=function(){function e(e,t,n,r){var i,a=(X(i={},e,t),X(i,"theme",n),i),o=r[e];if(!o)return X({},e,t);var s=o.cssProperty,u=void 0===s?e:s,l=o.themeKey,c=o.transform,h=o.style;if(null==t)return null;if("typography"===l&&"inherit"===t)return X({},e,t);var f=sT(n,l)||{};if(h)return h(a);return iT(a,t,(function(t){var n=uT(f,c,t);return t===n&&"string"===typeof t&&(n=uT(f,c,"".concat(e).concat("default"===t?"":Kx(t)),t)),!1===u?n:X({},u,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,s=void 0===o?{}:o;if(!a)return null;var u=null!=(r=s.unstable_sxConfig)?r:XT;function l(n){var r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;var i=aT(s.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,l=(i=r[n],a=s,"function"===typeof i?i(a):i);if(null!==l&&void 0!==l)if("object"===typeof l)if(u[n])o=cT(o,e(n,l,s,u));else{var c=iT({theme:s},l,(function(e){return X({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(c,l)?o=cT(o,c):o[n]=t({sx:l,theme:s})}else o=cT(o,e(n,l,s,u))})),oT(a,o)}return Array.isArray(a)?a.map(l):l(a)}}();JT.filterProps=["sx"];var ZT=JT,eC=["breakpoints","palette","spacing","shape"];var tC=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,u=ES(e,eC),l=eT(n),h=TT(a),f=Jx({breakpoints:l,direction:"ltr",components:{},palette:c({mode:"light"},i),spacing:h,shape:c({},tT,s)},u),d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return(f=p.reduce((function(e,t){return Jx(e,t)}),f)).unstable_sxConfig=c({},XT,null==u?void 0:u.unstable_sxConfig),f.unstable_sx=function(e){return ZT({sx:e,theme:this})},f},nC=t.createContext("undefined"!==typeof HTMLElement?Bx({key:"css"}):null);nC.Provider;var rC=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(nC);return e(n,i,r)}))};var iC=t.createContext({});function aC(e){return 0===Object.keys(e).length}var oC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t.useContext(iC);return!n||aC(n)?e:n},sC=tC();var uC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sC;return oC(e)};function lC(e,t){var n;return c({toolbar:(n={minHeight:56},X(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),X(n,e.up("sm"),{minHeight:64}),n)},t)}function cC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function hC(e){if(e.type)return e;if("#"===e.charAt(0))return hC(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Wx(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Wx(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function fC(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function dC(e){var t="hsl"===(e=hC(e)).type||"hsla"===e.type?hC(function(e){var t=(e=hC(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),fC({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function pC(e,t){if(e=hC(e),t=cC(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return fC(e)}function vC(e,t){if(e=hC(e),t=cC(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return fC(e)}var mC={black:"#000",white:"#fff"},yC={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},gC={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},kC={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},_C={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},bC={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},wC={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},EC={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},SC=["mode","contrastThreshold","tonalOffset"],xC={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:mC.white,default:mC.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},TC={text:{primary:mC.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:mC.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function CC(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=vC(e.main,i):"dark"===t&&(e.dark=pC(e.main,a)))}function IC(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,s=ES(e,SC),u=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:bC[200],light:bC[50],dark:bC[400]}:{main:bC[700],light:bC[400],dark:bC[800]}}(n),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:gC[200],light:gC[50],dark:gC[400]}:{main:gC[500],light:gC[300],dark:gC[700]}}(n),h=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:kC[500],light:kC[300],dark:kC[700]}:{main:kC[700],light:kC[400],dark:kC[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:wC[400],light:wC[300],dark:wC[700]}:{main:wC[700],light:wC[500],dark:wC[900]}}(n),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:EC[400],light:EC[300],dark:EC[700]}:{main:EC[800],light:EC[500],dark:EC[900]}}(n),p=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_C[400],light:_C[300],dark:_C[700]}:{main:"#ed6c02",light:_C[500],dark:_C[900]}}(n);function v(e){var t=function(e,t){var n=dC(e),r=dC(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,TC.text.primary)>=i?TC.text.primary:xC.text.primary;return t}var m=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,s=void 0===a?300:a,u=e.darkShade,l=void 0===u?700:u;if(!(t=c({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Wx(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Wx(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return CC(t,"light",s,o),CC(t,"dark",l,o),t.contrastText||(t.contrastText=v(t.main)),t},y={dark:TC,light:xC};return Jx(c({common:c({},mC),mode:n,primary:m({color:u,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:h,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:f,name:"info"}),success:m({color:d,name:"success"}),grey:yC,contrastThreshold:i,getContrastText:v,augmentColor:m,tonalOffset:o},y[n]),s)}var NC=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var PC={textTransform:"uppercase"},RC='"Roboto", "Helvetica", "Arial", sans-serif';function AC(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?RC:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,l=n.fontWeightRegular,h=void 0===l?400:l,f=n.fontWeightMedium,d=void 0===f?500:f,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,y=void 0===m?16:m,g=n.allVariants,k=n.pxToRem,_=ES(n,NC);var b=o/14,w=k||function(e){return"".concat(e/y*b,"rem")},E=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===RC?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,g);var o},S={h1:E(u,96,1.167,-1.5),h2:E(u,60,1.2,-.5),h3:E(h,48,1.167,0),h4:E(h,34,1.235,.25),h5:E(h,24,1.334,0),h6:E(d,20,1.6,.15),subtitle1:E(h,16,1.75,.15),subtitle2:E(d,14,1.57,.1),body1:E(h,16,1.5,.15),body2:E(h,14,1.43,.15),button:E(d,14,1.75,.4,PC),caption:E(h,12,1.66,.4),overline:E(h,12,2.66,1,PC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Jx(c({htmlFontSize:y,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:h,fontWeightMedium:d,fontWeightBold:v},S),_,{clone:!1})}function OC(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var DC=["none",OC(0,2,1,-1,0,1,1,0,0,1,3,0),OC(0,3,1,-2,0,2,2,0,0,1,5,0),OC(0,3,3,-2,0,3,4,0,0,1,8,0),OC(0,2,4,-1,0,4,5,0,0,1,10,0),OC(0,3,5,-1,0,5,8,0,0,1,14,0),OC(0,3,5,-1,0,6,10,0,0,1,18,0),OC(0,4,5,-2,0,7,10,1,0,2,16,1),OC(0,5,5,-3,0,8,10,1,0,3,14,2),OC(0,5,6,-3,0,9,12,1,0,3,16,2),OC(0,6,6,-3,0,10,14,1,0,4,18,3),OC(0,6,7,-4,0,11,15,1,0,4,20,3),OC(0,7,8,-4,0,12,17,2,0,5,22,4),OC(0,7,8,-4,0,13,19,2,0,5,24,4),OC(0,7,9,-4,0,14,21,2,0,5,26,4),OC(0,8,9,-5,0,15,22,2,0,6,28,5),OC(0,8,10,-5,0,16,24,2,0,6,30,5),OC(0,8,11,-5,0,17,26,2,0,6,32,5),OC(0,9,11,-5,0,18,28,2,0,7,34,6),OC(0,9,12,-6,0,19,29,2,0,7,36,6),OC(0,10,13,-6,0,20,31,3,0,8,38,7),OC(0,10,13,-6,0,21,33,3,0,8,40,7),OC(0,10,14,-6,0,22,35,3,0,8,42,7),OC(0,11,14,-7,0,23,36,3,0,9,44,8),OC(0,11,15,-7,0,24,38,3,0,9,46,8)],LC=["duration","easing","delay"],MC={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},FC={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function UC(e){return"".concat(Math.round(e),"ms")}function jC(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function VC(e){var t=c({},MC,e.easing),n=c({},FC,e.duration);return c({getAutoHeightDuration:jC,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,u=r.delay,l=void 0===u?0:u;ES(r,LC);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:UC(a)," ").concat(s," ").concat("string"===typeof l?l:UC(l))})).join(",")}},e,{easing:t,duration:n})}var zC={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},BC=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function HC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,s=e.typography,u=void 0===s?{}:s,l=ES(e,BC);if(e.vars)throw new Error(Wx(18));var h=IC(i),f=tC(e),d=Jx(f,{mixins:lC(f.breakpoints,n),palette:h,shadows:DC.slice(),typography:AC(h,u),transitions:VC(o),zIndex:c({},zC)});d=Jx(d,l);for(var p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return(d=v.reduce((function(e,t){return Jx(e,t)}),d)).unstable_sxConfig=c({},XT,null==l?void 0:l.unstable_sxConfig),d.unstable_sx=function(e){return ZT({sx:e,theme:this})},d}var qC=HC(),WC="$$material";function KC(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=uC(r);return i&&(a=a[i]||a),$x({theme:a,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:qC,themeId:WC})}function GC(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var QC=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;function $C(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var YC=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},XC=GC((function(e){return QC.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),JC=function(e){return"theme"!==e},ZC=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?XC:JC},eI=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},tI=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return YC(t,n,r),CS((function(){return function(e,t,n){YC(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},nI=function e(n,r){var i,a,o=n.__emotion_real===n,s=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var u=eI(n,r,o),l=u||ZC(s),h=!l("as");return function(){var f=arguments,d=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)d.push.apply(d,f);else{0,d.push(f[0][0]);for(var p=f.length,v=1;v<p;v++)d.push(f[v],f[0][v])}var m=rC((function(e,n,r){var i=h&&e.as||s,o="",c=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=t.useContext(iC)}"string"===typeof e.className?o=$C(n.registered,c,e.className):null!=e.className&&(o=e.className+" ");var v=jS(d.concat(c),n.registered,f);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=h&&void 0===u?ZC(i):l,y={};for(var g in e)h&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,t.createElement(t.Fragment,null,t.createElement(tI,{cache:n,serialized:v,isStringTag:"string"===typeof i}),t.createElement(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,c({},r,n,{shouldForwardProp:eI(m,n,!0)})).apply(void 0,d)},m}}.bind();function rI(e,t){return nI(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){nI[e]=nI(e)}));var iI=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},aI=["variant"];function oI(e){return 0===e.length}function sI(e){var t=e.variant,n=ES(e,aI),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?oI(r)?e[t]:Kx(e[t]):"".concat(oI(r)?t:Kx(t)).concat(Kx(e[t].toString()))})),r}var uI=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function lI(e){return"string"===typeof e&&e.charCodeAt(0)>96}var cI=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},hI=function(e){var t={};return e&&e.forEach((function(e){var n=sI(e.props);t[n]=e.style})),t},fI=function(e,t){var n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),hI(n)},dI=function(e,t,n){var r=e.ownerState,i=void 0===r?{}:r,a=[];return n&&n.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){i[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&a.push(t[sI(n.props)])})),a},pI=function(e,t,n,r){var i,a=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return dI(e,t,a)};function vI(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var mI=tC(),yI=function(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e};function gI(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}function kI(e){return e?function(t,n){return n[e]}:null}var _I=function(e){var t,n=e.styledArg,r=e.props,i=n(c({},r,{theme:gI(c({},r,{defaultTheme:e.defaultTheme,themeId:e.themeId}))}));if(i&&i.variants&&(t=i.variants,delete i.variants),t){var a=dI(r,hI(t),t);return[i].concat(G(a))}return i};var bI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?mI:n,i=e.rootShouldForwardProp,a=void 0===i?vI:i,o=e.slotShouldForwardProp,s=void 0===o?vI:o,u=function(e){return ZT(c({},e,{theme:gI(c({},e,{defaultTheme:r,themeId:t}))}))};return u.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};iI(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i,o=n.name,h=n.slot,f=n.skipVariantsResolver,d=n.skipSx,p=n.overridesResolver,v=void 0===p?kI(yI(h)):p,m=ES(n,uI),y=void 0!==f?f:h&&"Root"!==h&&"root"!==h||!1,g=d||!1;var k=vI;"Root"===h||"root"===h?k=a:h?k=s:lI(e)&&(k=void 0);var _=rI(e,c({shouldForwardProp:k,label:i},m)),b=function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var h,f=a?a.map((function(e){if("function"===typeof e&&e.__emotion_real!==e)return function(n){return _I({styledArg:e,props:n,defaultTheme:r,themeId:t})};if(Yx(e)){var n,i=e;return e&&e.variants&&(n=e.variants,delete i.variants,i=function(t){var r=e;return dI(t,hI(n),n).forEach((function(e){r=Jx(r,e)})),r}),i}return e})):[],d=n;Yx(n)?n&&n.variants&&(h=n.variants,delete d.variants,d=function(e){var t=n;return dI(e,hI(h),h).forEach((function(e){t=Jx(t,e)})),t}):"function"===typeof n&&n.__emotion_real!==n&&(d=function(e){return _I({styledArg:n,props:e,defaultTheme:r,themeId:t})});o&&v&&f.push((function(e){var n=gI(c({},e,{defaultTheme:r,themeId:t})),i=cI(o,n);if(i){var a={};return Object.entries(i).forEach((function(t){var r=l(t,2),i=r[0],o=r[1];a[i]="function"===typeof o?o(c({},e,{theme:n})):o})),v(e,a)}return null})),o&&!y&&f.push((function(e){var n=gI(c({},e,{defaultTheme:r,themeId:t}));return pI(e,fI(o,n),n,o)})),g||f.push(u);var p=f.length-a.length;if(Array.isArray(n)&&p>0){var m=new Array(p).fill("");(d=[].concat(G(n),G(m))).raw=[].concat(G(n.raw),G(m))}var k=_.apply(void 0,[d].concat(G(f)));return e.muiName&&(k.muiName=e.muiName),k};return _.withConfig&&(b.withConfig=_.withConfig),b}}({themeId:WC,defaultTheme:qC,rootShouldForwardProp:function(e){return vI(e)&&"classes"!==e}}),wI=bI,EI=function(e){return e},SI=function(){var e=EI;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=EI}}}(),xI={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function TI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=xI[t];return r?"".concat(n,"-").concat(r):"".concat(SI.generate(e),"-").concat(t)}function CI(e){return TI("MuiCircularProgress",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=TI(e,t,n)}))}("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var II,NI,PI,RI,AI,OI,DI,LI,MI=["className","color","disableShrink","size","style","thickness","value","variant"],FI=44,UI=qx(AI||(AI=II||(II=wS(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),jI=qx(OI||(OI=NI||(NI=wS(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),VI=function(e){var t=e.classes,n=e.variant,r=e.color,i=e.disableShrink;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}({root:["root",n,"color".concat(Gx(r))],svg:["svg"],circle:["circle","circle".concat(Gx(n)),i&&"circleDisableShrink"]},CI,t)},zI=wI("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat(Gx(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return c({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Hx(DI||(DI=PI||(PI=wS(["\n      animation: "," 1.4s linear infinite;\n    "]))),UI)})),BI=wI("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),HI=wI("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat(Gx(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return c({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Hx(LI||(LI=RI||(RI=wS(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),jI)})),qI=t.forwardRef((function(e,t){var n=KC({props:e,name:"MuiCircularProgress"}),r=n.className,i=n.color,a=void 0===i?"primary":i,s=n.disableShrink,u=void 0!==s&&s,l=n.size,h=void 0===l?40:l,f=n.style,d=n.thickness,p=void 0===d?3.6:d,v=n.value,m=void 0===v?0:v,y=n.variant,g=void 0===y?"indeterminate":y,k=ES(n,MI),_=c({},n,{color:a,disableShrink:u,size:h,thickness:p,value:m,variant:g}),b=VI(_),w={},E={},S={};if("determinate"===g){var x=2*Math.PI*((FI-p)/2);w.strokeDasharray=x.toFixed(3),S["aria-valuenow"]=Math.round(m),w.strokeDashoffset="".concat(((100-m)/100*x).toFixed(3),"px"),E.transform="rotate(-90deg)"}return(0,o.jsx)(zI,c({className:xS(b.root,r),style:c({width:h,height:h},E,f),ownerState:_,ref:t,role:"progressbar"},S,k,{children:(0,o.jsx)(BI,{className:b.svg,ownerState:_,viewBox:"".concat(22," ").concat(22," ").concat(FI," ").concat(FI),children:(0,o.jsx)(HI,{className:b.circle,style:w,ownerState:_,cx:FI,cy:FI,r:(FI-p)/2,fill:"none",strokeWidth:p})})}))})),WI=qI,KI=function(){var e=l((0,t.useState)(null),2),n=e[0],r=e[1],i=l((0,t.useState)(""),2),a=i[0],s=i[1],u=l((0,t.useState)(""),2),c=u[0],h=u[1],f=l((0,t.useState)(""),2),d=f[0],p=f[1],v=l((0,t.useState)(""),2),m=v[0],y=v[1],g=l((0,t.useState)(""),2),k=g[0],_=g[1],b=l((0,t.useState)(""),2),w=b[0],E=b[1],S=l((0,t.useState)(""),2),x=S[0],T=S[1],C=l((0,t.useState)(""),2),I=C[0],N=C[1],P=l((0,t.useState)(""),2),R=P[0],A=P[1],O=l((0,t.useState)(""),2),D=O[0],L=O[1],M=l((0,t.useState)(""),2),F=M[0],U=M[1],j=l((0,t.useState)(!1),2),V=j[0],z=j[1],B=function(){var e=H(W().mark((function e(t,n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var i=new Image;i.onload=function(){var t=document.createElement("canvas"),r=t.getContext("2d"),a=i.width/i.height,o=Math.min(n,i.width),s=o/a;t.width=o,t.height=s,r.drawImage(i,0,0,o,s),t.toBlob(e,"image/jpeg",.7)},i.onerror=r,i.src=URL.createObjectURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=l((0,t.useState)(!1),2),G=q[0],Q=q[1],$=function(){var e=H(W().mark((function e(){var t,r,i,o;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q(!0),!(n&&a&&m&&k&&w&&x&&I)){e.next=18;break}if(!n.type.startsWith("image/")){e.next=16;break}return e.prev=3,t=hy(dS,"Hospital"),e.next=7,B(n,800);case 7:r=e.sent,s="Hospital/"+a,i=dk(it(fS),s),(o=_k(i,r)).on("state_changed",(function(e){}),(function(e){}),(function(){bk(o.snapshot.ref).then(function(){var e=H(W().mark((function e(n){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jy(t,{image:n,hospitalName:a,doctorName:c,qualification:d,time:"".concat(D,"am To ").concat(F,"pm"),contact:m,address:k,taluka:w,distic:x,state:I,pin:R,timestamp:new Iy("serverTimestamp")});case 2:Q(!1),z(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error adding hospital: ",e.t0);case 16:e.next=19;break;case 18:alert("Please fill all fields");case 19:case"end":return e.stop()}var s}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{className:"addHospital-main-container ",children:[(0,o.jsx)("div",{className:"left"}),(0,o.jsxs)("div",{className:"addHospital-container",children:[V?(0,o.jsx)("div",{className:"overlay-div",children:(0,o.jsxs)("div",{className:"overlay-card",children:[(0,o.jsx)("div",{className:"overlay-text",children:"Successfully Saved"}),(0,o.jsx)("button",{className:"btn btn-outline-light ",onClick:function(){r(null),r(""),s(""),h(""),p(""),y(""),_(""),E(""),T(""),N(""),A(""),L(""),U(""),z(!V),Q(!1)},children:"Close"})]})}):null,(0,o.jsx)("div",{className:"addHospital-image-div",children:(0,o.jsx)("div",{className:"addHospital-image-div-inner",children:(0,o.jsxs)("div",{className:"addHospital-image-color",children:[(0,o.jsxs)("div",{className:"addHospital-logo-div",children:[(0,o.jsx)("img",{src:K,alt:"",className:"addHospital-logo"}),"VChat"]}),(0,o.jsx)("p",{className:"addHospital-text",children:" we use this information for people to search hospitals fast and easy  "})]})})}),(0,o.jsx)("div",{className:"addHospital-Title ",children:"Add A Hopital"}),(0,o.jsxs)("div",{className:"image-div",children:[n?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("label",{htmlFor:"image",className:"image",children:(0,o.jsx)("img",{className:"image",src:n?URL.createObjectURL(n):null,alt:""})})}):(0,o.jsx)("label",{htmlFor:"image",children:(0,o.jsx)("div",{className:"image-null bg-lightDiv dark:bg-darkPostIcon",children:(0,o.jsx)(bS,{className:"image-icon "})})}),(0,o.jsx)("input",{type:"file",id:"image",style:{display:"none"},onChange:function(e){return r(e.target.files[0])}})]}),(0,o.jsx)("div",{className:"addHospital-div  ",children:(0,o.jsxs)("div",{className:"addHoptial-wrapper",children:[(0,o.jsxs)("div",{className:"addHospital-item-div",children:[(0,o.jsx)("div",{className:"addHostpital-item-category",children:"Hospital Name"}),(0,o.jsx)("input",{type:"text",placeholder:"Hospital Name",className:"addHospital-input",value:a,onChange:function(e){return s(e.target.value)}})]}),(0,o.jsxs)("div",{className:"addHospital-item-div text-lightProfileName dark:text-darkProfileName",children:[(0,o.jsx)("div",{className:"addHostpital-item-category",children:"Doctor Name"}),(0,o.jsx)("input",{type:"text",placeholder:"optional",className:"addHospital-input ",value:c,onChange:function(e){return h(e.target.value)}})]}),(0,o.jsxs)("div",{className:"addHospital-item-div text-lightProfileName dark:text-darkProfileName",children:[(0,o.jsx)("div",{className:"addHostpital-item-category",children:"Qualification"}),(0,o.jsx)("input",{type:"text",placeholder:"optional (MBBS)",className:"addHospital-input ",value:d,onChange:function(e){return p(e.target.value)}})]}),(0,o.jsxs)("div",{className:"addHospital-item-div text-lightProfileName dark:text-darkProfileName",children:[(0,o.jsx)("div",{className:"addHostpital-item-category",children:"Contact"}),(0,o.jsx)("input",{type:"text",placeholder:"Contact",className:"addHospital-input ",value:m,onChange:function(e){return y(e.target.value)}})]}),(0,o.jsxs)("div",{className:"addHospital-item-div text-lightProfileName dark:text-darkProfileName",children:[(0,o.jsx)("div",{className:"addHostpital-item-category",children:"Time"}),(0,o.jsx)("input",{type:"text",placeholder:"Am",className:"addHospital-input time-am ",value:D,onChange:function(e){return L(e.target.value)}}),(0,o.jsx)("div",{style:{margin:"0 10px"},children:"To"}),(0,o.jsx)("input",{type:"text",placeholder:"Pm",className:"addHospital-input \r time-pm ",value:F,onChange:function(e){return U(e.target.value)}})]}),(0,o.jsxs)("div",{className:"addHospital-item-div text-lightProfileName dark:text-darkProfileName",children:[(0,o.jsx)("div",{className:"addHostpital-item-category",children:"Address"}),(0,o.jsx)("input",{type:"text",placeholder:"Address",className:"addHospital-input ",value:k,onChange:function(e){return _(e.target.value)}})]}),(0,o.jsxs)("div",{className:"addHospital-item-div text-lightProfileName dark:text-darkProfileName",children:[(0,o.jsx)("div",{className:"addHostpital-item-category",children:"Taluka"}),(0,o.jsx)("input",{type:"text",placeholder:"Taluka",className:"addHospital-input ",value:w,onChange:function(e){return E(e.target.value)}})]}),(0,o.jsxs)("div",{className:"addHospital-item-div text-lightProfileName dark:text-darkProfileName",children:[(0,o.jsx)("div",{className:"addHostpital-item-category",children:"District"}),(0,o.jsx)("input",{type:"text",placeholder:"District",className:"addHospital-input ",value:x,onChange:function(e){return T(e.target.value)}})]}),(0,o.jsxs)("div",{className:"addHospital-item-div text-lightProfileName dark:text-darkProfileName",children:[(0,o.jsx)("div",{className:"addHostpital-item-category",children:"State"}),(0,o.jsx)("input",{type:"text",placeholder:"State",className:"addHospital-input ",value:I,onChange:function(e){return N(e.target.value)}})]}),(0,o.jsxs)("div",{className:"addHospital-item-div text-lightProfileName dark:text-darkProfileName",children:[(0,o.jsx)("div",{className:"addHostpital-item-category",children:"Pin Code"}),(0,o.jsx)("input",{type:"text",placeholder:"Pin Code",className:"addHospital-input ",value:R,onChange:function(e){return A(e.target.value)}})]}),(0,o.jsxs)("div",{className:"addHospital-item-div text-lightProfileName dark:text-darkProfileName",children:[(0,o.jsx)("div",{className:"addHostpital-item-category"}),G?(0,o.jsx)("div",{className:"saveLodingBtn",children:(0,o.jsx)(WI,{className:"loadingCircul"})}):(0,o.jsx)("button",{className:"btn btn-primary ",onClick:$,children:"Submit"})]})]})}),(0,o.jsx)("div",{className:"margin"})]})]})};var GI=function(){return(0,o.jsx)("div",{className:"App",children:(0,o.jsx)(V,{basename:"/VChat_Data",children:(0,o.jsxs)(U,{children:[(0,o.jsx)(M,{path:"/",element:(0,o.jsx)(KI,{})}),(0,o.jsx)(M,{path:"/movie:id/",element:(0,o.jsx)(z,{})})]})})})},QI=function(e){e&&e instanceof Function&&n.e(27).then(n.bind(n,27)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,o.jsx)(t.StrictMode,{children:(0,o.jsx)(GI,{})})),QI()}()}();